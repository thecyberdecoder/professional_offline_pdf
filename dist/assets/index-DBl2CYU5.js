var pv=o=>{throw TypeError(o)};var Gd=(o,t,e)=>t.has(o)||pv("Cannot "+e);var Wt=(o,t,e)=>(Gd(o,t,"read from private field"),e?e.call(o):t.get(o)),Fi=(o,t,e)=>t.has(o)?pv("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(o):t.set(o,e),Ze=(o,t,e,n)=>(Gd(o,t,"write to private field"),n?n.call(o,e):t.set(o,e),e),Bi=(o,t,e)=>(Gd(o,t,"access private method"),e);var mv=(o,t,e,n)=>({set _(s){Ze(o,t,s,e)},get _(){return Wt(o,t,n)}});(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function e(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(s){if(s.ep)return;s.ep=!0;const l=e(s);fetch(s.href,l)}})();function uo(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}var qd={exports:{}},Br={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gv;function J1(){if(gv)return Br;gv=1;var o=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(n,s,l){var c=null;if(l!==void 0&&(c=""+l),s.key!==void 0&&(c=""+s.key),"key"in s){l={};for(var d in s)d!=="key"&&(l[d]=s[d])}else l=s;return s=l.ref,{$$typeof:o,type:n,key:c,ref:s!==void 0?s:null,props:l}}return Br.Fragment=t,Br.jsx=e,Br.jsxs=e,Br}var vv;function tA(){return vv||(vv=1,qd.exports=J1()),qd.exports}var S=tA(),$d={exports:{}},Tt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yv;function eA(){if(yv)return Tt;yv=1;var o=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),v=Symbol.iterator;function y(k){return k===null||typeof k!="object"?null:(k=v&&k[v]||k["@@iterator"],typeof k=="function"?k:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,A={};function T(k,Y,Z){this.props=k,this.context=Y,this.refs=A,this.updater=Z||b}T.prototype.isReactComponent={},T.prototype.setState=function(k,Y){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,Y,"setState")},T.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function E(){}E.prototype=T.prototype;function M(k,Y,Z){this.props=k,this.context=Y,this.refs=A,this.updater=Z||b}var R=M.prototype=new E;R.constructor=M,x(R,T.prototype),R.isPureReactComponent=!0;var N=Array.isArray,D={H:null,A:null,T:null,S:null,V:null},L=Object.prototype.hasOwnProperty;function z(k,Y,Z,Q,et,ft){return Z=ft.ref,{$$typeof:o,type:k,key:Y,ref:Z!==void 0?Z:null,props:ft}}function q(k,Y){return z(k.type,Y,void 0,void 0,void 0,k.props)}function $(k){return typeof k=="object"&&k!==null&&k.$$typeof===o}function W(k){var Y={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(Z){return Y[Z]})}var J=/\/+/g;function nt(k,Y){return typeof k=="object"&&k!==null&&k.key!=null?W(""+k.key):Y.toString(36)}function dt(){}function at(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(dt,dt):(k.status="pending",k.then(function(Y){k.status==="pending"&&(k.status="fulfilled",k.value=Y)},function(Y){k.status==="pending"&&(k.status="rejected",k.reason=Y)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function ht(k,Y,Z,Q,et){var ft=typeof k;(ft==="undefined"||ft==="boolean")&&(k=null);var ot=!1;if(k===null)ot=!0;else switch(ft){case"bigint":case"string":case"number":ot=!0;break;case"object":switch(k.$$typeof){case o:case t:ot=!0;break;case m:return ot=k._init,ht(ot(k._payload),Y,Z,Q,et)}}if(ot)return et=et(k),ot=Q===""?"."+nt(k,0):Q,N(et)?(Z="",ot!=null&&(Z=ot.replace(J,"$&/")+"/"),ht(et,Y,Z,"",function(Te){return Te})):et!=null&&($(et)&&(et=q(et,Z+(et.key==null||k&&k.key===et.key?"":(""+et.key).replace(J,"$&/")+"/")+ot)),Y.push(et)),1;ot=0;var _t=Q===""?".":Q+":";if(N(k))for(var Lt=0;Lt<k.length;Lt++)Q=k[Lt],ft=_t+nt(Q,Lt),ot+=ht(Q,Y,Z,ft,et);else if(Lt=y(k),typeof Lt=="function")for(k=Lt.call(k),Lt=0;!(Q=k.next()).done;)Q=Q.value,ft=_t+nt(Q,Lt++),ot+=ht(Q,Y,Z,ft,et);else if(ft==="object"){if(typeof k.then=="function")return ht(at(k),Y,Z,Q,et);throw Y=String(k),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return ot}function P(k,Y,Z){if(k==null)return k;var Q=[],et=0;return ht(k,Q,"","",function(ft){return Y.call(Z,ft,et++)}),Q}function G(k){if(k._status===-1){var Y=k._result;Y=Y(),Y.then(function(Z){(k._status===0||k._status===-1)&&(k._status=1,k._result=Z)},function(Z){(k._status===0||k._status===-1)&&(k._status=2,k._result=Z)}),k._status===-1&&(k._status=0,k._result=Y)}if(k._status===1)return k._result.default;throw k._result}var tt=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)};function ut(){}return Tt.Children={map:P,forEach:function(k,Y,Z){P(k,function(){Y.apply(this,arguments)},Z)},count:function(k){var Y=0;return P(k,function(){Y++}),Y},toArray:function(k){return P(k,function(Y){return Y})||[]},only:function(k){if(!$(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},Tt.Component=T,Tt.Fragment=e,Tt.Profiler=s,Tt.PureComponent=M,Tt.StrictMode=n,Tt.Suspense=h,Tt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,Tt.__COMPILER_RUNTIME={__proto__:null,c:function(k){return D.H.useMemoCache(k)}},Tt.cache=function(k){return function(){return k.apply(null,arguments)}},Tt.cloneElement=function(k,Y,Z){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var Q=x({},k.props),et=k.key,ft=void 0;if(Y!=null)for(ot in Y.ref!==void 0&&(ft=void 0),Y.key!==void 0&&(et=""+Y.key),Y)!L.call(Y,ot)||ot==="key"||ot==="__self"||ot==="__source"||ot==="ref"&&Y.ref===void 0||(Q[ot]=Y[ot]);var ot=arguments.length-2;if(ot===1)Q.children=Z;else if(1<ot){for(var _t=Array(ot),Lt=0;Lt<ot;Lt++)_t[Lt]=arguments[Lt+2];Q.children=_t}return z(k.type,et,void 0,void 0,ft,Q)},Tt.createContext=function(k){return k={$$typeof:c,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:l,_context:k},k},Tt.createElement=function(k,Y,Z){var Q,et={},ft=null;if(Y!=null)for(Q in Y.key!==void 0&&(ft=""+Y.key),Y)L.call(Y,Q)&&Q!=="key"&&Q!=="__self"&&Q!=="__source"&&(et[Q]=Y[Q]);var ot=arguments.length-2;if(ot===1)et.children=Z;else if(1<ot){for(var _t=Array(ot),Lt=0;Lt<ot;Lt++)_t[Lt]=arguments[Lt+2];et.children=_t}if(k&&k.defaultProps)for(Q in ot=k.defaultProps,ot)et[Q]===void 0&&(et[Q]=ot[Q]);return z(k,ft,void 0,void 0,null,et)},Tt.createRef=function(){return{current:null}},Tt.forwardRef=function(k){return{$$typeof:d,render:k}},Tt.isValidElement=$,Tt.lazy=function(k){return{$$typeof:m,_payload:{_status:-1,_result:k},_init:G}},Tt.memo=function(k,Y){return{$$typeof:f,type:k,compare:Y===void 0?null:Y}},Tt.startTransition=function(k){var Y=D.T,Z={};D.T=Z;try{var Q=k(),et=D.S;et!==null&&et(Z,Q),typeof Q=="object"&&Q!==null&&typeof Q.then=="function"&&Q.then(ut,tt)}catch(ft){tt(ft)}finally{D.T=Y}},Tt.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},Tt.use=function(k){return D.H.use(k)},Tt.useActionState=function(k,Y,Z){return D.H.useActionState(k,Y,Z)},Tt.useCallback=function(k,Y){return D.H.useCallback(k,Y)},Tt.useContext=function(k){return D.H.useContext(k)},Tt.useDebugValue=function(){},Tt.useDeferredValue=function(k,Y){return D.H.useDeferredValue(k,Y)},Tt.useEffect=function(k,Y,Z){var Q=D.H;if(typeof Z=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Q.useEffect(k,Y)},Tt.useId=function(){return D.H.useId()},Tt.useImperativeHandle=function(k,Y,Z){return D.H.useImperativeHandle(k,Y,Z)},Tt.useInsertionEffect=function(k,Y){return D.H.useInsertionEffect(k,Y)},Tt.useLayoutEffect=function(k,Y){return D.H.useLayoutEffect(k,Y)},Tt.useMemo=function(k,Y){return D.H.useMemo(k,Y)},Tt.useOptimistic=function(k,Y){return D.H.useOptimistic(k,Y)},Tt.useReducer=function(k,Y,Z){return D.H.useReducer(k,Y,Z)},Tt.useRef=function(k){return D.H.useRef(k)},Tt.useState=function(k){return D.H.useState(k)},Tt.useSyncExternalStore=function(k,Y,Z){return D.H.useSyncExternalStore(k,Y,Z)},Tt.useTransition=function(){return D.H.useTransition()},Tt.version="19.1.0",Tt}var bv;function zh(){return bv||(bv=1,$d.exports=eA()),$d.exports}var _=zh();const Oe=uo(_);var Vd={exports:{}},Hr={},Yd={exports:{}},Xd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xv;function iA(){return xv||(xv=1,function(o){function t(P,G){var tt=P.length;P.push(G);t:for(;0<tt;){var ut=tt-1>>>1,k=P[ut];if(0<s(k,G))P[ut]=G,P[tt]=k,tt=ut;else break t}}function e(P){return P.length===0?null:P[0]}function n(P){if(P.length===0)return null;var G=P[0],tt=P.pop();if(tt!==G){P[0]=tt;t:for(var ut=0,k=P.length,Y=k>>>1;ut<Y;){var Z=2*(ut+1)-1,Q=P[Z],et=Z+1,ft=P[et];if(0>s(Q,tt))et<k&&0>s(ft,Q)?(P[ut]=ft,P[et]=tt,ut=et):(P[ut]=Q,P[Z]=tt,ut=Z);else if(et<k&&0>s(ft,tt))P[ut]=ft,P[et]=tt,ut=et;else break t}}return G}function s(P,G){var tt=P.sortIndex-G.sortIndex;return tt!==0?tt:P.id-G.id}if(o.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;o.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();o.unstable_now=function(){return c.now()-d}}var h=[],f=[],m=1,v=null,y=3,b=!1,x=!1,A=!1,T=!1,E=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function N(P){for(var G=e(f);G!==null;){if(G.callback===null)n(f);else if(G.startTime<=P)n(f),G.sortIndex=G.expirationTime,t(h,G);else break;G=e(f)}}function D(P){if(A=!1,N(P),!x)if(e(h)!==null)x=!0,L||(L=!0,nt());else{var G=e(f);G!==null&&ht(D,G.startTime-P)}}var L=!1,z=-1,q=5,$=-1;function W(){return T?!0:!(o.unstable_now()-$<q)}function J(){if(T=!1,L){var P=o.unstable_now();$=P;var G=!0;try{t:{x=!1,A&&(A=!1,M(z),z=-1),b=!0;var tt=y;try{e:{for(N(P),v=e(h);v!==null&&!(v.expirationTime>P&&W());){var ut=v.callback;if(typeof ut=="function"){v.callback=null,y=v.priorityLevel;var k=ut(v.expirationTime<=P);if(P=o.unstable_now(),typeof k=="function"){v.callback=k,N(P),G=!0;break e}v===e(h)&&n(h),N(P)}else n(h);v=e(h)}if(v!==null)G=!0;else{var Y=e(f);Y!==null&&ht(D,Y.startTime-P),G=!1}}break t}finally{v=null,y=tt,b=!1}G=void 0}}finally{G?nt():L=!1}}}var nt;if(typeof R=="function")nt=function(){R(J)};else if(typeof MessageChannel<"u"){var dt=new MessageChannel,at=dt.port2;dt.port1.onmessage=J,nt=function(){at.postMessage(null)}}else nt=function(){E(J,0)};function ht(P,G){z=E(function(){P(o.unstable_now())},G)}o.unstable_IdlePriority=5,o.unstable_ImmediatePriority=1,o.unstable_LowPriority=4,o.unstable_NormalPriority=3,o.unstable_Profiling=null,o.unstable_UserBlockingPriority=2,o.unstable_cancelCallback=function(P){P.callback=null},o.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<P?Math.floor(1e3/P):5},o.unstable_getCurrentPriorityLevel=function(){return y},o.unstable_next=function(P){switch(y){case 1:case 2:case 3:var G=3;break;default:G=y}var tt=y;y=G;try{return P()}finally{y=tt}},o.unstable_requestPaint=function(){T=!0},o.unstable_runWithPriority=function(P,G){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var tt=y;y=P;try{return G()}finally{y=tt}},o.unstable_scheduleCallback=function(P,G,tt){var ut=o.unstable_now();switch(typeof tt=="object"&&tt!==null?(tt=tt.delay,tt=typeof tt=="number"&&0<tt?ut+tt:ut):tt=ut,P){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=tt+k,P={id:m++,callback:G,priorityLevel:P,startTime:tt,expirationTime:k,sortIndex:-1},tt>ut?(P.sortIndex=tt,t(f,P),e(h)===null&&P===e(f)&&(A?(M(z),z=-1):A=!0,ht(D,tt-ut))):(P.sortIndex=k,t(h,P),x||b||(x=!0,L||(L=!0,nt()))),P},o.unstable_shouldYield=W,o.unstable_wrapCallback=function(P){var G=y;return function(){var tt=y;y=G;try{return P.apply(this,arguments)}finally{y=tt}}}}(Xd)),Xd}var Av;function nA(){return Av||(Av=1,Yd.exports=iA()),Yd.exports}var Kd={exports:{}},je={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wv;function aA(){if(wv)return je;wv=1;var o=zh();function t(h){var f="https://react.dev/errors/"+h;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)f+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+h+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var n={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},s=Symbol.for("react.portal");function l(h,f,m){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:v==null?null:""+v,children:h,containerInfo:f,implementation:m}}var c=o.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(h,f){if(h==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return je.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,je.createPortal=function(h,f){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return l(h,f,null,m)},je.flushSync=function(h){var f=c.T,m=n.p;try{if(c.T=null,n.p=2,h)return h()}finally{c.T=f,n.p=m,n.d.f()}},je.preconnect=function(h,f){typeof h=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,n.d.C(h,f))},je.prefetchDNS=function(h){typeof h=="string"&&n.d.D(h)},je.preinit=function(h,f){if(typeof h=="string"&&f&&typeof f.as=="string"){var m=f.as,v=d(m,f.crossOrigin),y=typeof f.integrity=="string"?f.integrity:void 0,b=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;m==="style"?n.d.S(h,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:v,integrity:y,fetchPriority:b}):m==="script"&&n.d.X(h,{crossOrigin:v,integrity:y,fetchPriority:b,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},je.preinitModule=function(h,f){if(typeof h=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var m=d(f.as,f.crossOrigin);n.d.M(h,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&n.d.M(h)},je.preload=function(h,f){if(typeof h=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var m=f.as,v=d(m,f.crossOrigin);n.d.L(h,m,{crossOrigin:v,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},je.preloadModule=function(h,f){if(typeof h=="string")if(f){var m=d(f.as,f.crossOrigin);n.d.m(h,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else n.d.m(h)},je.requestFormReset=function(h){n.d.r(h)},je.unstable_batchedUpdates=function(h,f){return h(f)},je.useFormState=function(h,f,m){return c.H.useFormState(h,f,m)},je.useFormStatus=function(){return c.H.useHostTransitionStatus()},je.version="19.1.0",je}var Sv;function My(){if(Sv)return Kd.exports;Sv=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(t){console.error(t)}}return o(),Kd.exports=aA(),Kd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ev;function sA(){if(Ev)return Hr;Ev=1;var o=nA(),t=zh(),e=My();function n(i){var a="https://react.dev/errors/"+i;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)a+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+i+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var a=i,r=i;if(i.alternate)for(;a.return;)a=a.return;else{i=a;do a=i,(a.flags&4098)!==0&&(r=a.return),i=a.return;while(i)}return a.tag===3?r:null}function c(i){if(i.tag===13){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function d(i){if(l(i)!==i)throw Error(n(188))}function h(i){var a=i.alternate;if(!a){if(a=l(i),a===null)throw Error(n(188));return a!==i?null:i}for(var r=i,u=a;;){var p=r.return;if(p===null)break;var g=p.alternate;if(g===null){if(u=p.return,u!==null){r=u;continue}break}if(p.child===g.child){for(g=p.child;g;){if(g===r)return d(p),i;if(g===u)return d(p),a;g=g.sibling}throw Error(n(188))}if(r.return!==u.return)r=p,u=g;else{for(var w=!1,C=p.child;C;){if(C===r){w=!0,r=p,u=g;break}if(C===u){w=!0,u=p,r=g;break}C=C.sibling}if(!w){for(C=g.child;C;){if(C===r){w=!0,r=g,u=p;break}if(C===u){w=!0,u=g,r=p;break}C=C.sibling}if(!w)throw Error(n(189))}}if(r.alternate!==u)throw Error(n(190))}if(r.tag!==3)throw Error(n(188));return r.stateNode.current===r?i:a}function f(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i;for(i=i.child;i!==null;){if(a=f(i),a!==null)return a;i=i.sibling}return null}var m=Object.assign,v=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),M=Symbol.for("react.consumer"),R=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),q=Symbol.for("react.lazy"),$=Symbol.for("react.activity"),W=Symbol.for("react.memo_cache_sentinel"),J=Symbol.iterator;function nt(i){return i===null||typeof i!="object"?null:(i=J&&i[J]||i["@@iterator"],typeof i=="function"?i:null)}var dt=Symbol.for("react.client.reference");function at(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===dt?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case x:return"Fragment";case T:return"Profiler";case A:return"StrictMode";case D:return"Suspense";case L:return"SuspenseList";case $:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case b:return"Portal";case R:return(i.displayName||"Context")+".Provider";case M:return(i._context.displayName||"Context")+".Consumer";case N:var a=i.render;return i=i.displayName,i||(i=a.displayName||a.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case z:return a=i.displayName||null,a!==null?a:at(i.type)||"Memo";case q:a=i._payload,i=i._init;try{return at(i(a))}catch{}}return null}var ht=Array.isArray,P=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,tt={pending:!1,data:null,method:null,action:null},ut=[],k=-1;function Y(i){return{current:i}}function Z(i){0>k||(i.current=ut[k],ut[k]=null,k--)}function Q(i,a){k++,ut[k]=i.current,i.current=a}var et=Y(null),ft=Y(null),ot=Y(null),_t=Y(null);function Lt(i,a){switch(Q(ot,a),Q(ft,i),Q(et,null),a.nodeType){case 9:case 11:i=(i=a.documentElement)&&(i=i.namespaceURI)?Ug(i):0;break;default:if(i=a.tagName,a=a.namespaceURI)a=Ug(a),i=Gg(a,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}Z(et),Q(et,i)}function Te(){Z(et),Z(ft),Z(ot)}function Ve(i){i.memoizedState!==null&&Q(_t,i);var a=et.current,r=Gg(a,i.type);a!==r&&(Q(ft,i),Q(et,r))}function Fe(i){ft.current===i&&(Z(et),Z(ft)),_t.current===i&&(Z(_t),jr._currentValue=tt)}var Ce=Object.prototype.hasOwnProperty,ii=o.unstable_scheduleCallback,ni=o.unstable_cancelCallback,Vt=o.unstable_shouldYield,aa=o.unstable_requestPaint,se=o.unstable_now,Hs=o.unstable_getCurrentPriorityLevel,sa=o.unstable_ImmediatePriority,ra=o.unstable_UserBlockingPriority,Ia=o.unstable_NormalPriority,Nc=o.unstable_LowPriority,_o=o.unstable_IdlePriority,it=o.log,vt=o.unstable_setDisableYieldValue,Yt=null,Pt=null;function ie(i){if(typeof it=="function"&&vt(i),Pt&&typeof Pt.setStrictMode=="function")try{Pt.setStrictMode(Yt,i)}catch{}}var ge=Math.clz32?Math.clz32:Gs,Rn=Math.log,Us=Math.LN2;function Gs(i){return i>>>=0,i===0?32:31-(Rn(i)/Us|0)|0}var Dn=256,Qi=4194304;function Ti(i){var a=i&42;if(a!==0)return a;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Mn(i,a,r){var u=i.pendingLanes;if(u===0)return 0;var p=0,g=i.suspendedLanes,w=i.pingedLanes;i=i.warmLanes;var C=u&134217727;return C!==0?(u=C&~g,u!==0?p=Ti(u):(w&=C,w!==0?p=Ti(w):r||(r=C&~i,r!==0&&(p=Ti(r))))):(C=u&~g,C!==0?p=Ti(C):w!==0?p=Ti(w):r||(r=u&~i,r!==0&&(p=Ti(r)))),p===0?0:a!==0&&a!==p&&(a&g)===0&&(g=p&-p,r=a&-a,g>=r||g===32&&(r&4194048)!==0)?a:p}function Zi(i,a){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&a)===0}function qs(i,a){switch(i){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function To(){var i=Dn;return Dn<<=1,(Dn&4194048)===0&&(Dn=256),i}function Tf(){var i=Qi;return Qi<<=1,(Qi&62914560)===0&&(Qi=4194304),i}function Oc(i){for(var a=[],r=0;31>r;r++)a.push(i);return a}function $s(i,a){i.pendingLanes|=a,a!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function H0(i,a,r,u,p,g){var w=i.pendingLanes;i.pendingLanes=r,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=r,i.entangledLanes&=r,i.errorRecoveryDisabledLanes&=r,i.shellSuspendCounter=0;var C=i.entanglements,O=i.expirationTimes,B=i.hiddenUpdates;for(r=w&~r;0<r;){var V=31-ge(r),K=1<<V;C[V]=0,O[V]=-1;var H=B[V];if(H!==null)for(B[V]=null,V=0;V<H.length;V++){var U=H[V];U!==null&&(U.lane&=-536870913)}r&=~K}u!==0&&Cf(i,u,0),g!==0&&p===0&&i.tag!==0&&(i.suspendedLanes|=g&~(w&~a))}function Cf(i,a,r){i.pendingLanes|=a,i.suspendedLanes&=~a;var u=31-ge(a);i.entangledLanes|=a,i.entanglements[u]=i.entanglements[u]|1073741824|r&4194090}function Rf(i,a){var r=i.entangledLanes|=a;for(i=i.entanglements;r;){var u=31-ge(r),p=1<<u;p&a|i[u]&a&&(i[u]|=a),r&=~p}}function kc(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Lc(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Df(){var i=G.p;return i!==0?i:(i=window.event,i===void 0?32:lv(i.type))}function U0(i,a){var r=G.p;try{return G.p=i,a()}finally{G.p=r}}var Nn=Math.random().toString(36).slice(2),ke="__reactFiber$"+Nn,Ye="__reactProps$"+Nn,Fa="__reactContainer$"+Nn,jc="__reactEvents$"+Nn,G0="__reactListeners$"+Nn,q0="__reactHandles$"+Nn,Mf="__reactResources$"+Nn,Vs="__reactMarker$"+Nn;function Pc(i){delete i[ke],delete i[Ye],delete i[jc],delete i[G0],delete i[q0]}function Ba(i){var a=i[ke];if(a)return a;for(var r=i.parentNode;r;){if(a=r[Fa]||r[ke]){if(r=a.alternate,a.child!==null||r!==null&&r.child!==null)for(i=Yg(i);i!==null;){if(r=i[ke])return r;i=Yg(i)}return a}i=r,r=i.parentNode}return null}function Ha(i){if(i=i[ke]||i[Fa]){var a=i.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return i}return null}function Ys(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i.stateNode;throw Error(n(33))}function Ua(i){var a=i[Mf];return a||(a=i[Mf]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function xe(i){i[Vs]=!0}var Nf=new Set,Of={};function oa(i,a){Ga(i,a),Ga(i+"Capture",a)}function Ga(i,a){for(Of[i]=a,i=0;i<a.length;i++)Nf.add(a[i])}var $0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),kf={},Lf={};function V0(i){return Ce.call(Lf,i)?!0:Ce.call(kf,i)?!1:$0.test(i)?Lf[i]=!0:(kf[i]=!0,!1)}function Co(i,a,r){if(V0(a))if(r===null)i.removeAttribute(a);else{switch(typeof r){case"undefined":case"function":case"symbol":i.removeAttribute(a);return;case"boolean":var u=a.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(a);return}}i.setAttribute(a,""+r)}}function Ro(i,a,r){if(r===null)i.removeAttribute(a);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttribute(a,""+r)}}function Ji(i,a,r,u){if(u===null)i.removeAttribute(r);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttributeNS(a,r,""+u)}}var zc,jf;function qa(i){if(zc===void 0)try{throw Error()}catch(r){var a=r.stack.trim().match(/\n( *(at )?)/);zc=a&&a[1]||"",jf=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+zc+i+jf}var Ic=!1;function Fc(i,a){if(!i||Ic)return"";Ic=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(a){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(U){var H=U}Reflect.construct(i,[],K)}else{try{K.call()}catch(U){H=U}i.call(K.prototype)}}else{try{throw Error()}catch(U){H=U}(K=i())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(U){if(U&&H&&typeof U.stack=="string")return[U.stack,H.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),w=g[0],C=g[1];if(w&&C){var O=w.split(`
`),B=C.split(`
`);for(p=u=0;u<O.length&&!O[u].includes("DetermineComponentFrameRoot");)u++;for(;p<B.length&&!B[p].includes("DetermineComponentFrameRoot");)p++;if(u===O.length||p===B.length)for(u=O.length-1,p=B.length-1;1<=u&&0<=p&&O[u]!==B[p];)p--;for(;1<=u&&0<=p;u--,p--)if(O[u]!==B[p]){if(u!==1||p!==1)do if(u--,p--,0>p||O[u]!==B[p]){var V=`
`+O[u].replace(" at new "," at ");return i.displayName&&V.includes("<anonymous>")&&(V=V.replace("<anonymous>",i.displayName)),V}while(1<=u&&0<=p);break}}}finally{Ic=!1,Error.prepareStackTrace=r}return(r=i?i.displayName||i.name:"")?qa(r):""}function Y0(i){switch(i.tag){case 26:case 27:case 5:return qa(i.type);case 16:return qa("Lazy");case 13:return qa("Suspense");case 19:return qa("SuspenseList");case 0:case 15:return Fc(i.type,!1);case 11:return Fc(i.type.render,!1);case 1:return Fc(i.type,!0);case 31:return qa("Activity");default:return""}}function Pf(i){try{var a="";do a+=Y0(i),i=i.return;while(i);return a}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function pi(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function zf(i){var a=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function X0(i){var a=zf(i)?"checked":"value",r=Object.getOwnPropertyDescriptor(i.constructor.prototype,a),u=""+i[a];if(!i.hasOwnProperty(a)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var p=r.get,g=r.set;return Object.defineProperty(i,a,{configurable:!0,get:function(){return p.call(this)},set:function(w){u=""+w,g.call(this,w)}}),Object.defineProperty(i,a,{enumerable:r.enumerable}),{getValue:function(){return u},setValue:function(w){u=""+w},stopTracking:function(){i._valueTracker=null,delete i[a]}}}}function Do(i){i._valueTracker||(i._valueTracker=X0(i))}function If(i){if(!i)return!1;var a=i._valueTracker;if(!a)return!0;var r=a.getValue(),u="";return i&&(u=zf(i)?i.checked?"true":"false":i.value),i=u,i!==r?(a.setValue(i),!0):!1}function Mo(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var K0=/[\n"\\]/g;function mi(i){return i.replace(K0,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Bc(i,a,r,u,p,g,w,C){i.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?i.type=w:i.removeAttribute("type"),a!=null?w==="number"?(a===0&&i.value===""||i.value!=a)&&(i.value=""+pi(a)):i.value!==""+pi(a)&&(i.value=""+pi(a)):w!=="submit"&&w!=="reset"||i.removeAttribute("value"),a!=null?Hc(i,w,pi(a)):r!=null?Hc(i,w,pi(r)):u!=null&&i.removeAttribute("value"),p==null&&g!=null&&(i.defaultChecked=!!g),p!=null&&(i.checked=p&&typeof p!="function"&&typeof p!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?i.name=""+pi(C):i.removeAttribute("name")}function Ff(i,a,r,u,p,g,w,C){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),a!=null||r!=null){if(!(g!=="submit"&&g!=="reset"||a!=null))return;r=r!=null?""+pi(r):"",a=a!=null?""+pi(a):r,C||a===i.value||(i.value=a),i.defaultValue=a}u=u??p,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=C?i.checked:!!u,i.defaultChecked=!!u,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(i.name=w)}function Hc(i,a,r){a==="number"&&Mo(i.ownerDocument)===i||i.defaultValue===""+r||(i.defaultValue=""+r)}function $a(i,a,r,u){if(i=i.options,a){a={};for(var p=0;p<r.length;p++)a["$"+r[p]]=!0;for(r=0;r<i.length;r++)p=a.hasOwnProperty("$"+i[r].value),i[r].selected!==p&&(i[r].selected=p),p&&u&&(i[r].defaultSelected=!0)}else{for(r=""+pi(r),a=null,p=0;p<i.length;p++){if(i[p].value===r){i[p].selected=!0,u&&(i[p].defaultSelected=!0);return}a!==null||i[p].disabled||(a=i[p])}a!==null&&(a.selected=!0)}}function Bf(i,a,r){if(a!=null&&(a=""+pi(a),a!==i.value&&(i.value=a),r==null)){i.defaultValue!==a&&(i.defaultValue=a);return}i.defaultValue=r!=null?""+pi(r):""}function Hf(i,a,r,u){if(a==null){if(u!=null){if(r!=null)throw Error(n(92));if(ht(u)){if(1<u.length)throw Error(n(93));u=u[0]}r=u}r==null&&(r=""),a=r}r=pi(a),i.defaultValue=r,u=i.textContent,u===r&&u!==""&&u!==null&&(i.value=u)}function Va(i,a){if(a){var r=i.firstChild;if(r&&r===i.lastChild&&r.nodeType===3){r.nodeValue=a;return}}i.textContent=a}var W0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Uf(i,a,r){var u=a.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?u?i.setProperty(a,""):a==="float"?i.cssFloat="":i[a]="":u?i.setProperty(a,r):typeof r!="number"||r===0||W0.has(a)?a==="float"?i.cssFloat=r:i[a]=(""+r).trim():i[a]=r+"px"}function Gf(i,a,r){if(a!=null&&typeof a!="object")throw Error(n(62));if(i=i.style,r!=null){for(var u in r)!r.hasOwnProperty(u)||a!=null&&a.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var p in a)u=a[p],a.hasOwnProperty(p)&&r[p]!==u&&Uf(i,p,u)}else for(var g in a)a.hasOwnProperty(g)&&Uf(i,g,a[g])}function Uc(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Q0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Z0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function No(i){return Z0.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Gc=null;function qc(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Ya=null,Xa=null;function qf(i){var a=Ha(i);if(a&&(i=a.stateNode)){var r=i[Ye]||null;t:switch(i=a.stateNode,a.type){case"input":if(Bc(i,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),a=r.name,r.type==="radio"&&a!=null){for(r=i;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+mi(""+a)+'"][type="radio"]'),a=0;a<r.length;a++){var u=r[a];if(u!==i&&u.form===i.form){var p=u[Ye]||null;if(!p)throw Error(n(90));Bc(u,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(a=0;a<r.length;a++)u=r[a],u.form===i.form&&If(u)}break t;case"textarea":Bf(i,r.value,r.defaultValue);break t;case"select":a=r.value,a!=null&&$a(i,!!r.multiple,a,!1)}}}var $c=!1;function $f(i,a,r){if($c)return i(a,r);$c=!0;try{var u=i(a);return u}finally{if($c=!1,(Ya!==null||Xa!==null)&&(gl(),Ya&&(a=Ya,i=Xa,Xa=Ya=null,qf(a),i)))for(a=0;a<i.length;a++)qf(i[a])}}function Xs(i,a){var r=i.stateNode;if(r===null)return null;var u=r[Ye]||null;if(u===null)return null;r=u[a];t:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break t;default:i=!1}if(i)return null;if(r&&typeof r!="function")throw Error(n(231,a,typeof r));return r}var tn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vc=!1;if(tn)try{var Ks={};Object.defineProperty(Ks,"passive",{get:function(){Vc=!0}}),window.addEventListener("test",Ks,Ks),window.removeEventListener("test",Ks,Ks)}catch{Vc=!1}var On=null,Yc=null,Oo=null;function Vf(){if(Oo)return Oo;var i,a=Yc,r=a.length,u,p="value"in On?On.value:On.textContent,g=p.length;for(i=0;i<r&&a[i]===p[i];i++);var w=r-i;for(u=1;u<=w&&a[r-u]===p[g-u];u++);return Oo=p.slice(i,1<u?1-u:void 0)}function ko(i){var a=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&a===13&&(i=13)):i=a,i===10&&(i=13),32<=i||i===13?i:0}function Lo(){return!0}function Yf(){return!1}function Xe(i){function a(r,u,p,g,w){this._reactName=r,this._targetInst=p,this.type=u,this.nativeEvent=g,this.target=w,this.currentTarget=null;for(var C in i)i.hasOwnProperty(C)&&(r=i[C],this[C]=r?r(g):g[C]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Lo:Yf,this.isPropagationStopped=Yf,this}return m(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Lo)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Lo)},persist:function(){},isPersistent:Lo}),a}var la={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jo=Xe(la),Ws=m({},la,{view:0,detail:0}),J0=Xe(Ws),Xc,Kc,Qs,Po=m({},Ws,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qc,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Qs&&(Qs&&i.type==="mousemove"?(Xc=i.screenX-Qs.screenX,Kc=i.screenY-Qs.screenY):Kc=Xc=0,Qs=i),Xc)},movementY:function(i){return"movementY"in i?i.movementY:Kc}}),Xf=Xe(Po),tx=m({},Po,{dataTransfer:0}),ex=Xe(tx),ix=m({},Ws,{relatedTarget:0}),Wc=Xe(ix),nx=m({},la,{animationName:0,elapsedTime:0,pseudoElement:0}),ax=Xe(nx),sx=m({},la,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),rx=Xe(sx),ox=m({},la,{data:0}),Kf=Xe(ox),lx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ux={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dx(i){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(i):(i=ux[i])?!!a[i]:!1}function Qc(){return dx}var hx=m({},Ws,{key:function(i){if(i.key){var a=lx[i.key]||i.key;if(a!=="Unidentified")return a}return i.type==="keypress"?(i=ko(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?cx[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qc,charCode:function(i){return i.type==="keypress"?ko(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?ko(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),fx=Xe(hx),px=m({},Po,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wf=Xe(px),mx=m({},Ws,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qc}),gx=Xe(mx),vx=m({},la,{propertyName:0,elapsedTime:0,pseudoElement:0}),yx=Xe(vx),bx=m({},Po,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),xx=Xe(bx),Ax=m({},la,{newState:0,oldState:0}),wx=Xe(Ax),Sx=[9,13,27,32],Zc=tn&&"CompositionEvent"in window,Zs=null;tn&&"documentMode"in document&&(Zs=document.documentMode);var Ex=tn&&"TextEvent"in window&&!Zs,Qf=tn&&(!Zc||Zs&&8<Zs&&11>=Zs),Zf=" ",Jf=!1;function tp(i,a){switch(i){case"keyup":return Sx.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ep(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Ka=!1;function _x(i,a){switch(i){case"compositionend":return ep(a);case"keypress":return a.which!==32?null:(Jf=!0,Zf);case"textInput":return i=a.data,i===Zf&&Jf?null:i;default:return null}}function Tx(i,a){if(Ka)return i==="compositionend"||!Zc&&tp(i,a)?(i=Vf(),Oo=Yc=On=null,Ka=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Qf&&a.locale!=="ko"?null:a.data;default:return null}}var Cx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ip(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a==="input"?!!Cx[i.type]:a==="textarea"}function np(i,a,r,u){Ya?Xa?Xa.push(u):Xa=[u]:Ya=u,a=wl(a,"onChange"),0<a.length&&(r=new jo("onChange","change",null,r,u),i.push({event:r,listeners:a}))}var Js=null,tr=null;function Rx(i){zg(i,0)}function zo(i){var a=Ys(i);if(If(a))return i}function ap(i,a){if(i==="change")return a}var sp=!1;if(tn){var Jc;if(tn){var tu="oninput"in document;if(!tu){var rp=document.createElement("div");rp.setAttribute("oninput","return;"),tu=typeof rp.oninput=="function"}Jc=tu}else Jc=!1;sp=Jc&&(!document.documentMode||9<document.documentMode)}function op(){Js&&(Js.detachEvent("onpropertychange",lp),tr=Js=null)}function lp(i){if(i.propertyName==="value"&&zo(tr)){var a=[];np(a,tr,i,qc(i)),$f(Rx,a)}}function Dx(i,a,r){i==="focusin"?(op(),Js=a,tr=r,Js.attachEvent("onpropertychange",lp)):i==="focusout"&&op()}function Mx(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return zo(tr)}function Nx(i,a){if(i==="click")return zo(a)}function Ox(i,a){if(i==="input"||i==="change")return zo(a)}function kx(i,a){return i===a&&(i!==0||1/i===1/a)||i!==i&&a!==a}var ai=typeof Object.is=="function"?Object.is:kx;function er(i,a){if(ai(i,a))return!0;if(typeof i!="object"||i===null||typeof a!="object"||a===null)return!1;var r=Object.keys(i),u=Object.keys(a);if(r.length!==u.length)return!1;for(u=0;u<r.length;u++){var p=r[u];if(!Ce.call(a,p)||!ai(i[p],a[p]))return!1}return!0}function cp(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function up(i,a){var r=cp(i);i=0;for(var u;r;){if(r.nodeType===3){if(u=i+r.textContent.length,i<=a&&u>=a)return{node:r,offset:a-i};i=u}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=cp(r)}}function dp(i,a){return i&&a?i===a?!0:i&&i.nodeType===3?!1:a&&a.nodeType===3?dp(i,a.parentNode):"contains"in i?i.contains(a):i.compareDocumentPosition?!!(i.compareDocumentPosition(a)&16):!1:!1}function hp(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var a=Mo(i.document);a instanceof i.HTMLIFrameElement;){try{var r=typeof a.contentWindow.location.href=="string"}catch{r=!1}if(r)i=a.contentWindow;else break;a=Mo(i.document)}return a}function eu(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a&&(a==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||a==="textarea"||i.contentEditable==="true")}var Lx=tn&&"documentMode"in document&&11>=document.documentMode,Wa=null,iu=null,ir=null,nu=!1;function fp(i,a,r){var u=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;nu||Wa==null||Wa!==Mo(u)||(u=Wa,"selectionStart"in u&&eu(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),ir&&er(ir,u)||(ir=u,u=wl(iu,"onSelect"),0<u.length&&(a=new jo("onSelect","select",null,a,r),i.push({event:a,listeners:u}),a.target=Wa)))}function ca(i,a){var r={};return r[i.toLowerCase()]=a.toLowerCase(),r["Webkit"+i]="webkit"+a,r["Moz"+i]="moz"+a,r}var Qa={animationend:ca("Animation","AnimationEnd"),animationiteration:ca("Animation","AnimationIteration"),animationstart:ca("Animation","AnimationStart"),transitionrun:ca("Transition","TransitionRun"),transitionstart:ca("Transition","TransitionStart"),transitioncancel:ca("Transition","TransitionCancel"),transitionend:ca("Transition","TransitionEnd")},au={},pp={};tn&&(pp=document.createElement("div").style,"AnimationEvent"in window||(delete Qa.animationend.animation,delete Qa.animationiteration.animation,delete Qa.animationstart.animation),"TransitionEvent"in window||delete Qa.transitionend.transition);function ua(i){if(au[i])return au[i];if(!Qa[i])return i;var a=Qa[i],r;for(r in a)if(a.hasOwnProperty(r)&&r in pp)return au[i]=a[r];return i}var mp=ua("animationend"),gp=ua("animationiteration"),vp=ua("animationstart"),jx=ua("transitionrun"),Px=ua("transitionstart"),zx=ua("transitioncancel"),yp=ua("transitionend"),bp=new Map,su="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");su.push("scrollEnd");function Ci(i,a){bp.set(i,a),oa(a,[i])}var xp=new WeakMap;function gi(i,a){if(typeof i=="object"&&i!==null){var r=xp.get(i);return r!==void 0?r:(a={value:i,source:a,stack:Pf(a)},xp.set(i,a),a)}return{value:i,source:a,stack:Pf(a)}}var vi=[],Za=0,ru=0;function Io(){for(var i=Za,a=ru=Za=0;a<i;){var r=vi[a];vi[a++]=null;var u=vi[a];vi[a++]=null;var p=vi[a];vi[a++]=null;var g=vi[a];if(vi[a++]=null,u!==null&&p!==null){var w=u.pending;w===null?p.next=p:(p.next=w.next,w.next=p),u.pending=p}g!==0&&Ap(r,p,g)}}function Fo(i,a,r,u){vi[Za++]=i,vi[Za++]=a,vi[Za++]=r,vi[Za++]=u,ru|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function ou(i,a,r,u){return Fo(i,a,r,u),Bo(i)}function Ja(i,a){return Fo(i,null,null,a),Bo(i)}function Ap(i,a,r){i.lanes|=r;var u=i.alternate;u!==null&&(u.lanes|=r);for(var p=!1,g=i.return;g!==null;)g.childLanes|=r,u=g.alternate,u!==null&&(u.childLanes|=r),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(p=!0)),i=g,g=g.return;return i.tag===3?(g=i.stateNode,p&&a!==null&&(p=31-ge(r),i=g.hiddenUpdates,u=i[p],u===null?i[p]=[a]:u.push(a),a.lane=r|536870912),g):null}function Bo(i){if(50<Cr)throw Cr=0,fd=null,Error(n(185));for(var a=i.return;a!==null;)i=a,a=i.return;return i.tag===3?i.stateNode:null}var ts={};function Ix(i,a,r,u){this.tag=i,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function si(i,a,r,u){return new Ix(i,a,r,u)}function lu(i){return i=i.prototype,!(!i||!i.isReactComponent)}function en(i,a){var r=i.alternate;return r===null?(r=si(i.tag,a,i.key,i.mode),r.elementType=i.elementType,r.type=i.type,r.stateNode=i.stateNode,r.alternate=i,i.alternate=r):(r.pendingProps=a,r.type=i.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=i.flags&65011712,r.childLanes=i.childLanes,r.lanes=i.lanes,r.child=i.child,r.memoizedProps=i.memoizedProps,r.memoizedState=i.memoizedState,r.updateQueue=i.updateQueue,a=i.dependencies,r.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},r.sibling=i.sibling,r.index=i.index,r.ref=i.ref,r.refCleanup=i.refCleanup,r}function wp(i,a){i.flags&=65011714;var r=i.alternate;return r===null?(i.childLanes=0,i.lanes=a,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=r.childLanes,i.lanes=r.lanes,i.child=r.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=r.memoizedProps,i.memoizedState=r.memoizedState,i.updateQueue=r.updateQueue,i.type=r.type,a=r.dependencies,i.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),i}function Ho(i,a,r,u,p,g){var w=0;if(u=i,typeof i=="function")lu(i)&&(w=1);else if(typeof i=="string")w=B1(i,r,et.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case $:return i=si(31,r,a,p),i.elementType=$,i.lanes=g,i;case x:return da(r.children,p,g,a);case A:w=8,p|=24;break;case T:return i=si(12,r,a,p|2),i.elementType=T,i.lanes=g,i;case D:return i=si(13,r,a,p),i.elementType=D,i.lanes=g,i;case L:return i=si(19,r,a,p),i.elementType=L,i.lanes=g,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case E:case R:w=10;break t;case M:w=9;break t;case N:w=11;break t;case z:w=14;break t;case q:w=16,u=null;break t}w=29,r=Error(n(130,i===null?"null":typeof i,"")),u=null}return a=si(w,r,a,p),a.elementType=i,a.type=u,a.lanes=g,a}function da(i,a,r,u){return i=si(7,i,u,a),i.lanes=r,i}function cu(i,a,r){return i=si(6,i,null,a),i.lanes=r,i}function uu(i,a,r){return a=si(4,i.children!==null?i.children:[],i.key,a),a.lanes=r,a.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},a}var es=[],is=0,Uo=null,Go=0,yi=[],bi=0,ha=null,nn=1,an="";function fa(i,a){es[is++]=Go,es[is++]=Uo,Uo=i,Go=a}function Sp(i,a,r){yi[bi++]=nn,yi[bi++]=an,yi[bi++]=ha,ha=i;var u=nn;i=an;var p=32-ge(u)-1;u&=~(1<<p),r+=1;var g=32-ge(a)+p;if(30<g){var w=p-p%5;g=(u&(1<<w)-1).toString(32),u>>=w,p-=w,nn=1<<32-ge(a)+p|r<<p|u,an=g+i}else nn=1<<g|r<<p|u,an=i}function du(i){i.return!==null&&(fa(i,1),Sp(i,1,0))}function hu(i){for(;i===Uo;)Uo=es[--is],es[is]=null,Go=es[--is],es[is]=null;for(;i===ha;)ha=yi[--bi],yi[bi]=null,an=yi[--bi],yi[bi]=null,nn=yi[--bi],yi[bi]=null}var Be=null,ne=null,It=!1,pa=null,Li=!1,fu=Error(n(519));function ma(i){var a=Error(n(418,""));throw sr(gi(a,i)),fu}function Ep(i){var a=i.stateNode,r=i.type,u=i.memoizedProps;switch(a[ke]=i,a[Ye]=u,r){case"dialog":Mt("cancel",a),Mt("close",a);break;case"iframe":case"object":case"embed":Mt("load",a);break;case"video":case"audio":for(r=0;r<Dr.length;r++)Mt(Dr[r],a);break;case"source":Mt("error",a);break;case"img":case"image":case"link":Mt("error",a),Mt("load",a);break;case"details":Mt("toggle",a);break;case"input":Mt("invalid",a),Ff(a,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Do(a);break;case"select":Mt("invalid",a);break;case"textarea":Mt("invalid",a),Hf(a,u.value,u.defaultValue,u.children),Do(a)}r=u.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||a.textContent===""+r||u.suppressHydrationWarning===!0||Hg(a.textContent,r)?(u.popover!=null&&(Mt("beforetoggle",a),Mt("toggle",a)),u.onScroll!=null&&Mt("scroll",a),u.onScrollEnd!=null&&Mt("scrollend",a),u.onClick!=null&&(a.onclick=Sl),a=!0):a=!1,a||ma(i)}function _p(i){for(Be=i.return;Be;)switch(Be.tag){case 5:case 13:Li=!1;return;case 27:case 3:Li=!0;return;default:Be=Be.return}}function nr(i){if(i!==Be)return!1;if(!It)return _p(i),It=!0,!1;var a=i.tag,r;if((r=a!==3&&a!==27)&&((r=a===5)&&(r=i.type,r=!(r!=="form"&&r!=="button")||Dd(i.type,i.memoizedProps)),r=!r),r&&ne&&ma(i),_p(i),a===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));t:{for(i=i.nextSibling,a=0;i;){if(i.nodeType===8)if(r=i.data,r==="/$"){if(a===0){ne=Di(i.nextSibling);break t}a--}else r!=="$"&&r!=="$!"&&r!=="$?"||a++;i=i.nextSibling}ne=null}}else a===27?(a=ne,Xn(i.type)?(i=kd,kd=null,ne=i):ne=a):ne=Be?Di(i.stateNode.nextSibling):null;return!0}function ar(){ne=Be=null,It=!1}function Tp(){var i=pa;return i!==null&&(Qe===null?Qe=i:Qe.push.apply(Qe,i),pa=null),i}function sr(i){pa===null?pa=[i]:pa.push(i)}var pu=Y(null),ga=null,sn=null;function kn(i,a,r){Q(pu,a._currentValue),a._currentValue=r}function rn(i){i._currentValue=pu.current,Z(pu)}function mu(i,a,r){for(;i!==null;){var u=i.alternate;if((i.childLanes&a)!==a?(i.childLanes|=a,u!==null&&(u.childLanes|=a)):u!==null&&(u.childLanes&a)!==a&&(u.childLanes|=a),i===r)break;i=i.return}}function gu(i,a,r,u){var p=i.child;for(p!==null&&(p.return=i);p!==null;){var g=p.dependencies;if(g!==null){var w=p.child;g=g.firstContext;t:for(;g!==null;){var C=g;g=p;for(var O=0;O<a.length;O++)if(C.context===a[O]){g.lanes|=r,C=g.alternate,C!==null&&(C.lanes|=r),mu(g.return,r,i),u||(w=null);break t}g=C.next}}else if(p.tag===18){if(w=p.return,w===null)throw Error(n(341));w.lanes|=r,g=w.alternate,g!==null&&(g.lanes|=r),mu(w,r,i),w=null}else w=p.child;if(w!==null)w.return=p;else for(w=p;w!==null;){if(w===i){w=null;break}if(p=w.sibling,p!==null){p.return=w.return,w=p;break}w=w.return}p=w}}function rr(i,a,r,u){i=null;for(var p=a,g=!1;p!==null;){if(!g){if((p.flags&524288)!==0)g=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var w=p.alternate;if(w===null)throw Error(n(387));if(w=w.memoizedProps,w!==null){var C=p.type;ai(p.pendingProps.value,w.value)||(i!==null?i.push(C):i=[C])}}else if(p===_t.current){if(w=p.alternate,w===null)throw Error(n(387));w.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(i!==null?i.push(jr):i=[jr])}p=p.return}i!==null&&gu(a,i,r,u),a.flags|=262144}function qo(i){for(i=i.firstContext;i!==null;){if(!ai(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function va(i){ga=i,sn=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Le(i){return Cp(ga,i)}function $o(i,a){return ga===null&&va(i),Cp(i,a)}function Cp(i,a){var r=a._currentValue;if(a={context:a,memoizedValue:r,next:null},sn===null){if(i===null)throw Error(n(308));sn=a,i.dependencies={lanes:0,firstContext:a},i.flags|=524288}else sn=sn.next=a;return r}var Fx=typeof AbortController<"u"?AbortController:function(){var i=[],a=this.signal={aborted:!1,addEventListener:function(r,u){i.push(u)}};this.abort=function(){a.aborted=!0,i.forEach(function(r){return r()})}},Bx=o.unstable_scheduleCallback,Hx=o.unstable_NormalPriority,ve={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function vu(){return{controller:new Fx,data:new Map,refCount:0}}function or(i){i.refCount--,i.refCount===0&&Bx(Hx,function(){i.controller.abort()})}var lr=null,yu=0,ns=0,as=null;function Ux(i,a){if(lr===null){var r=lr=[];yu=0,ns=xd(),as={status:"pending",value:void 0,then:function(u){r.push(u)}}}return yu++,a.then(Rp,Rp),a}function Rp(){if(--yu===0&&lr!==null){as!==null&&(as.status="fulfilled");var i=lr;lr=null,ns=0,as=null;for(var a=0;a<i.length;a++)(0,i[a])()}}function Gx(i,a){var r=[],u={status:"pending",value:null,reason:null,then:function(p){r.push(p)}};return i.then(function(){u.status="fulfilled",u.value=a;for(var p=0;p<r.length;p++)(0,r[p])(a)},function(p){for(u.status="rejected",u.reason=p,p=0;p<r.length;p++)(0,r[p])(void 0)}),u}var Dp=P.S;P.S=function(i,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&Ux(i,a),Dp!==null&&Dp(i,a)};var ya=Y(null);function bu(){var i=ya.current;return i!==null?i:Xt.pooledCache}function Vo(i,a){a===null?Q(ya,ya.current):Q(ya,a.pool)}function Mp(){var i=bu();return i===null?null:{parent:ve._currentValue,pool:i}}var cr=Error(n(460)),Np=Error(n(474)),Yo=Error(n(542)),xu={then:function(){}};function Op(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Xo(){}function kp(i,a,r){switch(r=i[r],r===void 0?i.push(a):r!==a&&(a.then(Xo,Xo),a=r),a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,jp(i),i;default:if(typeof a.status=="string")a.then(Xo,Xo);else{if(i=Xt,i!==null&&100<i.shellSuspendCounter)throw Error(n(482));i=a,i.status="pending",i.then(function(u){if(a.status==="pending"){var p=a;p.status="fulfilled",p.value=u}},function(u){if(a.status==="pending"){var p=a;p.status="rejected",p.reason=u}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,jp(i),i}throw ur=a,cr}}var ur=null;function Lp(){if(ur===null)throw Error(n(459));var i=ur;return ur=null,i}function jp(i){if(i===cr||i===Yo)throw Error(n(483))}var Ln=!1;function Au(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function wu(i,a){i=i.updateQueue,a.updateQueue===i&&(a.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function jn(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Pn(i,a,r){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(Ft&2)!==0){var p=u.pending;return p===null?a.next=a:(a.next=p.next,p.next=a),u.pending=a,a=Bo(i),Ap(i,null,r),a}return Fo(i,u,a,r),Bo(i)}function dr(i,a,r){if(a=a.updateQueue,a!==null&&(a=a.shared,(r&4194048)!==0)){var u=a.lanes;u&=i.pendingLanes,r|=u,a.lanes=r,Rf(i,r)}}function Su(i,a){var r=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,r===u)){var p=null,g=null;if(r=r.firstBaseUpdate,r!==null){do{var w={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};g===null?p=g=w:g=g.next=w,r=r.next}while(r!==null);g===null?p=g=a:g=g.next=a}else p=g=a;r={baseState:u.baseState,firstBaseUpdate:p,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},i.updateQueue=r;return}i=r.lastBaseUpdate,i===null?r.firstBaseUpdate=a:i.next=a,r.lastBaseUpdate=a}var Eu=!1;function hr(){if(Eu){var i=as;if(i!==null)throw i}}function fr(i,a,r,u){Eu=!1;var p=i.updateQueue;Ln=!1;var g=p.firstBaseUpdate,w=p.lastBaseUpdate,C=p.shared.pending;if(C!==null){p.shared.pending=null;var O=C,B=O.next;O.next=null,w===null?g=B:w.next=B,w=O;var V=i.alternate;V!==null&&(V=V.updateQueue,C=V.lastBaseUpdate,C!==w&&(C===null?V.firstBaseUpdate=B:C.next=B,V.lastBaseUpdate=O))}if(g!==null){var K=p.baseState;w=0,V=B=O=null,C=g;do{var H=C.lane&-536870913,U=H!==C.lane;if(U?(jt&H)===H:(u&H)===H){H!==0&&H===ns&&(Eu=!0),V!==null&&(V=V.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});t:{var At=i,mt=C;H=a;var Gt=r;switch(mt.tag){case 1:if(At=mt.payload,typeof At=="function"){K=At.call(Gt,K,H);break t}K=At;break t;case 3:At.flags=At.flags&-65537|128;case 0:if(At=mt.payload,H=typeof At=="function"?At.call(Gt,K,H):At,H==null)break t;K=m({},K,H);break t;case 2:Ln=!0}}H=C.callback,H!==null&&(i.flags|=64,U&&(i.flags|=8192),U=p.callbacks,U===null?p.callbacks=[H]:U.push(H))}else U={lane:H,tag:C.tag,payload:C.payload,callback:C.callback,next:null},V===null?(B=V=U,O=K):V=V.next=U,w|=H;if(C=C.next,C===null){if(C=p.shared.pending,C===null)break;U=C,C=U.next,U.next=null,p.lastBaseUpdate=U,p.shared.pending=null}}while(!0);V===null&&(O=K),p.baseState=O,p.firstBaseUpdate=B,p.lastBaseUpdate=V,g===null&&(p.shared.lanes=0),qn|=w,i.lanes=w,i.memoizedState=K}}function Pp(i,a){if(typeof i!="function")throw Error(n(191,i));i.call(a)}function zp(i,a){var r=i.callbacks;if(r!==null)for(i.callbacks=null,i=0;i<r.length;i++)Pp(r[i],a)}var ss=Y(null),Ko=Y(0);function Ip(i,a){i=fn,Q(Ko,i),Q(ss,a),fn=i|a.baseLanes}function _u(){Q(Ko,fn),Q(ss,ss.current)}function Tu(){fn=Ko.current,Z(ss),Z(Ko)}var zn=0,Ct=null,Ht=null,he=null,Wo=!1,rs=!1,ba=!1,Qo=0,pr=0,os=null,qx=0;function re(){throw Error(n(321))}function Cu(i,a){if(a===null)return!1;for(var r=0;r<a.length&&r<i.length;r++)if(!ai(i[r],a[r]))return!1;return!0}function Ru(i,a,r,u,p,g){return zn=g,Ct=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,P.H=i===null||i.memoizedState===null?Am:wm,ba=!1,g=r(u,p),ba=!1,rs&&(g=Bp(a,r,u,p)),Fp(i),g}function Fp(i){P.H=nl;var a=Ht!==null&&Ht.next!==null;if(zn=0,he=Ht=Ct=null,Wo=!1,pr=0,os=null,a)throw Error(n(300));i===null||Ae||(i=i.dependencies,i!==null&&qo(i)&&(Ae=!0))}function Bp(i,a,r,u){Ct=i;var p=0;do{if(rs&&(os=null),pr=0,rs=!1,25<=p)throw Error(n(301));if(p+=1,he=Ht=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}P.H=Qx,g=a(r,u)}while(rs);return g}function $x(){var i=P.H,a=i.useState()[0];return a=typeof a.then=="function"?mr(a):a,i=i.useState()[0],(Ht!==null?Ht.memoizedState:null)!==i&&(Ct.flags|=1024),a}function Du(){var i=Qo!==0;return Qo=0,i}function Mu(i,a,r){a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~r}function Nu(i){if(Wo){for(i=i.memoizedState;i!==null;){var a=i.queue;a!==null&&(a.pending=null),i=i.next}Wo=!1}zn=0,he=Ht=Ct=null,rs=!1,pr=Qo=0,os=null}function Ke(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return he===null?Ct.memoizedState=he=i:he=he.next=i,he}function fe(){if(Ht===null){var i=Ct.alternate;i=i!==null?i.memoizedState:null}else i=Ht.next;var a=he===null?Ct.memoizedState:he.next;if(a!==null)he=a,Ht=i;else{if(i===null)throw Ct.alternate===null?Error(n(467)):Error(n(310));Ht=i,i={memoizedState:Ht.memoizedState,baseState:Ht.baseState,baseQueue:Ht.baseQueue,queue:Ht.queue,next:null},he===null?Ct.memoizedState=he=i:he=he.next=i}return he}function Ou(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function mr(i){var a=pr;return pr+=1,os===null&&(os=[]),i=kp(os,i,a),a=Ct,(he===null?a.memoizedState:he.next)===null&&(a=a.alternate,P.H=a===null||a.memoizedState===null?Am:wm),i}function Zo(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return mr(i);if(i.$$typeof===R)return Le(i)}throw Error(n(438,String(i)))}function ku(i){var a=null,r=Ct.updateQueue;if(r!==null&&(a=r.memoCache),a==null){var u=Ct.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(a={data:u.data.map(function(p){return p.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),r===null&&(r=Ou(),Ct.updateQueue=r),r.memoCache=a,r=a.data[a.index],r===void 0)for(r=a.data[a.index]=Array(i),u=0;u<i;u++)r[u]=W;return a.index++,r}function on(i,a){return typeof a=="function"?a(i):a}function Jo(i){var a=fe();return Lu(a,Ht,i)}function Lu(i,a,r){var u=i.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=r;var p=i.baseQueue,g=u.pending;if(g!==null){if(p!==null){var w=p.next;p.next=g.next,g.next=w}a.baseQueue=p=g,u.pending=null}if(g=i.baseState,p===null)i.memoizedState=g;else{a=p.next;var C=w=null,O=null,B=a,V=!1;do{var K=B.lane&-536870913;if(K!==B.lane?(jt&K)===K:(zn&K)===K){var H=B.revertLane;if(H===0)O!==null&&(O=O.next={lane:0,revertLane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),K===ns&&(V=!0);else if((zn&H)===H){B=B.next,H===ns&&(V=!0);continue}else K={lane:0,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},O===null?(C=O=K,w=g):O=O.next=K,Ct.lanes|=H,qn|=H;K=B.action,ba&&r(g,K),g=B.hasEagerState?B.eagerState:r(g,K)}else H={lane:K,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},O===null?(C=O=H,w=g):O=O.next=H,Ct.lanes|=K,qn|=K;B=B.next}while(B!==null&&B!==a);if(O===null?w=g:O.next=C,!ai(g,i.memoizedState)&&(Ae=!0,V&&(r=as,r!==null)))throw r;i.memoizedState=g,i.baseState=w,i.baseQueue=O,u.lastRenderedState=g}return p===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function ju(i){var a=fe(),r=a.queue;if(r===null)throw Error(n(311));r.lastRenderedReducer=i;var u=r.dispatch,p=r.pending,g=a.memoizedState;if(p!==null){r.pending=null;var w=p=p.next;do g=i(g,w.action),w=w.next;while(w!==p);ai(g,a.memoizedState)||(Ae=!0),a.memoizedState=g,a.baseQueue===null&&(a.baseState=g),r.lastRenderedState=g}return[g,u]}function Hp(i,a,r){var u=Ct,p=fe(),g=It;if(g){if(r===void 0)throw Error(n(407));r=r()}else r=a();var w=!ai((Ht||p).memoizedState,r);w&&(p.memoizedState=r,Ae=!0),p=p.queue;var C=qp.bind(null,u,p,i);if(gr(2048,8,C,[i]),p.getSnapshot!==a||w||he!==null&&he.memoizedState.tag&1){if(u.flags|=2048,ls(9,tl(),Gp.bind(null,u,p,r,a),null),Xt===null)throw Error(n(349));g||(zn&124)!==0||Up(u,a,r)}return r}function Up(i,a,r){i.flags|=16384,i={getSnapshot:a,value:r},a=Ct.updateQueue,a===null?(a=Ou(),Ct.updateQueue=a,a.stores=[i]):(r=a.stores,r===null?a.stores=[i]:r.push(i))}function Gp(i,a,r,u){a.value=r,a.getSnapshot=u,$p(a)&&Vp(i)}function qp(i,a,r){return r(function(){$p(a)&&Vp(i)})}function $p(i){var a=i.getSnapshot;i=i.value;try{var r=a();return!ai(i,r)}catch{return!0}}function Vp(i){var a=Ja(i,2);a!==null&&ui(a,i,2)}function Pu(i){var a=Ke();if(typeof i=="function"){var r=i;if(i=r(),ba){ie(!0);try{r()}finally{ie(!1)}}}return a.memoizedState=a.baseState=i,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:on,lastRenderedState:i},a}function Yp(i,a,r,u){return i.baseState=r,Lu(i,Ht,typeof u=="function"?u:on)}function Vx(i,a,r,u,p){if(il(i))throw Error(n(485));if(i=a.action,i!==null){var g={payload:p,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){g.listeners.push(w)}};P.T!==null?r(!0):g.isTransition=!1,u(g),r=a.pending,r===null?(g.next=a.pending=g,Xp(a,g)):(g.next=r.next,a.pending=r.next=g)}}function Xp(i,a){var r=a.action,u=a.payload,p=i.state;if(a.isTransition){var g=P.T,w={};P.T=w;try{var C=r(p,u),O=P.S;O!==null&&O(w,C),Kp(i,a,C)}catch(B){zu(i,a,B)}finally{P.T=g}}else try{g=r(p,u),Kp(i,a,g)}catch(B){zu(i,a,B)}}function Kp(i,a,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(u){Wp(i,a,u)},function(u){return zu(i,a,u)}):Wp(i,a,r)}function Wp(i,a,r){a.status="fulfilled",a.value=r,Qp(a),i.state=r,a=i.pending,a!==null&&(r=a.next,r===a?i.pending=null:(r=r.next,a.next=r,Xp(i,r)))}function zu(i,a,r){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do a.status="rejected",a.reason=r,Qp(a),a=a.next;while(a!==u)}i.action=null}function Qp(i){i=i.listeners;for(var a=0;a<i.length;a++)(0,i[a])()}function Zp(i,a){return a}function Jp(i,a){if(It){var r=Xt.formState;if(r!==null){t:{var u=Ct;if(It){if(ne){e:{for(var p=ne,g=Li;p.nodeType!==8;){if(!g){p=null;break e}if(p=Di(p.nextSibling),p===null){p=null;break e}}g=p.data,p=g==="F!"||g==="F"?p:null}if(p){ne=Di(p.nextSibling),u=p.data==="F!";break t}}ma(u)}u=!1}u&&(a=r[0])}}return r=Ke(),r.memoizedState=r.baseState=a,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zp,lastRenderedState:a},r.queue=u,r=ym.bind(null,Ct,u),u.dispatch=r,u=Pu(!1),g=Uu.bind(null,Ct,!1,u.queue),u=Ke(),p={state:a,dispatch:null,action:i,pending:null},u.queue=p,r=Vx.bind(null,Ct,p,g,r),p.dispatch=r,u.memoizedState=i,[a,r,!1]}function tm(i){var a=fe();return em(a,Ht,i)}function em(i,a,r){if(a=Lu(i,a,Zp)[0],i=Jo(on)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var u=mr(a)}catch(w){throw w===cr?Yo:w}else u=a;a=fe();var p=a.queue,g=p.dispatch;return r!==a.memoizedState&&(Ct.flags|=2048,ls(9,tl(),Yx.bind(null,p,r),null)),[u,g,i]}function Yx(i,a){i.action=a}function im(i){var a=fe(),r=Ht;if(r!==null)return em(a,r,i);fe(),a=a.memoizedState,r=fe();var u=r.queue.dispatch;return r.memoizedState=i,[a,u,!1]}function ls(i,a,r,u){return i={tag:i,create:r,deps:u,inst:a,next:null},a=Ct.updateQueue,a===null&&(a=Ou(),Ct.updateQueue=a),r=a.lastEffect,r===null?a.lastEffect=i.next=i:(u=r.next,r.next=i,i.next=u,a.lastEffect=i),i}function tl(){return{destroy:void 0,resource:void 0}}function nm(){return fe().memoizedState}function el(i,a,r,u){var p=Ke();u=u===void 0?null:u,Ct.flags|=i,p.memoizedState=ls(1|a,tl(),r,u)}function gr(i,a,r,u){var p=fe();u=u===void 0?null:u;var g=p.memoizedState.inst;Ht!==null&&u!==null&&Cu(u,Ht.memoizedState.deps)?p.memoizedState=ls(a,g,r,u):(Ct.flags|=i,p.memoizedState=ls(1|a,g,r,u))}function am(i,a){el(8390656,8,i,a)}function sm(i,a){gr(2048,8,i,a)}function rm(i,a){return gr(4,2,i,a)}function om(i,a){return gr(4,4,i,a)}function lm(i,a){if(typeof a=="function"){i=i();var r=a(i);return function(){typeof r=="function"?r():a(null)}}if(a!=null)return i=i(),a.current=i,function(){a.current=null}}function cm(i,a,r){r=r!=null?r.concat([i]):null,gr(4,4,lm.bind(null,a,i),r)}function Iu(){}function um(i,a){var r=fe();a=a===void 0?null:a;var u=r.memoizedState;return a!==null&&Cu(a,u[1])?u[0]:(r.memoizedState=[i,a],i)}function dm(i,a){var r=fe();a=a===void 0?null:a;var u=r.memoizedState;if(a!==null&&Cu(a,u[1]))return u[0];if(u=i(),ba){ie(!0);try{i()}finally{ie(!1)}}return r.memoizedState=[u,a],u}function Fu(i,a,r){return r===void 0||(zn&1073741824)!==0?i.memoizedState=a:(i.memoizedState=r,i=pg(),Ct.lanes|=i,qn|=i,r)}function hm(i,a,r,u){return ai(r,a)?r:ss.current!==null?(i=Fu(i,r,u),ai(i,a)||(Ae=!0),i):(zn&42)===0?(Ae=!0,i.memoizedState=r):(i=pg(),Ct.lanes|=i,qn|=i,a)}function fm(i,a,r,u,p){var g=G.p;G.p=g!==0&&8>g?g:8;var w=P.T,C={};P.T=C,Uu(i,!1,a,r);try{var O=p(),B=P.S;if(B!==null&&B(C,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var V=Gx(O,u);vr(i,a,V,ci(i))}else vr(i,a,u,ci(i))}catch(K){vr(i,a,{then:function(){},status:"rejected",reason:K},ci())}finally{G.p=g,P.T=w}}function Xx(){}function Bu(i,a,r,u){if(i.tag!==5)throw Error(n(476));var p=pm(i).queue;fm(i,p,a,tt,r===null?Xx:function(){return mm(i),r(u)})}function pm(i){var a=i.memoizedState;if(a!==null)return a;a={memoizedState:tt,baseState:tt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:on,lastRenderedState:tt},next:null};var r={};return a.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:on,lastRenderedState:r},next:null},i.memoizedState=a,i=i.alternate,i!==null&&(i.memoizedState=a),a}function mm(i){var a=pm(i).next.queue;vr(i,a,{},ci())}function Hu(){return Le(jr)}function gm(){return fe().memoizedState}function vm(){return fe().memoizedState}function Kx(i){for(var a=i.return;a!==null;){switch(a.tag){case 24:case 3:var r=ci();i=jn(r);var u=Pn(a,i,r);u!==null&&(ui(u,a,r),dr(u,a,r)),a={cache:vu()},i.payload=a;return}a=a.return}}function Wx(i,a,r){var u=ci();r={lane:u,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},il(i)?bm(a,r):(r=ou(i,a,r,u),r!==null&&(ui(r,i,u),xm(r,a,u)))}function ym(i,a,r){var u=ci();vr(i,a,r,u)}function vr(i,a,r,u){var p={lane:u,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(il(i))bm(a,p);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=a.lastRenderedReducer,g!==null))try{var w=a.lastRenderedState,C=g(w,r);if(p.hasEagerState=!0,p.eagerState=C,ai(C,w))return Fo(i,a,p,0),Xt===null&&Io(),!1}catch{}finally{}if(r=ou(i,a,p,u),r!==null)return ui(r,i,u),xm(r,a,u),!0}return!1}function Uu(i,a,r,u){if(u={lane:2,revertLane:xd(),action:u,hasEagerState:!1,eagerState:null,next:null},il(i)){if(a)throw Error(n(479))}else a=ou(i,r,u,2),a!==null&&ui(a,i,2)}function il(i){var a=i.alternate;return i===Ct||a!==null&&a===Ct}function bm(i,a){rs=Wo=!0;var r=i.pending;r===null?a.next=a:(a.next=r.next,r.next=a),i.pending=a}function xm(i,a,r){if((r&4194048)!==0){var u=a.lanes;u&=i.pendingLanes,r|=u,a.lanes=r,Rf(i,r)}}var nl={readContext:Le,use:Zo,useCallback:re,useContext:re,useEffect:re,useImperativeHandle:re,useLayoutEffect:re,useInsertionEffect:re,useMemo:re,useReducer:re,useRef:re,useState:re,useDebugValue:re,useDeferredValue:re,useTransition:re,useSyncExternalStore:re,useId:re,useHostTransitionStatus:re,useFormState:re,useActionState:re,useOptimistic:re,useMemoCache:re,useCacheRefresh:re},Am={readContext:Le,use:Zo,useCallback:function(i,a){return Ke().memoizedState=[i,a===void 0?null:a],i},useContext:Le,useEffect:am,useImperativeHandle:function(i,a,r){r=r!=null?r.concat([i]):null,el(4194308,4,lm.bind(null,a,i),r)},useLayoutEffect:function(i,a){return el(4194308,4,i,a)},useInsertionEffect:function(i,a){el(4,2,i,a)},useMemo:function(i,a){var r=Ke();a=a===void 0?null:a;var u=i();if(ba){ie(!0);try{i()}finally{ie(!1)}}return r.memoizedState=[u,a],u},useReducer:function(i,a,r){var u=Ke();if(r!==void 0){var p=r(a);if(ba){ie(!0);try{r(a)}finally{ie(!1)}}}else p=a;return u.memoizedState=u.baseState=p,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:p},u.queue=i,i=i.dispatch=Wx.bind(null,Ct,i),[u.memoizedState,i]},useRef:function(i){var a=Ke();return i={current:i},a.memoizedState=i},useState:function(i){i=Pu(i);var a=i.queue,r=ym.bind(null,Ct,a);return a.dispatch=r,[i.memoizedState,r]},useDebugValue:Iu,useDeferredValue:function(i,a){var r=Ke();return Fu(r,i,a)},useTransition:function(){var i=Pu(!1);return i=fm.bind(null,Ct,i.queue,!0,!1),Ke().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,a,r){var u=Ct,p=Ke();if(It){if(r===void 0)throw Error(n(407));r=r()}else{if(r=a(),Xt===null)throw Error(n(349));(jt&124)!==0||Up(u,a,r)}p.memoizedState=r;var g={value:r,getSnapshot:a};return p.queue=g,am(qp.bind(null,u,g,i),[i]),u.flags|=2048,ls(9,tl(),Gp.bind(null,u,g,r,a),null),r},useId:function(){var i=Ke(),a=Xt.identifierPrefix;if(It){var r=an,u=nn;r=(u&~(1<<32-ge(u)-1)).toString(32)+r,a=""+a+"R"+r,r=Qo++,0<r&&(a+="H"+r.toString(32)),a+=""}else r=qx++,a=""+a+"r"+r.toString(32)+"";return i.memoizedState=a},useHostTransitionStatus:Hu,useFormState:Jp,useActionState:Jp,useOptimistic:function(i){var a=Ke();a.memoizedState=a.baseState=i;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=r,a=Uu.bind(null,Ct,!0,r),r.dispatch=a,[i,a]},useMemoCache:ku,useCacheRefresh:function(){return Ke().memoizedState=Kx.bind(null,Ct)}},wm={readContext:Le,use:Zo,useCallback:um,useContext:Le,useEffect:sm,useImperativeHandle:cm,useInsertionEffect:rm,useLayoutEffect:om,useMemo:dm,useReducer:Jo,useRef:nm,useState:function(){return Jo(on)},useDebugValue:Iu,useDeferredValue:function(i,a){var r=fe();return hm(r,Ht.memoizedState,i,a)},useTransition:function(){var i=Jo(on)[0],a=fe().memoizedState;return[typeof i=="boolean"?i:mr(i),a]},useSyncExternalStore:Hp,useId:gm,useHostTransitionStatus:Hu,useFormState:tm,useActionState:tm,useOptimistic:function(i,a){var r=fe();return Yp(r,Ht,i,a)},useMemoCache:ku,useCacheRefresh:vm},Qx={readContext:Le,use:Zo,useCallback:um,useContext:Le,useEffect:sm,useImperativeHandle:cm,useInsertionEffect:rm,useLayoutEffect:om,useMemo:dm,useReducer:ju,useRef:nm,useState:function(){return ju(on)},useDebugValue:Iu,useDeferredValue:function(i,a){var r=fe();return Ht===null?Fu(r,i,a):hm(r,Ht.memoizedState,i,a)},useTransition:function(){var i=ju(on)[0],a=fe().memoizedState;return[typeof i=="boolean"?i:mr(i),a]},useSyncExternalStore:Hp,useId:gm,useHostTransitionStatus:Hu,useFormState:im,useActionState:im,useOptimistic:function(i,a){var r=fe();return Ht!==null?Yp(r,Ht,i,a):(r.baseState=i,[i,r.queue.dispatch])},useMemoCache:ku,useCacheRefresh:vm},cs=null,yr=0;function al(i){var a=yr;return yr+=1,cs===null&&(cs=[]),kp(cs,i,a)}function br(i,a){a=a.props.ref,i.ref=a!==void 0?a:null}function sl(i,a){throw a.$$typeof===v?Error(n(525)):(i=Object.prototype.toString.call(a),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":i)))}function Sm(i){var a=i._init;return a(i._payload)}function Em(i){function a(I,j){if(i){var F=I.deletions;F===null?(I.deletions=[j],I.flags|=16):F.push(j)}}function r(I,j){if(!i)return null;for(;j!==null;)a(I,j),j=j.sibling;return null}function u(I){for(var j=new Map;I!==null;)I.key!==null?j.set(I.key,I):j.set(I.index,I),I=I.sibling;return j}function p(I,j){return I=en(I,j),I.index=0,I.sibling=null,I}function g(I,j,F){return I.index=F,i?(F=I.alternate,F!==null?(F=F.index,F<j?(I.flags|=67108866,j):F):(I.flags|=67108866,j)):(I.flags|=1048576,j)}function w(I){return i&&I.alternate===null&&(I.flags|=67108866),I}function C(I,j,F,X){return j===null||j.tag!==6?(j=cu(F,I.mode,X),j.return=I,j):(j=p(j,F),j.return=I,j)}function O(I,j,F,X){var rt=F.type;return rt===x?V(I,j,F.props.children,X,F.key):j!==null&&(j.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===q&&Sm(rt)===j.type)?(j=p(j,F.props),br(j,F),j.return=I,j):(j=Ho(F.type,F.key,F.props,null,I.mode,X),br(j,F),j.return=I,j)}function B(I,j,F,X){return j===null||j.tag!==4||j.stateNode.containerInfo!==F.containerInfo||j.stateNode.implementation!==F.implementation?(j=uu(F,I.mode,X),j.return=I,j):(j=p(j,F.children||[]),j.return=I,j)}function V(I,j,F,X,rt){return j===null||j.tag!==7?(j=da(F,I.mode,X,rt),j.return=I,j):(j=p(j,F),j.return=I,j)}function K(I,j,F){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=cu(""+j,I.mode,F),j.return=I,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case y:return F=Ho(j.type,j.key,j.props,null,I.mode,F),br(F,j),F.return=I,F;case b:return j=uu(j,I.mode,F),j.return=I,j;case q:var X=j._init;return j=X(j._payload),K(I,j,F)}if(ht(j)||nt(j))return j=da(j,I.mode,F,null),j.return=I,j;if(typeof j.then=="function")return K(I,al(j),F);if(j.$$typeof===R)return K(I,$o(I,j),F);sl(I,j)}return null}function H(I,j,F,X){var rt=j!==null?j.key:null;if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return rt!==null?null:C(I,j,""+F,X);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case y:return F.key===rt?O(I,j,F,X):null;case b:return F.key===rt?B(I,j,F,X):null;case q:return rt=F._init,F=rt(F._payload),H(I,j,F,X)}if(ht(F)||nt(F))return rt!==null?null:V(I,j,F,X,null);if(typeof F.then=="function")return H(I,j,al(F),X);if(F.$$typeof===R)return H(I,j,$o(I,F),X);sl(I,F)}return null}function U(I,j,F,X,rt){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return I=I.get(F)||null,C(j,I,""+X,rt);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case y:return I=I.get(X.key===null?F:X.key)||null,O(j,I,X,rt);case b:return I=I.get(X.key===null?F:X.key)||null,B(j,I,X,rt);case q:var Rt=X._init;return X=Rt(X._payload),U(I,j,F,X,rt)}if(ht(X)||nt(X))return I=I.get(F)||null,V(j,I,X,rt,null);if(typeof X.then=="function")return U(I,j,F,al(X),rt);if(X.$$typeof===R)return U(I,j,F,$o(j,X),rt);sl(j,X)}return null}function At(I,j,F,X){for(var rt=null,Rt=null,lt=j,yt=j=0,Se=null;lt!==null&&yt<F.length;yt++){lt.index>yt?(Se=lt,lt=null):Se=lt.sibling;var zt=H(I,lt,F[yt],X);if(zt===null){lt===null&&(lt=Se);break}i&&lt&&zt.alternate===null&&a(I,lt),j=g(zt,j,yt),Rt===null?rt=zt:Rt.sibling=zt,Rt=zt,lt=Se}if(yt===F.length)return r(I,lt),It&&fa(I,yt),rt;if(lt===null){for(;yt<F.length;yt++)lt=K(I,F[yt],X),lt!==null&&(j=g(lt,j,yt),Rt===null?rt=lt:Rt.sibling=lt,Rt=lt);return It&&fa(I,yt),rt}for(lt=u(lt);yt<F.length;yt++)Se=U(lt,I,yt,F[yt],X),Se!==null&&(i&&Se.alternate!==null&&lt.delete(Se.key===null?yt:Se.key),j=g(Se,j,yt),Rt===null?rt=Se:Rt.sibling=Se,Rt=Se);return i&&lt.forEach(function(Jn){return a(I,Jn)}),It&&fa(I,yt),rt}function mt(I,j,F,X){if(F==null)throw Error(n(151));for(var rt=null,Rt=null,lt=j,yt=j=0,Se=null,zt=F.next();lt!==null&&!zt.done;yt++,zt=F.next()){lt.index>yt?(Se=lt,lt=null):Se=lt.sibling;var Jn=H(I,lt,zt.value,X);if(Jn===null){lt===null&&(lt=Se);break}i&&lt&&Jn.alternate===null&&a(I,lt),j=g(Jn,j,yt),Rt===null?rt=Jn:Rt.sibling=Jn,Rt=Jn,lt=Se}if(zt.done)return r(I,lt),It&&fa(I,yt),rt;if(lt===null){for(;!zt.done;yt++,zt=F.next())zt=K(I,zt.value,X),zt!==null&&(j=g(zt,j,yt),Rt===null?rt=zt:Rt.sibling=zt,Rt=zt);return It&&fa(I,yt),rt}for(lt=u(lt);!zt.done;yt++,zt=F.next())zt=U(lt,I,yt,zt.value,X),zt!==null&&(i&&zt.alternate!==null&&lt.delete(zt.key===null?yt:zt.key),j=g(zt,j,yt),Rt===null?rt=zt:Rt.sibling=zt,Rt=zt);return i&&lt.forEach(function(Z1){return a(I,Z1)}),It&&fa(I,yt),rt}function Gt(I,j,F,X){if(typeof F=="object"&&F!==null&&F.type===x&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case y:t:{for(var rt=F.key;j!==null;){if(j.key===rt){if(rt=F.type,rt===x){if(j.tag===7){r(I,j.sibling),X=p(j,F.props.children),X.return=I,I=X;break t}}else if(j.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===q&&Sm(rt)===j.type){r(I,j.sibling),X=p(j,F.props),br(X,F),X.return=I,I=X;break t}r(I,j);break}else a(I,j);j=j.sibling}F.type===x?(X=da(F.props.children,I.mode,X,F.key),X.return=I,I=X):(X=Ho(F.type,F.key,F.props,null,I.mode,X),br(X,F),X.return=I,I=X)}return w(I);case b:t:{for(rt=F.key;j!==null;){if(j.key===rt)if(j.tag===4&&j.stateNode.containerInfo===F.containerInfo&&j.stateNode.implementation===F.implementation){r(I,j.sibling),X=p(j,F.children||[]),X.return=I,I=X;break t}else{r(I,j);break}else a(I,j);j=j.sibling}X=uu(F,I.mode,X),X.return=I,I=X}return w(I);case q:return rt=F._init,F=rt(F._payload),Gt(I,j,F,X)}if(ht(F))return At(I,j,F,X);if(nt(F)){if(rt=nt(F),typeof rt!="function")throw Error(n(150));return F=rt.call(F),mt(I,j,F,X)}if(typeof F.then=="function")return Gt(I,j,al(F),X);if(F.$$typeof===R)return Gt(I,j,$o(I,F),X);sl(I,F)}return typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint"?(F=""+F,j!==null&&j.tag===6?(r(I,j.sibling),X=p(j,F),X.return=I,I=X):(r(I,j),X=cu(F,I.mode,X),X.return=I,I=X),w(I)):r(I,j)}return function(I,j,F,X){try{yr=0;var rt=Gt(I,j,F,X);return cs=null,rt}catch(lt){if(lt===cr||lt===Yo)throw lt;var Rt=si(29,lt,null,I.mode);return Rt.lanes=X,Rt.return=I,Rt}finally{}}}var us=Em(!0),_m=Em(!1),xi=Y(null),ji=null;function In(i){var a=i.alternate;Q(ye,ye.current&1),Q(xi,i),ji===null&&(a===null||ss.current!==null||a.memoizedState!==null)&&(ji=i)}function Tm(i){if(i.tag===22){if(Q(ye,ye.current),Q(xi,i),ji===null){var a=i.alternate;a!==null&&a.memoizedState!==null&&(ji=i)}}else Fn()}function Fn(){Q(ye,ye.current),Q(xi,xi.current)}function ln(i){Z(xi),ji===i&&(ji=null),Z(ye)}var ye=Y(0);function rl(i){for(var a=i;a!==null;){if(a.tag===13){var r=a.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||Od(r)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function Gu(i,a,r,u){a=i.memoizedState,r=r(u,a),r=r==null?a:m({},a,r),i.memoizedState=r,i.lanes===0&&(i.updateQueue.baseState=r)}var qu={enqueueSetState:function(i,a,r){i=i._reactInternals;var u=ci(),p=jn(u);p.payload=a,r!=null&&(p.callback=r),a=Pn(i,p,u),a!==null&&(ui(a,i,u),dr(a,i,u))},enqueueReplaceState:function(i,a,r){i=i._reactInternals;var u=ci(),p=jn(u);p.tag=1,p.payload=a,r!=null&&(p.callback=r),a=Pn(i,p,u),a!==null&&(ui(a,i,u),dr(a,i,u))},enqueueForceUpdate:function(i,a){i=i._reactInternals;var r=ci(),u=jn(r);u.tag=2,a!=null&&(u.callback=a),a=Pn(i,u,r),a!==null&&(ui(a,i,r),dr(a,i,r))}};function Cm(i,a,r,u,p,g,w){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,g,w):a.prototype&&a.prototype.isPureReactComponent?!er(r,u)||!er(p,g):!0}function Rm(i,a,r,u){i=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(r,u),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(r,u),a.state!==i&&qu.enqueueReplaceState(a,a.state,null)}function xa(i,a){var r=a;if("ref"in a){r={};for(var u in a)u!=="ref"&&(r[u]=a[u])}if(i=i.defaultProps){r===a&&(r=m({},r));for(var p in i)r[p]===void 0&&(r[p]=i[p])}return r}var ol=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function Dm(i){ol(i)}function Mm(i){console.error(i)}function Nm(i){ol(i)}function ll(i,a){try{var r=i.onUncaughtError;r(a.value,{componentStack:a.stack})}catch(u){setTimeout(function(){throw u})}}function Om(i,a,r){try{var u=i.onCaughtError;u(r.value,{componentStack:r.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function $u(i,a,r){return r=jn(r),r.tag=3,r.payload={element:null},r.callback=function(){ll(i,a)},r}function km(i){return i=jn(i),i.tag=3,i}function Lm(i,a,r,u){var p=r.type.getDerivedStateFromError;if(typeof p=="function"){var g=u.value;i.payload=function(){return p(g)},i.callback=function(){Om(a,r,u)}}var w=r.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(i.callback=function(){Om(a,r,u),typeof p!="function"&&($n===null?$n=new Set([this]):$n.add(this));var C=u.stack;this.componentDidCatch(u.value,{componentStack:C!==null?C:""})})}function Zx(i,a,r,u,p){if(r.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(a=r.alternate,a!==null&&rr(a,r,p,!0),r=xi.current,r!==null){switch(r.tag){case 13:return ji===null?md():r.alternate===null&&ae===0&&(ae=3),r.flags&=-257,r.flags|=65536,r.lanes=p,u===xu?r.flags|=16384:(a=r.updateQueue,a===null?r.updateQueue=new Set([u]):a.add(u),vd(i,u,p)),!1;case 22:return r.flags|=65536,u===xu?r.flags|=16384:(a=r.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([u])},r.updateQueue=a):(r=a.retryQueue,r===null?a.retryQueue=new Set([u]):r.add(u)),vd(i,u,p)),!1}throw Error(n(435,r.tag))}return vd(i,u,p),md(),!1}if(It)return a=xi.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=p,u!==fu&&(i=Error(n(422),{cause:u}),sr(gi(i,r)))):(u!==fu&&(a=Error(n(423),{cause:u}),sr(gi(a,r))),i=i.current.alternate,i.flags|=65536,p&=-p,i.lanes|=p,u=gi(u,r),p=$u(i.stateNode,u,p),Su(i,p),ae!==4&&(ae=2)),!1;var g=Error(n(520),{cause:u});if(g=gi(g,r),Tr===null?Tr=[g]:Tr.push(g),ae!==4&&(ae=2),a===null)return!0;u=gi(u,r),r=a;do{switch(r.tag){case 3:return r.flags|=65536,i=p&-p,r.lanes|=i,i=$u(r.stateNode,u,i),Su(r,i),!1;case 1:if(a=r.type,g=r.stateNode,(r.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&($n===null||!$n.has(g))))return r.flags|=65536,p&=-p,r.lanes|=p,p=km(p),Lm(p,i,r,u),Su(r,p),!1}r=r.return}while(r!==null);return!1}var jm=Error(n(461)),Ae=!1;function Re(i,a,r,u){a.child=i===null?_m(a,null,r,u):us(a,i.child,r,u)}function Pm(i,a,r,u,p){r=r.render;var g=a.ref;if("ref"in u){var w={};for(var C in u)C!=="ref"&&(w[C]=u[C])}else w=u;return va(a),u=Ru(i,a,r,w,g,p),C=Du(),i!==null&&!Ae?(Mu(i,a,p),cn(i,a,p)):(It&&C&&du(a),a.flags|=1,Re(i,a,u,p),a.child)}function zm(i,a,r,u,p){if(i===null){var g=r.type;return typeof g=="function"&&!lu(g)&&g.defaultProps===void 0&&r.compare===null?(a.tag=15,a.type=g,Im(i,a,g,u,p)):(i=Ho(r.type,null,u,a,a.mode,p),i.ref=a.ref,i.return=a,a.child=i)}if(g=i.child,!Ju(i,p)){var w=g.memoizedProps;if(r=r.compare,r=r!==null?r:er,r(w,u)&&i.ref===a.ref)return cn(i,a,p)}return a.flags|=1,i=en(g,u),i.ref=a.ref,i.return=a,a.child=i}function Im(i,a,r,u,p){if(i!==null){var g=i.memoizedProps;if(er(g,u)&&i.ref===a.ref)if(Ae=!1,a.pendingProps=u=g,Ju(i,p))(i.flags&131072)!==0&&(Ae=!0);else return a.lanes=i.lanes,cn(i,a,p)}return Vu(i,a,r,u,p)}function Fm(i,a,r){var u=a.pendingProps,p=u.children,g=i!==null?i.memoizedState:null;if(u.mode==="hidden"){if((a.flags&128)!==0){if(u=g!==null?g.baseLanes|r:r,i!==null){for(p=a.child=i.child,g=0;p!==null;)g=g|p.lanes|p.childLanes,p=p.sibling;a.childLanes=g&~u}else a.childLanes=0,a.child=null;return Bm(i,a,u,r)}if((r&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},i!==null&&Vo(a,g!==null?g.cachePool:null),g!==null?Ip(a,g):_u(),Tm(a);else return a.lanes=a.childLanes=536870912,Bm(i,a,g!==null?g.baseLanes|r:r,r)}else g!==null?(Vo(a,g.cachePool),Ip(a,g),Fn(),a.memoizedState=null):(i!==null&&Vo(a,null),_u(),Fn());return Re(i,a,p,r),a.child}function Bm(i,a,r,u){var p=bu();return p=p===null?null:{parent:ve._currentValue,pool:p},a.memoizedState={baseLanes:r,cachePool:p},i!==null&&Vo(a,null),_u(),Tm(a),i!==null&&rr(i,a,u,!0),null}function cl(i,a){var r=a.ref;if(r===null)i!==null&&i.ref!==null&&(a.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(n(284));(i===null||i.ref!==r)&&(a.flags|=4194816)}}function Vu(i,a,r,u,p){return va(a),r=Ru(i,a,r,u,void 0,p),u=Du(),i!==null&&!Ae?(Mu(i,a,p),cn(i,a,p)):(It&&u&&du(a),a.flags|=1,Re(i,a,r,p),a.child)}function Hm(i,a,r,u,p,g){return va(a),a.updateQueue=null,r=Bp(a,u,r,p),Fp(i),u=Du(),i!==null&&!Ae?(Mu(i,a,g),cn(i,a,g)):(It&&u&&du(a),a.flags|=1,Re(i,a,r,g),a.child)}function Um(i,a,r,u,p){if(va(a),a.stateNode===null){var g=ts,w=r.contextType;typeof w=="object"&&w!==null&&(g=Le(w)),g=new r(u,g),a.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=qu,a.stateNode=g,g._reactInternals=a,g=a.stateNode,g.props=u,g.state=a.memoizedState,g.refs={},Au(a),w=r.contextType,g.context=typeof w=="object"&&w!==null?Le(w):ts,g.state=a.memoizedState,w=r.getDerivedStateFromProps,typeof w=="function"&&(Gu(a,r,w,u),g.state=a.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(w=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),w!==g.state&&qu.enqueueReplaceState(g,g.state,null),fr(a,u,g,p),hr(),g.state=a.memoizedState),typeof g.componentDidMount=="function"&&(a.flags|=4194308),u=!0}else if(i===null){g=a.stateNode;var C=a.memoizedProps,O=xa(r,C);g.props=O;var B=g.context,V=r.contextType;w=ts,typeof V=="object"&&V!==null&&(w=Le(V));var K=r.getDerivedStateFromProps;V=typeof K=="function"||typeof g.getSnapshotBeforeUpdate=="function",C=a.pendingProps!==C,V||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(C||B!==w)&&Rm(a,g,u,w),Ln=!1;var H=a.memoizedState;g.state=H,fr(a,u,g,p),hr(),B=a.memoizedState,C||H!==B||Ln?(typeof K=="function"&&(Gu(a,r,K,u),B=a.memoizedState),(O=Ln||Cm(a,r,O,u,H,B,w))?(V||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(a.flags|=4194308)):(typeof g.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=u,a.memoizedState=B),g.props=u,g.state=B,g.context=w,u=O):(typeof g.componentDidMount=="function"&&(a.flags|=4194308),u=!1)}else{g=a.stateNode,wu(i,a),w=a.memoizedProps,V=xa(r,w),g.props=V,K=a.pendingProps,H=g.context,B=r.contextType,O=ts,typeof B=="object"&&B!==null&&(O=Le(B)),C=r.getDerivedStateFromProps,(B=typeof C=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(w!==K||H!==O)&&Rm(a,g,u,O),Ln=!1,H=a.memoizedState,g.state=H,fr(a,u,g,p),hr();var U=a.memoizedState;w!==K||H!==U||Ln||i!==null&&i.dependencies!==null&&qo(i.dependencies)?(typeof C=="function"&&(Gu(a,r,C,u),U=a.memoizedState),(V=Ln||Cm(a,r,V,u,H,U,O)||i!==null&&i.dependencies!==null&&qo(i.dependencies))?(B||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,U,O),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,U,O)),typeof g.componentDidUpdate=="function"&&(a.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof g.componentDidUpdate!="function"||w===i.memoizedProps&&H===i.memoizedState||(a.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||w===i.memoizedProps&&H===i.memoizedState||(a.flags|=1024),a.memoizedProps=u,a.memoizedState=U),g.props=u,g.state=U,g.context=O,u=V):(typeof g.componentDidUpdate!="function"||w===i.memoizedProps&&H===i.memoizedState||(a.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||w===i.memoizedProps&&H===i.memoizedState||(a.flags|=1024),u=!1)}return g=u,cl(i,a),u=(a.flags&128)!==0,g||u?(g=a.stateNode,r=u&&typeof r.getDerivedStateFromError!="function"?null:g.render(),a.flags|=1,i!==null&&u?(a.child=us(a,i.child,null,p),a.child=us(a,null,r,p)):Re(i,a,r,p),a.memoizedState=g.state,i=a.child):i=cn(i,a,p),i}function Gm(i,a,r,u){return ar(),a.flags|=256,Re(i,a,r,u),a.child}var Yu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Xu(i){return{baseLanes:i,cachePool:Mp()}}function Ku(i,a,r){return i=i!==null?i.childLanes&~r:0,a&&(i|=Ai),i}function qm(i,a,r){var u=a.pendingProps,p=!1,g=(a.flags&128)!==0,w;if((w=g)||(w=i!==null&&i.memoizedState===null?!1:(ye.current&2)!==0),w&&(p=!0,a.flags&=-129),w=(a.flags&32)!==0,a.flags&=-33,i===null){if(It){if(p?In(a):Fn(),It){var C=ne,O;if(O=C){t:{for(O=C,C=Li;O.nodeType!==8;){if(!C){C=null;break t}if(O=Di(O.nextSibling),O===null){C=null;break t}}C=O}C!==null?(a.memoizedState={dehydrated:C,treeContext:ha!==null?{id:nn,overflow:an}:null,retryLane:536870912,hydrationErrors:null},O=si(18,null,null,0),O.stateNode=C,O.return=a,a.child=O,Be=a,ne=null,O=!0):O=!1}O||ma(a)}if(C=a.memoizedState,C!==null&&(C=C.dehydrated,C!==null))return Od(C)?a.lanes=32:a.lanes=536870912,null;ln(a)}return C=u.children,u=u.fallback,p?(Fn(),p=a.mode,C=ul({mode:"hidden",children:C},p),u=da(u,p,r,null),C.return=a,u.return=a,C.sibling=u,a.child=C,p=a.child,p.memoizedState=Xu(r),p.childLanes=Ku(i,w,r),a.memoizedState=Yu,u):(In(a),Wu(a,C))}if(O=i.memoizedState,O!==null&&(C=O.dehydrated,C!==null)){if(g)a.flags&256?(In(a),a.flags&=-257,a=Qu(i,a,r)):a.memoizedState!==null?(Fn(),a.child=i.child,a.flags|=128,a=null):(Fn(),p=u.fallback,C=a.mode,u=ul({mode:"visible",children:u.children},C),p=da(p,C,r,null),p.flags|=2,u.return=a,p.return=a,u.sibling=p,a.child=u,us(a,i.child,null,r),u=a.child,u.memoizedState=Xu(r),u.childLanes=Ku(i,w,r),a.memoizedState=Yu,a=p);else if(In(a),Od(C)){if(w=C.nextSibling&&C.nextSibling.dataset,w)var B=w.dgst;w=B,u=Error(n(419)),u.stack="",u.digest=w,sr({value:u,source:null,stack:null}),a=Qu(i,a,r)}else if(Ae||rr(i,a,r,!1),w=(r&i.childLanes)!==0,Ae||w){if(w=Xt,w!==null&&(u=r&-r,u=(u&42)!==0?1:kc(u),u=(u&(w.suspendedLanes|r))!==0?0:u,u!==0&&u!==O.retryLane))throw O.retryLane=u,Ja(i,u),ui(w,i,u),jm;C.data==="$?"||md(),a=Qu(i,a,r)}else C.data==="$?"?(a.flags|=192,a.child=i.child,a=null):(i=O.treeContext,ne=Di(C.nextSibling),Be=a,It=!0,pa=null,Li=!1,i!==null&&(yi[bi++]=nn,yi[bi++]=an,yi[bi++]=ha,nn=i.id,an=i.overflow,ha=a),a=Wu(a,u.children),a.flags|=4096);return a}return p?(Fn(),p=u.fallback,C=a.mode,O=i.child,B=O.sibling,u=en(O,{mode:"hidden",children:u.children}),u.subtreeFlags=O.subtreeFlags&65011712,B!==null?p=en(B,p):(p=da(p,C,r,null),p.flags|=2),p.return=a,u.return=a,u.sibling=p,a.child=u,u=p,p=a.child,C=i.child.memoizedState,C===null?C=Xu(r):(O=C.cachePool,O!==null?(B=ve._currentValue,O=O.parent!==B?{parent:B,pool:B}:O):O=Mp(),C={baseLanes:C.baseLanes|r,cachePool:O}),p.memoizedState=C,p.childLanes=Ku(i,w,r),a.memoizedState=Yu,u):(In(a),r=i.child,i=r.sibling,r=en(r,{mode:"visible",children:u.children}),r.return=a,r.sibling=null,i!==null&&(w=a.deletions,w===null?(a.deletions=[i],a.flags|=16):w.push(i)),a.child=r,a.memoizedState=null,r)}function Wu(i,a){return a=ul({mode:"visible",children:a},i.mode),a.return=i,i.child=a}function ul(i,a){return i=si(22,i,null,a),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function Qu(i,a,r){return us(a,i.child,null,r),i=Wu(a,a.pendingProps.children),i.flags|=2,a.memoizedState=null,i}function $m(i,a,r){i.lanes|=a;var u=i.alternate;u!==null&&(u.lanes|=a),mu(i.return,a,r)}function Zu(i,a,r,u,p){var g=i.memoizedState;g===null?i.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:u,tail:r,tailMode:p}:(g.isBackwards=a,g.rendering=null,g.renderingStartTime=0,g.last=u,g.tail=r,g.tailMode=p)}function Vm(i,a,r){var u=a.pendingProps,p=u.revealOrder,g=u.tail;if(Re(i,a,u.children,r),u=ye.current,(u&2)!==0)u=u&1|2,a.flags|=128;else{if(i!==null&&(i.flags&128)!==0)t:for(i=a.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&$m(i,r,a);else if(i.tag===19)$m(i,r,a);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break t;for(;i.sibling===null;){if(i.return===null||i.return===a)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}u&=1}switch(Q(ye,u),p){case"forwards":for(r=a.child,p=null;r!==null;)i=r.alternate,i!==null&&rl(i)===null&&(p=r),r=r.sibling;r=p,r===null?(p=a.child,a.child=null):(p=r.sibling,r.sibling=null),Zu(a,!1,p,r,g);break;case"backwards":for(r=null,p=a.child,a.child=null;p!==null;){if(i=p.alternate,i!==null&&rl(i)===null){a.child=p;break}i=p.sibling,p.sibling=r,r=p,p=i}Zu(a,!0,r,null,g);break;case"together":Zu(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function cn(i,a,r){if(i!==null&&(a.dependencies=i.dependencies),qn|=a.lanes,(r&a.childLanes)===0)if(i!==null){if(rr(i,a,r,!1),(r&a.childLanes)===0)return null}else return null;if(i!==null&&a.child!==i.child)throw Error(n(153));if(a.child!==null){for(i=a.child,r=en(i,i.pendingProps),a.child=r,r.return=a;i.sibling!==null;)i=i.sibling,r=r.sibling=en(i,i.pendingProps),r.return=a;r.sibling=null}return a.child}function Ju(i,a){return(i.lanes&a)!==0?!0:(i=i.dependencies,!!(i!==null&&qo(i)))}function Jx(i,a,r){switch(a.tag){case 3:Lt(a,a.stateNode.containerInfo),kn(a,ve,i.memoizedState.cache),ar();break;case 27:case 5:Ve(a);break;case 4:Lt(a,a.stateNode.containerInfo);break;case 10:kn(a,a.type,a.memoizedProps.value);break;case 13:var u=a.memoizedState;if(u!==null)return u.dehydrated!==null?(In(a),a.flags|=128,null):(r&a.child.childLanes)!==0?qm(i,a,r):(In(a),i=cn(i,a,r),i!==null?i.sibling:null);In(a);break;case 19:var p=(i.flags&128)!==0;if(u=(r&a.childLanes)!==0,u||(rr(i,a,r,!1),u=(r&a.childLanes)!==0),p){if(u)return Vm(i,a,r);a.flags|=128}if(p=a.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),Q(ye,ye.current),u)break;return null;case 22:case 23:return a.lanes=0,Fm(i,a,r);case 24:kn(a,ve,i.memoizedState.cache)}return cn(i,a,r)}function Ym(i,a,r){if(i!==null)if(i.memoizedProps!==a.pendingProps)Ae=!0;else{if(!Ju(i,r)&&(a.flags&128)===0)return Ae=!1,Jx(i,a,r);Ae=(i.flags&131072)!==0}else Ae=!1,It&&(a.flags&1048576)!==0&&Sp(a,Go,a.index);switch(a.lanes=0,a.tag){case 16:t:{i=a.pendingProps;var u=a.elementType,p=u._init;if(u=p(u._payload),a.type=u,typeof u=="function")lu(u)?(i=xa(u,i),a.tag=1,a=Um(null,a,u,i,r)):(a.tag=0,a=Vu(null,a,u,i,r));else{if(u!=null){if(p=u.$$typeof,p===N){a.tag=11,a=Pm(null,a,u,i,r);break t}else if(p===z){a.tag=14,a=zm(null,a,u,i,r);break t}}throw a=at(u)||u,Error(n(306,a,""))}}return a;case 0:return Vu(i,a,a.type,a.pendingProps,r);case 1:return u=a.type,p=xa(u,a.pendingProps),Um(i,a,u,p,r);case 3:t:{if(Lt(a,a.stateNode.containerInfo),i===null)throw Error(n(387));u=a.pendingProps;var g=a.memoizedState;p=g.element,wu(i,a),fr(a,u,null,r);var w=a.memoizedState;if(u=w.cache,kn(a,ve,u),u!==g.cache&&gu(a,[ve],r,!0),hr(),u=w.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:w.cache},a.updateQueue.baseState=g,a.memoizedState=g,a.flags&256){a=Gm(i,a,u,r);break t}else if(u!==p){p=gi(Error(n(424)),a),sr(p),a=Gm(i,a,u,r);break t}else{switch(i=a.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(ne=Di(i.firstChild),Be=a,It=!0,pa=null,Li=!0,r=_m(a,null,u,r),a.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(ar(),u===p){a=cn(i,a,r);break t}Re(i,a,u,r)}a=a.child}return a;case 26:return cl(i,a),i===null?(r=Qg(a.type,null,a.pendingProps,null))?a.memoizedState=r:It||(r=a.type,i=a.pendingProps,u=El(ot.current).createElement(r),u[ke]=a,u[Ye]=i,Me(u,r,i),xe(u),a.stateNode=u):a.memoizedState=Qg(a.type,i.memoizedProps,a.pendingProps,i.memoizedState),null;case 27:return Ve(a),i===null&&It&&(u=a.stateNode=Xg(a.type,a.pendingProps,ot.current),Be=a,Li=!0,p=ne,Xn(a.type)?(kd=p,ne=Di(u.firstChild)):ne=p),Re(i,a,a.pendingProps.children,r),cl(i,a),i===null&&(a.flags|=4194304),a.child;case 5:return i===null&&It&&((p=u=ne)&&(u=C1(u,a.type,a.pendingProps,Li),u!==null?(a.stateNode=u,Be=a,ne=Di(u.firstChild),Li=!1,p=!0):p=!1),p||ma(a)),Ve(a),p=a.type,g=a.pendingProps,w=i!==null?i.memoizedProps:null,u=g.children,Dd(p,g)?u=null:w!==null&&Dd(p,w)&&(a.flags|=32),a.memoizedState!==null&&(p=Ru(i,a,$x,null,null,r),jr._currentValue=p),cl(i,a),Re(i,a,u,r),a.child;case 6:return i===null&&It&&((i=r=ne)&&(r=R1(r,a.pendingProps,Li),r!==null?(a.stateNode=r,Be=a,ne=null,i=!0):i=!1),i||ma(a)),null;case 13:return qm(i,a,r);case 4:return Lt(a,a.stateNode.containerInfo),u=a.pendingProps,i===null?a.child=us(a,null,u,r):Re(i,a,u,r),a.child;case 11:return Pm(i,a,a.type,a.pendingProps,r);case 7:return Re(i,a,a.pendingProps,r),a.child;case 8:return Re(i,a,a.pendingProps.children,r),a.child;case 12:return Re(i,a,a.pendingProps.children,r),a.child;case 10:return u=a.pendingProps,kn(a,a.type,u.value),Re(i,a,u.children,r),a.child;case 9:return p=a.type._context,u=a.pendingProps.children,va(a),p=Le(p),u=u(p),a.flags|=1,Re(i,a,u,r),a.child;case 14:return zm(i,a,a.type,a.pendingProps,r);case 15:return Im(i,a,a.type,a.pendingProps,r);case 19:return Vm(i,a,r);case 31:return u=a.pendingProps,r=a.mode,u={mode:u.mode,children:u.children},i===null?(r=ul(u,r),r.ref=a.ref,a.child=r,r.return=a,a=r):(r=en(i.child,u),r.ref=a.ref,a.child=r,r.return=a,a=r),a;case 22:return Fm(i,a,r);case 24:return va(a),u=Le(ve),i===null?(p=bu(),p===null&&(p=Xt,g=vu(),p.pooledCache=g,g.refCount++,g!==null&&(p.pooledCacheLanes|=r),p=g),a.memoizedState={parent:u,cache:p},Au(a),kn(a,ve,p)):((i.lanes&r)!==0&&(wu(i,a),fr(a,null,null,r),hr()),p=i.memoizedState,g=a.memoizedState,p.parent!==u?(p={parent:u,cache:u},a.memoizedState=p,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=p),kn(a,ve,u)):(u=g.cache,kn(a,ve,u),u!==p.cache&&gu(a,[ve],r,!0))),Re(i,a,a.pendingProps.children,r),a.child;case 29:throw a.pendingProps}throw Error(n(156,a.tag))}function un(i){i.flags|=4}function Xm(i,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!iv(a)){if(a=xi.current,a!==null&&((jt&4194048)===jt?ji!==null:(jt&62914560)!==jt&&(jt&536870912)===0||a!==ji))throw ur=xu,Np;i.flags|=8192}}function dl(i,a){a!==null&&(i.flags|=4),i.flags&16384&&(a=i.tag!==22?Tf():536870912,i.lanes|=a,ps|=a)}function xr(i,a){if(!It)switch(i.tailMode){case"hidden":a=i.tail;for(var r=null;a!==null;)a.alternate!==null&&(r=a),a=a.sibling;r===null?i.tail=null:r.sibling=null;break;case"collapsed":r=i.tail;for(var u=null;r!==null;)r.alternate!==null&&(u=r),r=r.sibling;u===null?a||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function Zt(i){var a=i.alternate!==null&&i.alternate.child===i.child,r=0,u=0;if(a)for(var p=i.child;p!==null;)r|=p.lanes|p.childLanes,u|=p.subtreeFlags&65011712,u|=p.flags&65011712,p.return=i,p=p.sibling;else for(p=i.child;p!==null;)r|=p.lanes|p.childLanes,u|=p.subtreeFlags,u|=p.flags,p.return=i,p=p.sibling;return i.subtreeFlags|=u,i.childLanes=r,a}function t1(i,a,r){var u=a.pendingProps;switch(hu(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zt(a),null;case 1:return Zt(a),null;case 3:return r=a.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),a.memoizedState.cache!==u&&(a.flags|=2048),rn(ve),Te(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(i===null||i.child===null)&&(nr(a)?un(a):i===null||i.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Tp())),Zt(a),null;case 26:return r=a.memoizedState,i===null?(un(a),r!==null?(Zt(a),Xm(a,r)):(Zt(a),a.flags&=-16777217)):r?r!==i.memoizedState?(un(a),Zt(a),Xm(a,r)):(Zt(a),a.flags&=-16777217):(i.memoizedProps!==u&&un(a),Zt(a),a.flags&=-16777217),null;case 27:Fe(a),r=ot.current;var p=a.type;if(i!==null&&a.stateNode!=null)i.memoizedProps!==u&&un(a);else{if(!u){if(a.stateNode===null)throw Error(n(166));return Zt(a),null}i=et.current,nr(a)?Ep(a):(i=Xg(p,u,r),a.stateNode=i,un(a))}return Zt(a),null;case 5:if(Fe(a),r=a.type,i!==null&&a.stateNode!=null)i.memoizedProps!==u&&un(a);else{if(!u){if(a.stateNode===null)throw Error(n(166));return Zt(a),null}if(i=et.current,nr(a))Ep(a);else{switch(p=El(ot.current),i){case 1:i=p.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:i=p.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":i=p.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":i=p.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":i=p.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof u.is=="string"?p.createElement("select",{is:u.is}):p.createElement("select"),u.multiple?i.multiple=!0:u.size&&(i.size=u.size);break;default:i=typeof u.is=="string"?p.createElement(r,{is:u.is}):p.createElement(r)}}i[ke]=a,i[Ye]=u;t:for(p=a.child;p!==null;){if(p.tag===5||p.tag===6)i.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===a)break t;for(;p.sibling===null;){if(p.return===null||p.return===a)break t;p=p.return}p.sibling.return=p.return,p=p.sibling}a.stateNode=i;t:switch(Me(i,r,u),r){case"button":case"input":case"select":case"textarea":i=!!u.autoFocus;break t;case"img":i=!0;break t;default:i=!1}i&&un(a)}}return Zt(a),a.flags&=-16777217,null;case 6:if(i&&a.stateNode!=null)i.memoizedProps!==u&&un(a);else{if(typeof u!="string"&&a.stateNode===null)throw Error(n(166));if(i=ot.current,nr(a)){if(i=a.stateNode,r=a.memoizedProps,u=null,p=Be,p!==null)switch(p.tag){case 27:case 5:u=p.memoizedProps}i[ke]=a,i=!!(i.nodeValue===r||u!==null&&u.suppressHydrationWarning===!0||Hg(i.nodeValue,r)),i||ma(a)}else i=El(i).createTextNode(u),i[ke]=a,a.stateNode=i}return Zt(a),null;case 13:if(u=a.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(p=nr(a),u!==null&&u.dehydrated!==null){if(i===null){if(!p)throw Error(n(318));if(p=a.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(n(317));p[ke]=a}else ar(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Zt(a),p=!1}else p=Tp(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=p),p=!0;if(!p)return a.flags&256?(ln(a),a):(ln(a),null)}if(ln(a),(a.flags&128)!==0)return a.lanes=r,a;if(r=u!==null,i=i!==null&&i.memoizedState!==null,r){u=a.child,p=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(p=u.alternate.memoizedState.cachePool.pool);var g=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==p&&(u.flags|=2048)}return r!==i&&r&&(a.child.flags|=8192),dl(a,a.updateQueue),Zt(a),null;case 4:return Te(),i===null&&Ed(a.stateNode.containerInfo),Zt(a),null;case 10:return rn(a.type),Zt(a),null;case 19:if(Z(ye),p=a.memoizedState,p===null)return Zt(a),null;if(u=(a.flags&128)!==0,g=p.rendering,g===null)if(u)xr(p,!1);else{if(ae!==0||i!==null&&(i.flags&128)!==0)for(i=a.child;i!==null;){if(g=rl(i),g!==null){for(a.flags|=128,xr(p,!1),i=g.updateQueue,a.updateQueue=i,dl(a,i),a.subtreeFlags=0,i=r,r=a.child;r!==null;)wp(r,i),r=r.sibling;return Q(ye,ye.current&1|2),a.child}i=i.sibling}p.tail!==null&&se()>pl&&(a.flags|=128,u=!0,xr(p,!1),a.lanes=4194304)}else{if(!u)if(i=rl(g),i!==null){if(a.flags|=128,u=!0,i=i.updateQueue,a.updateQueue=i,dl(a,i),xr(p,!0),p.tail===null&&p.tailMode==="hidden"&&!g.alternate&&!It)return Zt(a),null}else 2*se()-p.renderingStartTime>pl&&r!==536870912&&(a.flags|=128,u=!0,xr(p,!1),a.lanes=4194304);p.isBackwards?(g.sibling=a.child,a.child=g):(i=p.last,i!==null?i.sibling=g:a.child=g,p.last=g)}return p.tail!==null?(a=p.tail,p.rendering=a,p.tail=a.sibling,p.renderingStartTime=se(),a.sibling=null,i=ye.current,Q(ye,u?i&1|2:i&1),a):(Zt(a),null);case 22:case 23:return ln(a),Tu(),u=a.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(a.flags|=8192):u&&(a.flags|=8192),u?(r&536870912)!==0&&(a.flags&128)===0&&(Zt(a),a.subtreeFlags&6&&(a.flags|=8192)):Zt(a),r=a.updateQueue,r!==null&&dl(a,r.retryQueue),r=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(r=i.memoizedState.cachePool.pool),u=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),u!==r&&(a.flags|=2048),i!==null&&Z(ya),null;case 24:return r=null,i!==null&&(r=i.memoizedState.cache),a.memoizedState.cache!==r&&(a.flags|=2048),rn(ve),Zt(a),null;case 25:return null;case 30:return null}throw Error(n(156,a.tag))}function e1(i,a){switch(hu(a),a.tag){case 1:return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 3:return rn(ve),Te(),i=a.flags,(i&65536)!==0&&(i&128)===0?(a.flags=i&-65537|128,a):null;case 26:case 27:case 5:return Fe(a),null;case 13:if(ln(a),i=a.memoizedState,i!==null&&i.dehydrated!==null){if(a.alternate===null)throw Error(n(340));ar()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 19:return Z(ye),null;case 4:return Te(),null;case 10:return rn(a.type),null;case 22:case 23:return ln(a),Tu(),i!==null&&Z(ya),i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 24:return rn(ve),null;case 25:return null;default:return null}}function Km(i,a){switch(hu(a),a.tag){case 3:rn(ve),Te();break;case 26:case 27:case 5:Fe(a);break;case 4:Te();break;case 13:ln(a);break;case 19:Z(ye);break;case 10:rn(a.type);break;case 22:case 23:ln(a),Tu(),i!==null&&Z(ya);break;case 24:rn(ve)}}function Ar(i,a){try{var r=a.updateQueue,u=r!==null?r.lastEffect:null;if(u!==null){var p=u.next;r=p;do{if((r.tag&i)===i){u=void 0;var g=r.create,w=r.inst;u=g(),w.destroy=u}r=r.next}while(r!==p)}}catch(C){$t(a,a.return,C)}}function Bn(i,a,r){try{var u=a.updateQueue,p=u!==null?u.lastEffect:null;if(p!==null){var g=p.next;u=g;do{if((u.tag&i)===i){var w=u.inst,C=w.destroy;if(C!==void 0){w.destroy=void 0,p=a;var O=r,B=C;try{B()}catch(V){$t(p,O,V)}}}u=u.next}while(u!==g)}}catch(V){$t(a,a.return,V)}}function Wm(i){var a=i.updateQueue;if(a!==null){var r=i.stateNode;try{zp(a,r)}catch(u){$t(i,i.return,u)}}}function Qm(i,a,r){r.props=xa(i.type,i.memoizedProps),r.state=i.memoizedState;try{r.componentWillUnmount()}catch(u){$t(i,a,u)}}function wr(i,a){try{var r=i.ref;if(r!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof r=="function"?i.refCleanup=r(u):r.current=u}}catch(p){$t(i,a,p)}}function Pi(i,a){var r=i.ref,u=i.refCleanup;if(r!==null)if(typeof u=="function")try{u()}catch(p){$t(i,a,p)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(p){$t(i,a,p)}else r.current=null}function Zm(i){var a=i.type,r=i.memoizedProps,u=i.stateNode;try{t:switch(a){case"button":case"input":case"select":case"textarea":r.autoFocus&&u.focus();break t;case"img":r.src?u.src=r.src:r.srcSet&&(u.srcset=r.srcSet)}}catch(p){$t(i,i.return,p)}}function td(i,a,r){try{var u=i.stateNode;w1(u,i.type,r,a),u[Ye]=a}catch(p){$t(i,i.return,p)}}function Jm(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Xn(i.type)||i.tag===4}function ed(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||Jm(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Xn(i.type)||i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function id(i,a,r){var u=i.tag;if(u===5||u===6)i=i.stateNode,a?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(i,a):(a=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,a.appendChild(i),r=r._reactRootContainer,r!=null||a.onclick!==null||(a.onclick=Sl));else if(u!==4&&(u===27&&Xn(i.type)&&(r=i.stateNode,a=null),i=i.child,i!==null))for(id(i,a,r),i=i.sibling;i!==null;)id(i,a,r),i=i.sibling}function hl(i,a,r){var u=i.tag;if(u===5||u===6)i=i.stateNode,a?r.insertBefore(i,a):r.appendChild(i);else if(u!==4&&(u===27&&Xn(i.type)&&(r=i.stateNode),i=i.child,i!==null))for(hl(i,a,r),i=i.sibling;i!==null;)hl(i,a,r),i=i.sibling}function tg(i){var a=i.stateNode,r=i.memoizedProps;try{for(var u=i.type,p=a.attributes;p.length;)a.removeAttributeNode(p[0]);Me(a,u,r),a[ke]=i,a[Ye]=r}catch(g){$t(i,i.return,g)}}var dn=!1,oe=!1,nd=!1,eg=typeof WeakSet=="function"?WeakSet:Set,we=null;function i1(i,a){if(i=i.containerInfo,Cd=Ml,i=hp(i),eu(i)){if("selectionStart"in i)var r={start:i.selectionStart,end:i.selectionEnd};else t:{r=(r=i.ownerDocument)&&r.defaultView||window;var u=r.getSelection&&r.getSelection();if(u&&u.rangeCount!==0){r=u.anchorNode;var p=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{r.nodeType,g.nodeType}catch{r=null;break t}var w=0,C=-1,O=-1,B=0,V=0,K=i,H=null;e:for(;;){for(var U;K!==r||p!==0&&K.nodeType!==3||(C=w+p),K!==g||u!==0&&K.nodeType!==3||(O=w+u),K.nodeType===3&&(w+=K.nodeValue.length),(U=K.firstChild)!==null;)H=K,K=U;for(;;){if(K===i)break e;if(H===r&&++B===p&&(C=w),H===g&&++V===u&&(O=w),(U=K.nextSibling)!==null)break;K=H,H=K.parentNode}K=U}r=C===-1||O===-1?null:{start:C,end:O}}else r=null}r=r||{start:0,end:0}}else r=null;for(Rd={focusedElem:i,selectionRange:r},Ml=!1,we=a;we!==null;)if(a=we,i=a.child,(a.subtreeFlags&1024)!==0&&i!==null)i.return=a,we=i;else for(;we!==null;){switch(a=we,g=a.alternate,i=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&g!==null){i=void 0,r=a,p=g.memoizedProps,g=g.memoizedState,u=r.stateNode;try{var At=xa(r.type,p,r.elementType===r.type);i=u.getSnapshotBeforeUpdate(At,g),u.__reactInternalSnapshotBeforeUpdate=i}catch(mt){$t(r,r.return,mt)}}break;case 3:if((i&1024)!==0){if(i=a.stateNode.containerInfo,r=i.nodeType,r===9)Nd(i);else if(r===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Nd(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(n(163))}if(i=a.sibling,i!==null){i.return=a.return,we=i;break}we=a.return}}function ig(i,a,r){var u=r.flags;switch(r.tag){case 0:case 11:case 15:Hn(i,r),u&4&&Ar(5,r);break;case 1:if(Hn(i,r),u&4)if(i=r.stateNode,a===null)try{i.componentDidMount()}catch(w){$t(r,r.return,w)}else{var p=xa(r.type,a.memoizedProps);a=a.memoizedState;try{i.componentDidUpdate(p,a,i.__reactInternalSnapshotBeforeUpdate)}catch(w){$t(r,r.return,w)}}u&64&&Wm(r),u&512&&wr(r,r.return);break;case 3:if(Hn(i,r),u&64&&(i=r.updateQueue,i!==null)){if(a=null,r.child!==null)switch(r.child.tag){case 27:case 5:a=r.child.stateNode;break;case 1:a=r.child.stateNode}try{zp(i,a)}catch(w){$t(r,r.return,w)}}break;case 27:a===null&&u&4&&tg(r);case 26:case 5:Hn(i,r),a===null&&u&4&&Zm(r),u&512&&wr(r,r.return);break;case 12:Hn(i,r);break;case 13:Hn(i,r),u&4&&sg(i,r),u&64&&(i=r.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(r=d1.bind(null,r),D1(i,r))));break;case 22:if(u=r.memoizedState!==null||dn,!u){a=a!==null&&a.memoizedState!==null||oe,p=dn;var g=oe;dn=u,(oe=a)&&!g?Un(i,r,(r.subtreeFlags&8772)!==0):Hn(i,r),dn=p,oe=g}break;case 30:break;default:Hn(i,r)}}function ng(i){var a=i.alternate;a!==null&&(i.alternate=null,ng(a)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(a=i.stateNode,a!==null&&Pc(a)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Kt=null,We=!1;function hn(i,a,r){for(r=r.child;r!==null;)ag(i,a,r),r=r.sibling}function ag(i,a,r){if(Pt&&typeof Pt.onCommitFiberUnmount=="function")try{Pt.onCommitFiberUnmount(Yt,r)}catch{}switch(r.tag){case 26:oe||Pi(r,a),hn(i,a,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:oe||Pi(r,a);var u=Kt,p=We;Xn(r.type)&&(Kt=r.stateNode,We=!1),hn(i,a,r),Nr(r.stateNode),Kt=u,We=p;break;case 5:oe||Pi(r,a);case 6:if(u=Kt,p=We,Kt=null,hn(i,a,r),Kt=u,We=p,Kt!==null)if(We)try{(Kt.nodeType===9?Kt.body:Kt.nodeName==="HTML"?Kt.ownerDocument.body:Kt).removeChild(r.stateNode)}catch(g){$t(r,a,g)}else try{Kt.removeChild(r.stateNode)}catch(g){$t(r,a,g)}break;case 18:Kt!==null&&(We?(i=Kt,Vg(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,r.stateNode),Fr(i)):Vg(Kt,r.stateNode));break;case 4:u=Kt,p=We,Kt=r.stateNode.containerInfo,We=!0,hn(i,a,r),Kt=u,We=p;break;case 0:case 11:case 14:case 15:oe||Bn(2,r,a),oe||Bn(4,r,a),hn(i,a,r);break;case 1:oe||(Pi(r,a),u=r.stateNode,typeof u.componentWillUnmount=="function"&&Qm(r,a,u)),hn(i,a,r);break;case 21:hn(i,a,r);break;case 22:oe=(u=oe)||r.memoizedState!==null,hn(i,a,r),oe=u;break;default:hn(i,a,r)}}function sg(i,a){if(a.memoizedState===null&&(i=a.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Fr(i)}catch(r){$t(a,a.return,r)}}function n1(i){switch(i.tag){case 13:case 19:var a=i.stateNode;return a===null&&(a=i.stateNode=new eg),a;case 22:return i=i.stateNode,a=i._retryCache,a===null&&(a=i._retryCache=new eg),a;default:throw Error(n(435,i.tag))}}function ad(i,a){var r=n1(i);a.forEach(function(u){var p=h1.bind(null,i,u);r.has(u)||(r.add(u),u.then(p,p))})}function ri(i,a){var r=a.deletions;if(r!==null)for(var u=0;u<r.length;u++){var p=r[u],g=i,w=a,C=w;t:for(;C!==null;){switch(C.tag){case 27:if(Xn(C.type)){Kt=C.stateNode,We=!1;break t}break;case 5:Kt=C.stateNode,We=!1;break t;case 3:case 4:Kt=C.stateNode.containerInfo,We=!0;break t}C=C.return}if(Kt===null)throw Error(n(160));ag(g,w,p),Kt=null,We=!1,g=p.alternate,g!==null&&(g.return=null),p.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)rg(a,i),a=a.sibling}var Ri=null;function rg(i,a){var r=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:ri(a,i),oi(i),u&4&&(Bn(3,i,i.return),Ar(3,i),Bn(5,i,i.return));break;case 1:ri(a,i),oi(i),u&512&&(oe||r===null||Pi(r,r.return)),u&64&&dn&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(r=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=r===null?u:r.concat(u))));break;case 26:var p=Ri;if(ri(a,i),oi(i),u&512&&(oe||r===null||Pi(r,r.return)),u&4){var g=r!==null?r.memoizedState:null;if(u=i.memoizedState,r===null)if(u===null)if(i.stateNode===null){t:{u=i.type,r=i.memoizedProps,p=p.ownerDocument||p;e:switch(u){case"title":g=p.getElementsByTagName("title")[0],(!g||g[Vs]||g[ke]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=p.createElement(u),p.head.insertBefore(g,p.querySelector("head > title"))),Me(g,u,r),g[ke]=i,xe(g),u=g;break t;case"link":var w=tv("link","href",p).get(u+(r.href||""));if(w){for(var C=0;C<w.length;C++)if(g=w[C],g.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&g.getAttribute("rel")===(r.rel==null?null:r.rel)&&g.getAttribute("title")===(r.title==null?null:r.title)&&g.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){w.splice(C,1);break e}}g=p.createElement(u),Me(g,u,r),p.head.appendChild(g);break;case"meta":if(w=tv("meta","content",p).get(u+(r.content||""))){for(C=0;C<w.length;C++)if(g=w[C],g.getAttribute("content")===(r.content==null?null:""+r.content)&&g.getAttribute("name")===(r.name==null?null:r.name)&&g.getAttribute("property")===(r.property==null?null:r.property)&&g.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&g.getAttribute("charset")===(r.charSet==null?null:r.charSet)){w.splice(C,1);break e}}g=p.createElement(u),Me(g,u,r),p.head.appendChild(g);break;default:throw Error(n(468,u))}g[ke]=i,xe(g),u=g}i.stateNode=u}else ev(p,i.type,i.stateNode);else i.stateNode=Jg(p,u,i.memoizedProps);else g!==u?(g===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):g.count--,u===null?ev(p,i.type,i.stateNode):Jg(p,u,i.memoizedProps)):u===null&&i.stateNode!==null&&td(i,i.memoizedProps,r.memoizedProps)}break;case 27:ri(a,i),oi(i),u&512&&(oe||r===null||Pi(r,r.return)),r!==null&&u&4&&td(i,i.memoizedProps,r.memoizedProps);break;case 5:if(ri(a,i),oi(i),u&512&&(oe||r===null||Pi(r,r.return)),i.flags&32){p=i.stateNode;try{Va(p,"")}catch(U){$t(i,i.return,U)}}u&4&&i.stateNode!=null&&(p=i.memoizedProps,td(i,p,r!==null?r.memoizedProps:p)),u&1024&&(nd=!0);break;case 6:if(ri(a,i),oi(i),u&4){if(i.stateNode===null)throw Error(n(162));u=i.memoizedProps,r=i.stateNode;try{r.nodeValue=u}catch(U){$t(i,i.return,U)}}break;case 3:if(Cl=null,p=Ri,Ri=_l(a.containerInfo),ri(a,i),Ri=p,oi(i),u&4&&r!==null&&r.memoizedState.isDehydrated)try{Fr(a.containerInfo)}catch(U){$t(i,i.return,U)}nd&&(nd=!1,og(i));break;case 4:u=Ri,Ri=_l(i.stateNode.containerInfo),ri(a,i),oi(i),Ri=u;break;case 12:ri(a,i),oi(i);break;case 13:ri(a,i),oi(i),i.child.flags&8192&&i.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(ud=se()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,ad(i,u)));break;case 22:p=i.memoizedState!==null;var O=r!==null&&r.memoizedState!==null,B=dn,V=oe;if(dn=B||p,oe=V||O,ri(a,i),oe=V,dn=B,oi(i),u&8192)t:for(a=i.stateNode,a._visibility=p?a._visibility&-2:a._visibility|1,p&&(r===null||O||dn||oe||Aa(i)),r=null,a=i;;){if(a.tag===5||a.tag===26){if(r===null){O=r=a;try{if(g=O.stateNode,p)w=g.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{C=O.stateNode;var K=O.memoizedProps.style,H=K!=null&&K.hasOwnProperty("display")?K.display:null;C.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(U){$t(O,O.return,U)}}}else if(a.tag===6){if(r===null){O=a;try{O.stateNode.nodeValue=p?"":O.memoizedProps}catch(U){$t(O,O.return,U)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===i)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break t;for(;a.sibling===null;){if(a.return===null||a.return===i)break t;r===a&&(r=null),a=a.return}r===a&&(r=null),a.sibling.return=a.return,a=a.sibling}u&4&&(u=i.updateQueue,u!==null&&(r=u.retryQueue,r!==null&&(u.retryQueue=null,ad(i,r))));break;case 19:ri(a,i),oi(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,ad(i,u)));break;case 30:break;case 21:break;default:ri(a,i),oi(i)}}function oi(i){var a=i.flags;if(a&2){try{for(var r,u=i.return;u!==null;){if(Jm(u)){r=u;break}u=u.return}if(r==null)throw Error(n(160));switch(r.tag){case 27:var p=r.stateNode,g=ed(i);hl(i,g,p);break;case 5:var w=r.stateNode;r.flags&32&&(Va(w,""),r.flags&=-33);var C=ed(i);hl(i,C,w);break;case 3:case 4:var O=r.stateNode.containerInfo,B=ed(i);id(i,B,O);break;default:throw Error(n(161))}}catch(V){$t(i,i.return,V)}i.flags&=-3}a&4096&&(i.flags&=-4097)}function og(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var a=i;og(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),i=i.sibling}}function Hn(i,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)ig(i,a.alternate,a),a=a.sibling}function Aa(i){for(i=i.child;i!==null;){var a=i;switch(a.tag){case 0:case 11:case 14:case 15:Bn(4,a,a.return),Aa(a);break;case 1:Pi(a,a.return);var r=a.stateNode;typeof r.componentWillUnmount=="function"&&Qm(a,a.return,r),Aa(a);break;case 27:Nr(a.stateNode);case 26:case 5:Pi(a,a.return),Aa(a);break;case 22:a.memoizedState===null&&Aa(a);break;case 30:Aa(a);break;default:Aa(a)}i=i.sibling}}function Un(i,a,r){for(r=r&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var u=a.alternate,p=i,g=a,w=g.flags;switch(g.tag){case 0:case 11:case 15:Un(p,g,r),Ar(4,g);break;case 1:if(Un(p,g,r),u=g,p=u.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(B){$t(u,u.return,B)}if(u=g,p=u.updateQueue,p!==null){var C=u.stateNode;try{var O=p.shared.hiddenCallbacks;if(O!==null)for(p.shared.hiddenCallbacks=null,p=0;p<O.length;p++)Pp(O[p],C)}catch(B){$t(u,u.return,B)}}r&&w&64&&Wm(g),wr(g,g.return);break;case 27:tg(g);case 26:case 5:Un(p,g,r),r&&u===null&&w&4&&Zm(g),wr(g,g.return);break;case 12:Un(p,g,r);break;case 13:Un(p,g,r),r&&w&4&&sg(p,g);break;case 22:g.memoizedState===null&&Un(p,g,r),wr(g,g.return);break;case 30:break;default:Un(p,g,r)}a=a.sibling}}function sd(i,a){var r=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(r=i.memoizedState.cachePool.pool),i=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(i=a.memoizedState.cachePool.pool),i!==r&&(i!=null&&i.refCount++,r!=null&&or(r))}function rd(i,a){i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&or(i))}function zi(i,a,r,u){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)lg(i,a,r,u),a=a.sibling}function lg(i,a,r,u){var p=a.flags;switch(a.tag){case 0:case 11:case 15:zi(i,a,r,u),p&2048&&Ar(9,a);break;case 1:zi(i,a,r,u);break;case 3:zi(i,a,r,u),p&2048&&(i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&or(i)));break;case 12:if(p&2048){zi(i,a,r,u),i=a.stateNode;try{var g=a.memoizedProps,w=g.id,C=g.onPostCommit;typeof C=="function"&&C(w,a.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(O){$t(a,a.return,O)}}else zi(i,a,r,u);break;case 13:zi(i,a,r,u);break;case 23:break;case 22:g=a.stateNode,w=a.alternate,a.memoizedState!==null?g._visibility&2?zi(i,a,r,u):Sr(i,a):g._visibility&2?zi(i,a,r,u):(g._visibility|=2,ds(i,a,r,u,(a.subtreeFlags&10256)!==0)),p&2048&&sd(w,a);break;case 24:zi(i,a,r,u),p&2048&&rd(a.alternate,a);break;default:zi(i,a,r,u)}}function ds(i,a,r,u,p){for(p=p&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var g=i,w=a,C=r,O=u,B=w.flags;switch(w.tag){case 0:case 11:case 15:ds(g,w,C,O,p),Ar(8,w);break;case 23:break;case 22:var V=w.stateNode;w.memoizedState!==null?V._visibility&2?ds(g,w,C,O,p):Sr(g,w):(V._visibility|=2,ds(g,w,C,O,p)),p&&B&2048&&sd(w.alternate,w);break;case 24:ds(g,w,C,O,p),p&&B&2048&&rd(w.alternate,w);break;default:ds(g,w,C,O,p)}a=a.sibling}}function Sr(i,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var r=i,u=a,p=u.flags;switch(u.tag){case 22:Sr(r,u),p&2048&&sd(u.alternate,u);break;case 24:Sr(r,u),p&2048&&rd(u.alternate,u);break;default:Sr(r,u)}a=a.sibling}}var Er=8192;function hs(i){if(i.subtreeFlags&Er)for(i=i.child;i!==null;)cg(i),i=i.sibling}function cg(i){switch(i.tag){case 26:hs(i),i.flags&Er&&i.memoizedState!==null&&U1(Ri,i.memoizedState,i.memoizedProps);break;case 5:hs(i);break;case 3:case 4:var a=Ri;Ri=_l(i.stateNode.containerInfo),hs(i),Ri=a;break;case 22:i.memoizedState===null&&(a=i.alternate,a!==null&&a.memoizedState!==null?(a=Er,Er=16777216,hs(i),Er=a):hs(i));break;default:hs(i)}}function ug(i){var a=i.alternate;if(a!==null&&(i=a.child,i!==null)){a.child=null;do a=i.sibling,i.sibling=null,i=a;while(i!==null)}}function _r(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var r=0;r<a.length;r++){var u=a[r];we=u,hg(u,i)}ug(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)dg(i),i=i.sibling}function dg(i){switch(i.tag){case 0:case 11:case 15:_r(i),i.flags&2048&&Bn(9,i,i.return);break;case 3:_r(i);break;case 12:_r(i);break;case 22:var a=i.stateNode;i.memoizedState!==null&&a._visibility&2&&(i.return===null||i.return.tag!==13)?(a._visibility&=-3,fl(i)):_r(i);break;default:_r(i)}}function fl(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var r=0;r<a.length;r++){var u=a[r];we=u,hg(u,i)}ug(i)}for(i=i.child;i!==null;){switch(a=i,a.tag){case 0:case 11:case 15:Bn(8,a,a.return),fl(a);break;case 22:r=a.stateNode,r._visibility&2&&(r._visibility&=-3,fl(a));break;default:fl(a)}i=i.sibling}}function hg(i,a){for(;we!==null;){var r=we;switch(r.tag){case 0:case 11:case 15:Bn(8,r,a);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var u=r.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:or(r.memoizedState.cache)}if(u=r.child,u!==null)u.return=r,we=u;else t:for(r=i;we!==null;){u=we;var p=u.sibling,g=u.return;if(ng(u),u===r){we=null;break t}if(p!==null){p.return=g,we=p;break t}we=g}}}var a1={getCacheForType:function(i){var a=Le(ve),r=a.data.get(i);return r===void 0&&(r=i(),a.data.set(i,r)),r}},s1=typeof WeakMap=="function"?WeakMap:Map,Ft=0,Xt=null,Dt=null,jt=0,Bt=0,li=null,Gn=!1,fs=!1,od=!1,fn=0,ae=0,qn=0,wa=0,ld=0,Ai=0,ps=0,Tr=null,Qe=null,cd=!1,ud=0,pl=1/0,ml=null,$n=null,De=0,Vn=null,ms=null,gs=0,dd=0,hd=null,fg=null,Cr=0,fd=null;function ci(){if((Ft&2)!==0&&jt!==0)return jt&-jt;if(P.T!==null){var i=ns;return i!==0?i:xd()}return Df()}function pg(){Ai===0&&(Ai=(jt&536870912)===0||It?To():536870912);var i=xi.current;return i!==null&&(i.flags|=32),Ai}function ui(i,a,r){(i===Xt&&(Bt===2||Bt===9)||i.cancelPendingCommit!==null)&&(vs(i,0),Yn(i,jt,Ai,!1)),$s(i,r),((Ft&2)===0||i!==Xt)&&(i===Xt&&((Ft&2)===0&&(wa|=r),ae===4&&Yn(i,jt,Ai,!1)),Ii(i))}function mg(i,a,r){if((Ft&6)!==0)throw Error(n(327));var u=!r&&(a&124)===0&&(a&i.expiredLanes)===0||Zi(i,a),p=u?l1(i,a):gd(i,a,!0),g=u;do{if(p===0){fs&&!u&&Yn(i,a,0,!1);break}else{if(r=i.current.alternate,g&&!r1(r)){p=gd(i,a,!1),g=!1;continue}if(p===2){if(g=a,i.errorRecoveryDisabledLanes&g)var w=0;else w=i.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){a=w;t:{var C=i;p=Tr;var O=C.current.memoizedState.isDehydrated;if(O&&(vs(C,w).flags|=256),w=gd(C,w,!1),w!==2){if(od&&!O){C.errorRecoveryDisabledLanes|=g,wa|=g,p=4;break t}g=Qe,Qe=p,g!==null&&(Qe===null?Qe=g:Qe.push.apply(Qe,g))}p=w}if(g=!1,p!==2)continue}}if(p===1){vs(i,0),Yn(i,a,0,!0);break}t:{switch(u=i,g=p,g){case 0:case 1:throw Error(n(345));case 4:if((a&4194048)!==a)break;case 6:Yn(u,a,Ai,!Gn);break t;case 2:Qe=null;break;case 3:case 5:break;default:throw Error(n(329))}if((a&62914560)===a&&(p=ud+300-se(),10<p)){if(Yn(u,a,Ai,!Gn),Mn(u,0,!0)!==0)break t;u.timeoutHandle=qg(gg.bind(null,u,r,Qe,ml,cd,a,Ai,wa,ps,Gn,g,2,-0,0),p);break t}gg(u,r,Qe,ml,cd,a,Ai,wa,ps,Gn,g,0,-0,0)}}break}while(!0);Ii(i)}function gg(i,a,r,u,p,g,w,C,O,B,V,K,H,U){if(i.timeoutHandle=-1,K=a.subtreeFlags,(K&8192||(K&16785408)===16785408)&&(Lr={stylesheets:null,count:0,unsuspend:H1},cg(a),K=G1(),K!==null)){i.cancelPendingCommit=K(Sg.bind(null,i,a,g,r,u,p,w,C,O,V,1,H,U)),Yn(i,g,w,!B);return}Sg(i,a,g,r,u,p,w,C,O)}function r1(i){for(var a=i;;){var r=a.tag;if((r===0||r===11||r===15)&&a.flags&16384&&(r=a.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var u=0;u<r.length;u++){var p=r[u],g=p.getSnapshot;p=p.value;try{if(!ai(g(),p))return!1}catch{return!1}}if(r=a.child,a.subtreeFlags&16384&&r!==null)r.return=a,a=r;else{if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Yn(i,a,r,u){a&=~ld,a&=~wa,i.suspendedLanes|=a,i.pingedLanes&=~a,u&&(i.warmLanes|=a),u=i.expirationTimes;for(var p=a;0<p;){var g=31-ge(p),w=1<<g;u[g]=-1,p&=~w}r!==0&&Cf(i,r,a)}function gl(){return(Ft&6)===0?(Rr(0),!1):!0}function pd(){if(Dt!==null){if(Bt===0)var i=Dt.return;else i=Dt,sn=ga=null,Nu(i),cs=null,yr=0,i=Dt;for(;i!==null;)Km(i.alternate,i),i=i.return;Dt=null}}function vs(i,a){var r=i.timeoutHandle;r!==-1&&(i.timeoutHandle=-1,E1(r)),r=i.cancelPendingCommit,r!==null&&(i.cancelPendingCommit=null,r()),pd(),Xt=i,Dt=r=en(i.current,null),jt=a,Bt=0,li=null,Gn=!1,fs=Zi(i,a),od=!1,ps=Ai=ld=wa=qn=ae=0,Qe=Tr=null,cd=!1,(a&8)!==0&&(a|=a&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=a;0<u;){var p=31-ge(u),g=1<<p;a|=i[p],u&=~g}return fn=a,Io(),r}function vg(i,a){Ct=null,P.H=nl,a===cr||a===Yo?(a=Lp(),Bt=3):a===Np?(a=Lp(),Bt=4):Bt=a===jm?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,li=a,Dt===null&&(ae=1,ll(i,gi(a,i.current)))}function yg(){var i=P.H;return P.H=nl,i===null?nl:i}function bg(){var i=P.A;return P.A=a1,i}function md(){ae=4,Gn||(jt&4194048)!==jt&&xi.current!==null||(fs=!0),(qn&134217727)===0&&(wa&134217727)===0||Xt===null||Yn(Xt,jt,Ai,!1)}function gd(i,a,r){var u=Ft;Ft|=2;var p=yg(),g=bg();(Xt!==i||jt!==a)&&(ml=null,vs(i,a)),a=!1;var w=ae;t:do try{if(Bt!==0&&Dt!==null){var C=Dt,O=li;switch(Bt){case 8:pd(),w=6;break t;case 3:case 2:case 9:case 6:xi.current===null&&(a=!0);var B=Bt;if(Bt=0,li=null,ys(i,C,O,B),r&&fs){w=0;break t}break;default:B=Bt,Bt=0,li=null,ys(i,C,O,B)}}o1(),w=ae;break}catch(V){vg(i,V)}while(!0);return a&&i.shellSuspendCounter++,sn=ga=null,Ft=u,P.H=p,P.A=g,Dt===null&&(Xt=null,jt=0,Io()),w}function o1(){for(;Dt!==null;)xg(Dt)}function l1(i,a){var r=Ft;Ft|=2;var u=yg(),p=bg();Xt!==i||jt!==a?(ml=null,pl=se()+500,vs(i,a)):fs=Zi(i,a);t:do try{if(Bt!==0&&Dt!==null){a=Dt;var g=li;e:switch(Bt){case 1:Bt=0,li=null,ys(i,a,g,1);break;case 2:case 9:if(Op(g)){Bt=0,li=null,Ag(a);break}a=function(){Bt!==2&&Bt!==9||Xt!==i||(Bt=7),Ii(i)},g.then(a,a);break t;case 3:Bt=7;break t;case 4:Bt=5;break t;case 7:Op(g)?(Bt=0,li=null,Ag(a)):(Bt=0,li=null,ys(i,a,g,7));break;case 5:var w=null;switch(Dt.tag){case 26:w=Dt.memoizedState;case 5:case 27:var C=Dt;if(!w||iv(w)){Bt=0,li=null;var O=C.sibling;if(O!==null)Dt=O;else{var B=C.return;B!==null?(Dt=B,vl(B)):Dt=null}break e}}Bt=0,li=null,ys(i,a,g,5);break;case 6:Bt=0,li=null,ys(i,a,g,6);break;case 8:pd(),ae=6;break t;default:throw Error(n(462))}}c1();break}catch(V){vg(i,V)}while(!0);return sn=ga=null,P.H=u,P.A=p,Ft=r,Dt!==null?0:(Xt=null,jt=0,Io(),ae)}function c1(){for(;Dt!==null&&!Vt();)xg(Dt)}function xg(i){var a=Ym(i.alternate,i,fn);i.memoizedProps=i.pendingProps,a===null?vl(i):Dt=a}function Ag(i){var a=i,r=a.alternate;switch(a.tag){case 15:case 0:a=Hm(r,a,a.pendingProps,a.type,void 0,jt);break;case 11:a=Hm(r,a,a.pendingProps,a.type.render,a.ref,jt);break;case 5:Nu(a);default:Km(r,a),a=Dt=wp(a,fn),a=Ym(r,a,fn)}i.memoizedProps=i.pendingProps,a===null?vl(i):Dt=a}function ys(i,a,r,u){sn=ga=null,Nu(a),cs=null,yr=0;var p=a.return;try{if(Zx(i,p,a,r,jt)){ae=1,ll(i,gi(r,i.current)),Dt=null;return}}catch(g){if(p!==null)throw Dt=p,g;ae=1,ll(i,gi(r,i.current)),Dt=null;return}a.flags&32768?(It||u===1?i=!0:fs||(jt&536870912)!==0?i=!1:(Gn=i=!0,(u===2||u===9||u===3||u===6)&&(u=xi.current,u!==null&&u.tag===13&&(u.flags|=16384))),wg(a,i)):vl(a)}function vl(i){var a=i;do{if((a.flags&32768)!==0){wg(a,Gn);return}i=a.return;var r=t1(a.alternate,a,fn);if(r!==null){Dt=r;return}if(a=a.sibling,a!==null){Dt=a;return}Dt=a=i}while(a!==null);ae===0&&(ae=5)}function wg(i,a){do{var r=e1(i.alternate,i);if(r!==null){r.flags&=32767,Dt=r;return}if(r=i.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!a&&(i=i.sibling,i!==null)){Dt=i;return}Dt=i=r}while(i!==null);ae=6,Dt=null}function Sg(i,a,r,u,p,g,w,C,O){i.cancelPendingCommit=null;do yl();while(De!==0);if((Ft&6)!==0)throw Error(n(327));if(a!==null){if(a===i.current)throw Error(n(177));if(g=a.lanes|a.childLanes,g|=ru,H0(i,r,g,w,C,O),i===Xt&&(Dt=Xt=null,jt=0),ms=a,Vn=i,gs=r,dd=g,hd=p,fg=u,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,f1(Ia,function(){return Rg(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||u){u=P.T,P.T=null,p=G.p,G.p=2,w=Ft,Ft|=4;try{i1(i,a,r)}finally{Ft=w,G.p=p,P.T=u}}De=1,Eg(),_g(),Tg()}}function Eg(){if(De===1){De=0;var i=Vn,a=ms,r=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||r){r=P.T,P.T=null;var u=G.p;G.p=2;var p=Ft;Ft|=4;try{rg(a,i);var g=Rd,w=hp(i.containerInfo),C=g.focusedElem,O=g.selectionRange;if(w!==C&&C&&C.ownerDocument&&dp(C.ownerDocument.documentElement,C)){if(O!==null&&eu(C)){var B=O.start,V=O.end;if(V===void 0&&(V=B),"selectionStart"in C)C.selectionStart=B,C.selectionEnd=Math.min(V,C.value.length);else{var K=C.ownerDocument||document,H=K&&K.defaultView||window;if(H.getSelection){var U=H.getSelection(),At=C.textContent.length,mt=Math.min(O.start,At),Gt=O.end===void 0?mt:Math.min(O.end,At);!U.extend&&mt>Gt&&(w=Gt,Gt=mt,mt=w);var I=up(C,mt),j=up(C,Gt);if(I&&j&&(U.rangeCount!==1||U.anchorNode!==I.node||U.anchorOffset!==I.offset||U.focusNode!==j.node||U.focusOffset!==j.offset)){var F=K.createRange();F.setStart(I.node,I.offset),U.removeAllRanges(),mt>Gt?(U.addRange(F),U.extend(j.node,j.offset)):(F.setEnd(j.node,j.offset),U.addRange(F))}}}}for(K=[],U=C;U=U.parentNode;)U.nodeType===1&&K.push({element:U,left:U.scrollLeft,top:U.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<K.length;C++){var X=K[C];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}Ml=!!Cd,Rd=Cd=null}finally{Ft=p,G.p=u,P.T=r}}i.current=a,De=2}}function _g(){if(De===2){De=0;var i=Vn,a=ms,r=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||r){r=P.T,P.T=null;var u=G.p;G.p=2;var p=Ft;Ft|=4;try{ig(i,a.alternate,a)}finally{Ft=p,G.p=u,P.T=r}}De=3}}function Tg(){if(De===4||De===3){De=0,aa();var i=Vn,a=ms,r=gs,u=fg;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?De=5:(De=0,ms=Vn=null,Cg(i,i.pendingLanes));var p=i.pendingLanes;if(p===0&&($n=null),Lc(r),a=a.stateNode,Pt&&typeof Pt.onCommitFiberRoot=="function")try{Pt.onCommitFiberRoot(Yt,a,void 0,(a.current.flags&128)===128)}catch{}if(u!==null){a=P.T,p=G.p,G.p=2,P.T=null;try{for(var g=i.onRecoverableError,w=0;w<u.length;w++){var C=u[w];g(C.value,{componentStack:C.stack})}}finally{P.T=a,G.p=p}}(gs&3)!==0&&yl(),Ii(i),p=i.pendingLanes,(r&4194090)!==0&&(p&42)!==0?i===fd?Cr++:(Cr=0,fd=i):Cr=0,Rr(0)}}function Cg(i,a){(i.pooledCacheLanes&=a)===0&&(a=i.pooledCache,a!=null&&(i.pooledCache=null,or(a)))}function yl(i){return Eg(),_g(),Tg(),Rg()}function Rg(){if(De!==5)return!1;var i=Vn,a=dd;dd=0;var r=Lc(gs),u=P.T,p=G.p;try{G.p=32>r?32:r,P.T=null,r=hd,hd=null;var g=Vn,w=gs;if(De=0,ms=Vn=null,gs=0,(Ft&6)!==0)throw Error(n(331));var C=Ft;if(Ft|=4,dg(g.current),lg(g,g.current,w,r),Ft=C,Rr(0,!1),Pt&&typeof Pt.onPostCommitFiberRoot=="function")try{Pt.onPostCommitFiberRoot(Yt,g)}catch{}return!0}finally{G.p=p,P.T=u,Cg(i,a)}}function Dg(i,a,r){a=gi(r,a),a=$u(i.stateNode,a,2),i=Pn(i,a,2),i!==null&&($s(i,2),Ii(i))}function $t(i,a,r){if(i.tag===3)Dg(i,i,r);else for(;a!==null;){if(a.tag===3){Dg(a,i,r);break}else if(a.tag===1){var u=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&($n===null||!$n.has(u))){i=gi(r,i),r=km(2),u=Pn(a,r,2),u!==null&&(Lm(r,u,a,i),$s(u,2),Ii(u));break}}a=a.return}}function vd(i,a,r){var u=i.pingCache;if(u===null){u=i.pingCache=new s1;var p=new Set;u.set(a,p)}else p=u.get(a),p===void 0&&(p=new Set,u.set(a,p));p.has(r)||(od=!0,p.add(r),i=u1.bind(null,i,a,r),a.then(i,i))}function u1(i,a,r){var u=i.pingCache;u!==null&&u.delete(a),i.pingedLanes|=i.suspendedLanes&r,i.warmLanes&=~r,Xt===i&&(jt&r)===r&&(ae===4||ae===3&&(jt&62914560)===jt&&300>se()-ud?(Ft&2)===0&&vs(i,0):ld|=r,ps===jt&&(ps=0)),Ii(i)}function Mg(i,a){a===0&&(a=Tf()),i=Ja(i,a),i!==null&&($s(i,a),Ii(i))}function d1(i){var a=i.memoizedState,r=0;a!==null&&(r=a.retryLane),Mg(i,r)}function h1(i,a){var r=0;switch(i.tag){case 13:var u=i.stateNode,p=i.memoizedState;p!==null&&(r=p.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(n(314))}u!==null&&u.delete(a),Mg(i,r)}function f1(i,a){return ii(i,a)}var bl=null,bs=null,yd=!1,xl=!1,bd=!1,Sa=0;function Ii(i){i!==bs&&i.next===null&&(bs===null?bl=bs=i:bs=bs.next=i),xl=!0,yd||(yd=!0,m1())}function Rr(i,a){if(!bd&&xl){bd=!0;do for(var r=!1,u=bl;u!==null;){if(i!==0){var p=u.pendingLanes;if(p===0)var g=0;else{var w=u.suspendedLanes,C=u.pingedLanes;g=(1<<31-ge(42|i)+1)-1,g&=p&~(w&~C),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(r=!0,Lg(u,g))}else g=jt,g=Mn(u,u===Xt?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||Zi(u,g)||(r=!0,Lg(u,g));u=u.next}while(r);bd=!1}}function p1(){Ng()}function Ng(){xl=yd=!1;var i=0;Sa!==0&&(S1()&&(i=Sa),Sa=0);for(var a=se(),r=null,u=bl;u!==null;){var p=u.next,g=Og(u,a);g===0?(u.next=null,r===null?bl=p:r.next=p,p===null&&(bs=r)):(r=u,(i!==0||(g&3)!==0)&&(xl=!0)),u=p}Rr(i)}function Og(i,a){for(var r=i.suspendedLanes,u=i.pingedLanes,p=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var w=31-ge(g),C=1<<w,O=p[w];O===-1?((C&r)===0||(C&u)!==0)&&(p[w]=qs(C,a)):O<=a&&(i.expiredLanes|=C),g&=~C}if(a=Xt,r=jt,r=Mn(i,i===a?r:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,r===0||i===a&&(Bt===2||Bt===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&ni(u),i.callbackNode=null,i.callbackPriority=0;if((r&3)===0||Zi(i,r)){if(a=r&-r,a===i.callbackPriority)return a;switch(u!==null&&ni(u),Lc(r)){case 2:case 8:r=ra;break;case 32:r=Ia;break;case 268435456:r=_o;break;default:r=Ia}return u=kg.bind(null,i),r=ii(r,u),i.callbackPriority=a,i.callbackNode=r,a}return u!==null&&u!==null&&ni(u),i.callbackPriority=2,i.callbackNode=null,2}function kg(i,a){if(De!==0&&De!==5)return i.callbackNode=null,i.callbackPriority=0,null;var r=i.callbackNode;if(yl()&&i.callbackNode!==r)return null;var u=jt;return u=Mn(i,i===Xt?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(mg(i,u,a),Og(i,se()),i.callbackNode!=null&&i.callbackNode===r?kg.bind(null,i):null)}function Lg(i,a){if(yl())return null;mg(i,a,!0)}function m1(){_1(function(){(Ft&6)!==0?ii(sa,p1):Ng()})}function xd(){return Sa===0&&(Sa=To()),Sa}function jg(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:No(""+i)}function Pg(i,a){var r=a.ownerDocument.createElement("input");return r.name=a.name,r.value=a.value,i.id&&r.setAttribute("form",i.id),a.parentNode.insertBefore(r,a),i=new FormData(i),r.parentNode.removeChild(r),i}function g1(i,a,r,u,p){if(a==="submit"&&r&&r.stateNode===p){var g=jg((p[Ye]||null).action),w=u.submitter;w&&(a=(a=w[Ye]||null)?jg(a.formAction):w.getAttribute("formAction"),a!==null&&(g=a,w=null));var C=new jo("action","action",null,u,p);i.push({event:C,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Sa!==0){var O=w?Pg(p,w):new FormData(p);Bu(r,{pending:!0,data:O,method:p.method,action:g},null,O)}}else typeof g=="function"&&(C.preventDefault(),O=w?Pg(p,w):new FormData(p),Bu(r,{pending:!0,data:O,method:p.method,action:g},g,O))},currentTarget:p}]})}}for(var Ad=0;Ad<su.length;Ad++){var wd=su[Ad],v1=wd.toLowerCase(),y1=wd[0].toUpperCase()+wd.slice(1);Ci(v1,"on"+y1)}Ci(mp,"onAnimationEnd"),Ci(gp,"onAnimationIteration"),Ci(vp,"onAnimationStart"),Ci("dblclick","onDoubleClick"),Ci("focusin","onFocus"),Ci("focusout","onBlur"),Ci(jx,"onTransitionRun"),Ci(Px,"onTransitionStart"),Ci(zx,"onTransitionCancel"),Ci(yp,"onTransitionEnd"),Ga("onMouseEnter",["mouseout","mouseover"]),Ga("onMouseLeave",["mouseout","mouseover"]),Ga("onPointerEnter",["pointerout","pointerover"]),Ga("onPointerLeave",["pointerout","pointerover"]),oa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),oa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),oa("onBeforeInput",["compositionend","keypress","textInput","paste"]),oa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),oa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),oa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),b1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Dr));function zg(i,a){a=(a&4)!==0;for(var r=0;r<i.length;r++){var u=i[r],p=u.event;u=u.listeners;t:{var g=void 0;if(a)for(var w=u.length-1;0<=w;w--){var C=u[w],O=C.instance,B=C.currentTarget;if(C=C.listener,O!==g&&p.isPropagationStopped())break t;g=C,p.currentTarget=B;try{g(p)}catch(V){ol(V)}p.currentTarget=null,g=O}else for(w=0;w<u.length;w++){if(C=u[w],O=C.instance,B=C.currentTarget,C=C.listener,O!==g&&p.isPropagationStopped())break t;g=C,p.currentTarget=B;try{g(p)}catch(V){ol(V)}p.currentTarget=null,g=O}}}}function Mt(i,a){var r=a[jc];r===void 0&&(r=a[jc]=new Set);var u=i+"__bubble";r.has(u)||(Ig(a,i,2,!1),r.add(u))}function Sd(i,a,r){var u=0;a&&(u|=4),Ig(r,i,u,a)}var Al="_reactListening"+Math.random().toString(36).slice(2);function Ed(i){if(!i[Al]){i[Al]=!0,Nf.forEach(function(r){r!=="selectionchange"&&(b1.has(r)||Sd(r,!1,i),Sd(r,!0,i))});var a=i.nodeType===9?i:i.ownerDocument;a===null||a[Al]||(a[Al]=!0,Sd("selectionchange",!1,a))}}function Ig(i,a,r,u){switch(lv(a)){case 2:var p=V1;break;case 8:p=Y1;break;default:p=Id}r=p.bind(null,a,r,i),p=void 0,!Vc||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(p=!0),u?p!==void 0?i.addEventListener(a,r,{capture:!0,passive:p}):i.addEventListener(a,r,!0):p!==void 0?i.addEventListener(a,r,{passive:p}):i.addEventListener(a,r,!1)}function _d(i,a,r,u,p){var g=u;if((a&1)===0&&(a&2)===0&&u!==null)t:for(;;){if(u===null)return;var w=u.tag;if(w===3||w===4){var C=u.stateNode.containerInfo;if(C===p)break;if(w===4)for(w=u.return;w!==null;){var O=w.tag;if((O===3||O===4)&&w.stateNode.containerInfo===p)return;w=w.return}for(;C!==null;){if(w=Ba(C),w===null)return;if(O=w.tag,O===5||O===6||O===26||O===27){u=g=w;continue t}C=C.parentNode}}u=u.return}$f(function(){var B=g,V=qc(r),K=[];t:{var H=bp.get(i);if(H!==void 0){var U=jo,At=i;switch(i){case"keypress":if(ko(r)===0)break t;case"keydown":case"keyup":U=fx;break;case"focusin":At="focus",U=Wc;break;case"focusout":At="blur",U=Wc;break;case"beforeblur":case"afterblur":U=Wc;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":U=Xf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":U=ex;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":U=gx;break;case mp:case gp:case vp:U=ax;break;case yp:U=yx;break;case"scroll":case"scrollend":U=J0;break;case"wheel":U=xx;break;case"copy":case"cut":case"paste":U=rx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":U=Wf;break;case"toggle":case"beforetoggle":U=wx}var mt=(a&4)!==0,Gt=!mt&&(i==="scroll"||i==="scrollend"),I=mt?H!==null?H+"Capture":null:H;mt=[];for(var j=B,F;j!==null;){var X=j;if(F=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||F===null||I===null||(X=Xs(j,I),X!=null&&mt.push(Mr(j,X,F))),Gt)break;j=j.return}0<mt.length&&(H=new U(H,At,null,r,V),K.push({event:H,listeners:mt}))}}if((a&7)===0){t:{if(H=i==="mouseover"||i==="pointerover",U=i==="mouseout"||i==="pointerout",H&&r!==Gc&&(At=r.relatedTarget||r.fromElement)&&(Ba(At)||At[Fa]))break t;if((U||H)&&(H=V.window===V?V:(H=V.ownerDocument)?H.defaultView||H.parentWindow:window,U?(At=r.relatedTarget||r.toElement,U=B,At=At?Ba(At):null,At!==null&&(Gt=l(At),mt=At.tag,At!==Gt||mt!==5&&mt!==27&&mt!==6)&&(At=null)):(U=null,At=B),U!==At)){if(mt=Xf,X="onMouseLeave",I="onMouseEnter",j="mouse",(i==="pointerout"||i==="pointerover")&&(mt=Wf,X="onPointerLeave",I="onPointerEnter",j="pointer"),Gt=U==null?H:Ys(U),F=At==null?H:Ys(At),H=new mt(X,j+"leave",U,r,V),H.target=Gt,H.relatedTarget=F,X=null,Ba(V)===B&&(mt=new mt(I,j+"enter",At,r,V),mt.target=F,mt.relatedTarget=Gt,X=mt),Gt=X,U&&At)e:{for(mt=U,I=At,j=0,F=mt;F;F=xs(F))j++;for(F=0,X=I;X;X=xs(X))F++;for(;0<j-F;)mt=xs(mt),j--;for(;0<F-j;)I=xs(I),F--;for(;j--;){if(mt===I||I!==null&&mt===I.alternate)break e;mt=xs(mt),I=xs(I)}mt=null}else mt=null;U!==null&&Fg(K,H,U,mt,!1),At!==null&&Gt!==null&&Fg(K,Gt,At,mt,!0)}}t:{if(H=B?Ys(B):window,U=H.nodeName&&H.nodeName.toLowerCase(),U==="select"||U==="input"&&H.type==="file")var rt=ap;else if(ip(H))if(sp)rt=Ox;else{rt=Mx;var Rt=Dx}else U=H.nodeName,!U||U.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?B&&Uc(B.elementType)&&(rt=ap):rt=Nx;if(rt&&(rt=rt(i,B))){np(K,rt,r,V);break t}Rt&&Rt(i,H,B),i==="focusout"&&B&&H.type==="number"&&B.memoizedProps.value!=null&&Hc(H,"number",H.value)}switch(Rt=B?Ys(B):window,i){case"focusin":(ip(Rt)||Rt.contentEditable==="true")&&(Wa=Rt,iu=B,ir=null);break;case"focusout":ir=iu=Wa=null;break;case"mousedown":nu=!0;break;case"contextmenu":case"mouseup":case"dragend":nu=!1,fp(K,r,V);break;case"selectionchange":if(Lx)break;case"keydown":case"keyup":fp(K,r,V)}var lt;if(Zc)t:{switch(i){case"compositionstart":var yt="onCompositionStart";break t;case"compositionend":yt="onCompositionEnd";break t;case"compositionupdate":yt="onCompositionUpdate";break t}yt=void 0}else Ka?tp(i,r)&&(yt="onCompositionEnd"):i==="keydown"&&r.keyCode===229&&(yt="onCompositionStart");yt&&(Qf&&r.locale!=="ko"&&(Ka||yt!=="onCompositionStart"?yt==="onCompositionEnd"&&Ka&&(lt=Vf()):(On=V,Yc="value"in On?On.value:On.textContent,Ka=!0)),Rt=wl(B,yt),0<Rt.length&&(yt=new Kf(yt,i,null,r,V),K.push({event:yt,listeners:Rt}),lt?yt.data=lt:(lt=ep(r),lt!==null&&(yt.data=lt)))),(lt=Ex?_x(i,r):Tx(i,r))&&(yt=wl(B,"onBeforeInput"),0<yt.length&&(Rt=new Kf("onBeforeInput","beforeinput",null,r,V),K.push({event:Rt,listeners:yt}),Rt.data=lt)),g1(K,i,B,r,V)}zg(K,a)})}function Mr(i,a,r){return{instance:i,listener:a,currentTarget:r}}function wl(i,a){for(var r=a+"Capture",u=[];i!==null;){var p=i,g=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||g===null||(p=Xs(i,r),p!=null&&u.unshift(Mr(i,p,g)),p=Xs(i,a),p!=null&&u.push(Mr(i,p,g))),i.tag===3)return u;i=i.return}return[]}function xs(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function Fg(i,a,r,u,p){for(var g=a._reactName,w=[];r!==null&&r!==u;){var C=r,O=C.alternate,B=C.stateNode;if(C=C.tag,O!==null&&O===u)break;C!==5&&C!==26&&C!==27||B===null||(O=B,p?(B=Xs(r,g),B!=null&&w.unshift(Mr(r,B,O))):p||(B=Xs(r,g),B!=null&&w.push(Mr(r,B,O)))),r=r.return}w.length!==0&&i.push({event:a,listeners:w})}var x1=/\r\n?/g,A1=/\u0000|\uFFFD/g;function Bg(i){return(typeof i=="string"?i:""+i).replace(x1,`
`).replace(A1,"")}function Hg(i,a){return a=Bg(a),Bg(i)===a}function Sl(){}function Ut(i,a,r,u,p,g){switch(r){case"children":typeof u=="string"?a==="body"||a==="textarea"&&u===""||Va(i,u):(typeof u=="number"||typeof u=="bigint")&&a!=="body"&&Va(i,""+u);break;case"className":Ro(i,"class",u);break;case"tabIndex":Ro(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Ro(i,r,u);break;case"style":Gf(i,u,g);break;case"data":if(a!=="object"){Ro(i,"data",u);break}case"src":case"href":if(u===""&&(a!=="a"||r!=="href")){i.removeAttribute(r);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(r);break}u=No(""+u),i.setAttribute(r,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(r==="formAction"?(a!=="input"&&Ut(i,a,"name",p.name,p,null),Ut(i,a,"formEncType",p.formEncType,p,null),Ut(i,a,"formMethod",p.formMethod,p,null),Ut(i,a,"formTarget",p.formTarget,p,null)):(Ut(i,a,"encType",p.encType,p,null),Ut(i,a,"method",p.method,p,null),Ut(i,a,"target",p.target,p,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(r);break}u=No(""+u),i.setAttribute(r,u);break;case"onClick":u!=null&&(i.onclick=Sl);break;case"onScroll":u!=null&&Mt("scroll",i);break;case"onScrollEnd":u!=null&&Mt("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(n(61));if(r=u.__html,r!=null){if(p.children!=null)throw Error(n(60));i.innerHTML=r}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}r=No(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(r,""+u):i.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(r,""):i.removeAttribute(r);break;case"capture":case"download":u===!0?i.setAttribute(r,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(r,u):i.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(r,u):i.removeAttribute(r);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(r):i.setAttribute(r,u);break;case"popover":Mt("beforetoggle",i),Mt("toggle",i),Co(i,"popover",u);break;case"xlinkActuate":Ji(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Ji(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Ji(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Ji(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Ji(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Ji(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Ji(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Ji(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Ji(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Co(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Q0.get(r)||r,Co(i,r,u))}}function Td(i,a,r,u,p,g){switch(r){case"style":Gf(i,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(n(61));if(r=u.__html,r!=null){if(p.children!=null)throw Error(n(60));i.innerHTML=r}}break;case"children":typeof u=="string"?Va(i,u):(typeof u=="number"||typeof u=="bigint")&&Va(i,""+u);break;case"onScroll":u!=null&&Mt("scroll",i);break;case"onScrollEnd":u!=null&&Mt("scrollend",i);break;case"onClick":u!=null&&(i.onclick=Sl);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Of.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(p=r.endsWith("Capture"),a=r.slice(2,p?r.length-7:void 0),g=i[Ye]||null,g=g!=null?g[r]:null,typeof g=="function"&&i.removeEventListener(a,g,p),typeof u=="function")){typeof g!="function"&&g!==null&&(r in i?i[r]=null:i.hasAttribute(r)&&i.removeAttribute(r)),i.addEventListener(a,u,p);break t}r in i?i[r]=u:u===!0?i.setAttribute(r,""):Co(i,r,u)}}}function Me(i,a,r){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mt("error",i),Mt("load",i);var u=!1,p=!1,g;for(g in r)if(r.hasOwnProperty(g)){var w=r[g];if(w!=null)switch(g){case"src":u=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,a));default:Ut(i,a,g,w,r,null)}}p&&Ut(i,a,"srcSet",r.srcSet,r,null),u&&Ut(i,a,"src",r.src,r,null);return;case"input":Mt("invalid",i);var C=g=w=p=null,O=null,B=null;for(u in r)if(r.hasOwnProperty(u)){var V=r[u];if(V!=null)switch(u){case"name":p=V;break;case"type":w=V;break;case"checked":O=V;break;case"defaultChecked":B=V;break;case"value":g=V;break;case"defaultValue":C=V;break;case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(n(137,a));break;default:Ut(i,a,u,V,r,null)}}Ff(i,g,C,O,B,w,p,!1),Do(i);return;case"select":Mt("invalid",i),u=w=g=null;for(p in r)if(r.hasOwnProperty(p)&&(C=r[p],C!=null))switch(p){case"value":g=C;break;case"defaultValue":w=C;break;case"multiple":u=C;default:Ut(i,a,p,C,r,null)}a=g,r=w,i.multiple=!!u,a!=null?$a(i,!!u,a,!1):r!=null&&$a(i,!!u,r,!0);return;case"textarea":Mt("invalid",i),g=p=u=null;for(w in r)if(r.hasOwnProperty(w)&&(C=r[w],C!=null))switch(w){case"value":u=C;break;case"defaultValue":p=C;break;case"children":g=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(n(91));break;default:Ut(i,a,w,C,r,null)}Hf(i,u,p,g),Do(i);return;case"option":for(O in r)if(r.hasOwnProperty(O)&&(u=r[O],u!=null))switch(O){case"selected":i.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Ut(i,a,O,u,r,null)}return;case"dialog":Mt("beforetoggle",i),Mt("toggle",i),Mt("cancel",i),Mt("close",i);break;case"iframe":case"object":Mt("load",i);break;case"video":case"audio":for(u=0;u<Dr.length;u++)Mt(Dr[u],i);break;case"image":Mt("error",i),Mt("load",i);break;case"details":Mt("toggle",i);break;case"embed":case"source":case"link":Mt("error",i),Mt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in r)if(r.hasOwnProperty(B)&&(u=r[B],u!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,a));default:Ut(i,a,B,u,r,null)}return;default:if(Uc(a)){for(V in r)r.hasOwnProperty(V)&&(u=r[V],u!==void 0&&Td(i,a,V,u,r,void 0));return}}for(C in r)r.hasOwnProperty(C)&&(u=r[C],u!=null&&Ut(i,a,C,u,r,null))}function w1(i,a,r,u){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,g=null,w=null,C=null,O=null,B=null,V=null;for(U in r){var K=r[U];if(r.hasOwnProperty(U)&&K!=null)switch(U){case"checked":break;case"value":break;case"defaultValue":O=K;default:u.hasOwnProperty(U)||Ut(i,a,U,null,u,K)}}for(var H in u){var U=u[H];if(K=r[H],u.hasOwnProperty(H)&&(U!=null||K!=null))switch(H){case"type":g=U;break;case"name":p=U;break;case"checked":B=U;break;case"defaultChecked":V=U;break;case"value":w=U;break;case"defaultValue":C=U;break;case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(n(137,a));break;default:U!==K&&Ut(i,a,H,U,u,K)}}Bc(i,w,C,O,B,V,g,p);return;case"select":U=w=C=H=null;for(g in r)if(O=r[g],r.hasOwnProperty(g)&&O!=null)switch(g){case"value":break;case"multiple":U=O;default:u.hasOwnProperty(g)||Ut(i,a,g,null,u,O)}for(p in u)if(g=u[p],O=r[p],u.hasOwnProperty(p)&&(g!=null||O!=null))switch(p){case"value":H=g;break;case"defaultValue":C=g;break;case"multiple":w=g;default:g!==O&&Ut(i,a,p,g,u,O)}a=C,r=w,u=U,H!=null?$a(i,!!r,H,!1):!!u!=!!r&&(a!=null?$a(i,!!r,a,!0):$a(i,!!r,r?[]:"",!1));return;case"textarea":U=H=null;for(C in r)if(p=r[C],r.hasOwnProperty(C)&&p!=null&&!u.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:Ut(i,a,C,null,u,p)}for(w in u)if(p=u[w],g=r[w],u.hasOwnProperty(w)&&(p!=null||g!=null))switch(w){case"value":H=p;break;case"defaultValue":U=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(n(91));break;default:p!==g&&Ut(i,a,w,p,u,g)}Bf(i,H,U);return;case"option":for(var At in r)if(H=r[At],r.hasOwnProperty(At)&&H!=null&&!u.hasOwnProperty(At))switch(At){case"selected":i.selected=!1;break;default:Ut(i,a,At,null,u,H)}for(O in u)if(H=u[O],U=r[O],u.hasOwnProperty(O)&&H!==U&&(H!=null||U!=null))switch(O){case"selected":i.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:Ut(i,a,O,H,u,U)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var mt in r)H=r[mt],r.hasOwnProperty(mt)&&H!=null&&!u.hasOwnProperty(mt)&&Ut(i,a,mt,null,u,H);for(B in u)if(H=u[B],U=r[B],u.hasOwnProperty(B)&&H!==U&&(H!=null||U!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(n(137,a));break;default:Ut(i,a,B,H,u,U)}return;default:if(Uc(a)){for(var Gt in r)H=r[Gt],r.hasOwnProperty(Gt)&&H!==void 0&&!u.hasOwnProperty(Gt)&&Td(i,a,Gt,void 0,u,H);for(V in u)H=u[V],U=r[V],!u.hasOwnProperty(V)||H===U||H===void 0&&U===void 0||Td(i,a,V,H,u,U);return}}for(var I in r)H=r[I],r.hasOwnProperty(I)&&H!=null&&!u.hasOwnProperty(I)&&Ut(i,a,I,null,u,H);for(K in u)H=u[K],U=r[K],!u.hasOwnProperty(K)||H===U||H==null&&U==null||Ut(i,a,K,H,u,U)}var Cd=null,Rd=null;function El(i){return i.nodeType===9?i:i.ownerDocument}function Ug(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Gg(i,a){if(i===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&a==="foreignObject"?0:i}function Dd(i,a){return i==="textarea"||i==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Md=null;function S1(){var i=window.event;return i&&i.type==="popstate"?i===Md?!1:(Md=i,!0):(Md=null,!1)}var qg=typeof setTimeout=="function"?setTimeout:void 0,E1=typeof clearTimeout=="function"?clearTimeout:void 0,$g=typeof Promise=="function"?Promise:void 0,_1=typeof queueMicrotask=="function"?queueMicrotask:typeof $g<"u"?function(i){return $g.resolve(null).then(i).catch(T1)}:qg;function T1(i){setTimeout(function(){throw i})}function Xn(i){return i==="head"}function Vg(i,a){var r=a,u=0,p=0;do{var g=r.nextSibling;if(i.removeChild(r),g&&g.nodeType===8)if(r=g.data,r==="/$"){if(0<u&&8>u){r=u;var w=i.ownerDocument;if(r&1&&Nr(w.documentElement),r&2&&Nr(w.body),r&4)for(r=w.head,Nr(r),w=r.firstChild;w;){var C=w.nextSibling,O=w.nodeName;w[Vs]||O==="SCRIPT"||O==="STYLE"||O==="LINK"&&w.rel.toLowerCase()==="stylesheet"||r.removeChild(w),w=C}}if(p===0){i.removeChild(g),Fr(a);return}p--}else r==="$"||r==="$?"||r==="$!"?p++:u=r.charCodeAt(0)-48;else u=0;r=g}while(r);Fr(a)}function Nd(i){var a=i.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var r=a;switch(a=a.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Nd(r),Pc(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}i.removeChild(r)}}function C1(i,a,r,u){for(;i.nodeType===1;){var p=r;if(i.nodeName.toLowerCase()!==a.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[Vs])switch(a){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==p.rel||i.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||i.getAttribute("title")!==(p.title==null?null:p.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(p.src==null?null:p.src)||i.getAttribute("type")!==(p.type==null?null:p.type)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(a==="input"&&i.type==="hidden"){var g=p.name==null?null:""+p.name;if(p.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=Di(i.nextSibling),i===null)break}return null}function R1(i,a,r){if(a==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!r||(i=Di(i.nextSibling),i===null))return null;return i}function Od(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function D1(i,a){var r=i.ownerDocument;if(i.data!=="$?"||r.readyState==="complete")a();else{var u=function(){a(),r.removeEventListener("DOMContentLoaded",u)};r.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function Di(i){for(;i!=null;i=i.nextSibling){var a=i.nodeType;if(a===1||a===3)break;if(a===8){if(a=i.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return i}var kd=null;function Yg(i){i=i.previousSibling;for(var a=0;i;){if(i.nodeType===8){var r=i.data;if(r==="$"||r==="$!"||r==="$?"){if(a===0)return i;a--}else r==="/$"&&a++}i=i.previousSibling}return null}function Xg(i,a,r){switch(a=El(r),i){case"html":if(i=a.documentElement,!i)throw Error(n(452));return i;case"head":if(i=a.head,!i)throw Error(n(453));return i;case"body":if(i=a.body,!i)throw Error(n(454));return i;default:throw Error(n(451))}}function Nr(i){for(var a=i.attributes;a.length;)i.removeAttributeNode(a[0]);Pc(i)}var wi=new Map,Kg=new Set;function _l(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var pn=G.d;G.d={f:M1,r:N1,D:O1,C:k1,L:L1,m:j1,X:z1,S:P1,M:I1};function M1(){var i=pn.f(),a=gl();return i||a}function N1(i){var a=Ha(i);a!==null&&a.tag===5&&a.type==="form"?mm(a):pn.r(i)}var As=typeof document>"u"?null:document;function Wg(i,a,r){var u=As;if(u&&typeof a=="string"&&a){var p=mi(a);p='link[rel="'+i+'"][href="'+p+'"]',typeof r=="string"&&(p+='[crossorigin="'+r+'"]'),Kg.has(p)||(Kg.add(p),i={rel:i,crossOrigin:r,href:a},u.querySelector(p)===null&&(a=u.createElement("link"),Me(a,"link",i),xe(a),u.head.appendChild(a)))}}function O1(i){pn.D(i),Wg("dns-prefetch",i,null)}function k1(i,a){pn.C(i,a),Wg("preconnect",i,a)}function L1(i,a,r){pn.L(i,a,r);var u=As;if(u&&i&&a){var p='link[rel="preload"][as="'+mi(a)+'"]';a==="image"&&r&&r.imageSrcSet?(p+='[imagesrcset="'+mi(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(p+='[imagesizes="'+mi(r.imageSizes)+'"]')):p+='[href="'+mi(i)+'"]';var g=p;switch(a){case"style":g=ws(i);break;case"script":g=Ss(i)}wi.has(g)||(i=m({rel:"preload",href:a==="image"&&r&&r.imageSrcSet?void 0:i,as:a},r),wi.set(g,i),u.querySelector(p)!==null||a==="style"&&u.querySelector(Or(g))||a==="script"&&u.querySelector(kr(g))||(a=u.createElement("link"),Me(a,"link",i),xe(a),u.head.appendChild(a)))}}function j1(i,a){pn.m(i,a);var r=As;if(r&&i){var u=a&&typeof a.as=="string"?a.as:"script",p='link[rel="modulepreload"][as="'+mi(u)+'"][href="'+mi(i)+'"]',g=p;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Ss(i)}if(!wi.has(g)&&(i=m({rel:"modulepreload",href:i},a),wi.set(g,i),r.querySelector(p)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(kr(g)))return}u=r.createElement("link"),Me(u,"link",i),xe(u),r.head.appendChild(u)}}}function P1(i,a,r){pn.S(i,a,r);var u=As;if(u&&i){var p=Ua(u).hoistableStyles,g=ws(i);a=a||"default";var w=p.get(g);if(!w){var C={loading:0,preload:null};if(w=u.querySelector(Or(g)))C.loading=5;else{i=m({rel:"stylesheet",href:i,"data-precedence":a},r),(r=wi.get(g))&&Ld(i,r);var O=w=u.createElement("link");xe(O),Me(O,"link",i),O._p=new Promise(function(B,V){O.onload=B,O.onerror=V}),O.addEventListener("load",function(){C.loading|=1}),O.addEventListener("error",function(){C.loading|=2}),C.loading|=4,Tl(w,a,u)}w={type:"stylesheet",instance:w,count:1,state:C},p.set(g,w)}}}function z1(i,a){pn.X(i,a);var r=As;if(r&&i){var u=Ua(r).hoistableScripts,p=Ss(i),g=u.get(p);g||(g=r.querySelector(kr(p)),g||(i=m({src:i,async:!0},a),(a=wi.get(p))&&jd(i,a),g=r.createElement("script"),xe(g),Me(g,"link",i),r.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(p,g))}}function I1(i,a){pn.M(i,a);var r=As;if(r&&i){var u=Ua(r).hoistableScripts,p=Ss(i),g=u.get(p);g||(g=r.querySelector(kr(p)),g||(i=m({src:i,async:!0,type:"module"},a),(a=wi.get(p))&&jd(i,a),g=r.createElement("script"),xe(g),Me(g,"link",i),r.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(p,g))}}function Qg(i,a,r,u){var p=(p=ot.current)?_l(p):null;if(!p)throw Error(n(446));switch(i){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(a=ws(r.href),r=Ua(p).hoistableStyles,u=r.get(a),u||(u={type:"style",instance:null,count:0,state:null},r.set(a,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){i=ws(r.href);var g=Ua(p).hoistableStyles,w=g.get(i);if(w||(p=p.ownerDocument||p,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,w),(g=p.querySelector(Or(i)))&&!g._p&&(w.instance=g,w.state.loading=5),wi.has(i)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},wi.set(i,r),g||F1(p,i,r,w.state))),a&&u===null)throw Error(n(528,""));return w}if(a&&u!==null)throw Error(n(529,""));return null;case"script":return a=r.async,r=r.src,typeof r=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Ss(r),r=Ua(p).hoistableScripts,u=r.get(a),u||(u={type:"script",instance:null,count:0,state:null},r.set(a,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,i))}}function ws(i){return'href="'+mi(i)+'"'}function Or(i){return'link[rel="stylesheet"]['+i+"]"}function Zg(i){return m({},i,{"data-precedence":i.precedence,precedence:null})}function F1(i,a,r,u){i.querySelector('link[rel="preload"][as="style"]['+a+"]")?u.loading=1:(a=i.createElement("link"),u.preload=a,a.addEventListener("load",function(){return u.loading|=1}),a.addEventListener("error",function(){return u.loading|=2}),Me(a,"link",r),xe(a),i.head.appendChild(a))}function Ss(i){return'[src="'+mi(i)+'"]'}function kr(i){return"script[async]"+i}function Jg(i,a,r){if(a.count++,a.instance===null)switch(a.type){case"style":var u=i.querySelector('style[data-href~="'+mi(r.href)+'"]');if(u)return a.instance=u,xe(u),u;var p=m({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),xe(u),Me(u,"style",p),Tl(u,r.precedence,i),a.instance=u;case"stylesheet":p=ws(r.href);var g=i.querySelector(Or(p));if(g)return a.state.loading|=4,a.instance=g,xe(g),g;u=Zg(r),(p=wi.get(p))&&Ld(u,p),g=(i.ownerDocument||i).createElement("link"),xe(g);var w=g;return w._p=new Promise(function(C,O){w.onload=C,w.onerror=O}),Me(g,"link",u),a.state.loading|=4,Tl(g,r.precedence,i),a.instance=g;case"script":return g=Ss(r.src),(p=i.querySelector(kr(g)))?(a.instance=p,xe(p),p):(u=r,(p=wi.get(g))&&(u=m({},r),jd(u,p)),i=i.ownerDocument||i,p=i.createElement("script"),xe(p),Me(p,"link",u),i.head.appendChild(p),a.instance=p);case"void":return null;default:throw Error(n(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(u=a.instance,a.state.loading|=4,Tl(u,r.precedence,i));return a.instance}function Tl(i,a,r){for(var u=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=u.length?u[u.length-1]:null,g=p,w=0;w<u.length;w++){var C=u[w];if(C.dataset.precedence===a)g=C;else if(g!==p)break}g?g.parentNode.insertBefore(i,g.nextSibling):(a=r.nodeType===9?r.head:r,a.insertBefore(i,a.firstChild))}function Ld(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.title==null&&(i.title=a.title)}function jd(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.integrity==null&&(i.integrity=a.integrity)}var Cl=null;function tv(i,a,r){if(Cl===null){var u=new Map,p=Cl=new Map;p.set(r,u)}else p=Cl,u=p.get(r),u||(u=new Map,p.set(r,u));if(u.has(i))return u;for(u.set(i,null),r=r.getElementsByTagName(i),p=0;p<r.length;p++){var g=r[p];if(!(g[Vs]||g[ke]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var w=g.getAttribute(a)||"";w=i+w;var C=u.get(w);C?C.push(g):u.set(w,[g])}}return u}function ev(i,a,r){i=i.ownerDocument||i,i.head.insertBefore(r,a==="title"?i.querySelector("head > title"):null)}function B1(i,a,r){if(r===1||a.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return i=a.disabled,typeof a.precedence=="string"&&i==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function iv(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var Lr=null;function H1(){}function U1(i,a,r){if(Lr===null)throw Error(n(475));var u=Lr;if(a.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var p=ws(r.href),g=i.querySelector(Or(p));if(g){i=g._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(u.count++,u=Rl.bind(u),i.then(u,u)),a.state.loading|=4,a.instance=g,xe(g);return}g=i.ownerDocument||i,r=Zg(r),(p=wi.get(p))&&Ld(r,p),g=g.createElement("link"),xe(g);var w=g;w._p=new Promise(function(C,O){w.onload=C,w.onerror=O}),Me(g,"link",r),a.instance=g}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(u.count++,a=Rl.bind(u),i.addEventListener("load",a),i.addEventListener("error",a))}}function G1(){if(Lr===null)throw Error(n(475));var i=Lr;return i.stylesheets&&i.count===0&&Pd(i,i.stylesheets),0<i.count?function(a){var r=setTimeout(function(){if(i.stylesheets&&Pd(i,i.stylesheets),i.unsuspend){var u=i.unsuspend;i.unsuspend=null,u()}},6e4);return i.unsuspend=a,function(){i.unsuspend=null,clearTimeout(r)}}:null}function Rl(){if(this.count--,this.count===0){if(this.stylesheets)Pd(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Dl=null;function Pd(i,a){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Dl=new Map,a.forEach(q1,i),Dl=null,Rl.call(i))}function q1(i,a){if(!(a.state.loading&4)){var r=Dl.get(i);if(r)var u=r.get(null);else{r=new Map,Dl.set(i,r);for(var p=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<p.length;g++){var w=p[g];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(r.set(w.dataset.precedence,w),u=w)}u&&r.set(null,u)}p=a.instance,w=p.getAttribute("data-precedence"),g=r.get(w)||u,g===u&&r.set(null,p),r.set(w,p),this.count++,u=Rl.bind(this),p.addEventListener("load",u),p.addEventListener("error",u),g?g.parentNode.insertBefore(p,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(p,i.firstChild)),a.state.loading|=4}}var jr={$$typeof:R,Provider:null,Consumer:null,_currentValue:tt,_currentValue2:tt,_threadCount:0};function $1(i,a,r,u,p,g,w,C){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Oc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Oc(0),this.hiddenUpdates=Oc(null),this.identifierPrefix=u,this.onUncaughtError=p,this.onCaughtError=g,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function nv(i,a,r,u,p,g,w,C,O,B,V,K){return i=new $1(i,a,r,w,C,O,B,K),a=1,g===!0&&(a|=24),g=si(3,null,null,a),i.current=g,g.stateNode=i,a=vu(),a.refCount++,i.pooledCache=a,a.refCount++,g.memoizedState={element:u,isDehydrated:r,cache:a},Au(g),i}function av(i){return i?(i=ts,i):ts}function sv(i,a,r,u,p,g){p=av(p),u.context===null?u.context=p:u.pendingContext=p,u=jn(a),u.payload={element:r},g=g===void 0?null:g,g!==null&&(u.callback=g),r=Pn(i,u,a),r!==null&&(ui(r,i,a),dr(r,i,a))}function rv(i,a){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var r=i.retryLane;i.retryLane=r!==0&&r<a?r:a}}function zd(i,a){rv(i,a),(i=i.alternate)&&rv(i,a)}function ov(i){if(i.tag===13){var a=Ja(i,67108864);a!==null&&ui(a,i,67108864),zd(i,67108864)}}var Ml=!0;function V1(i,a,r,u){var p=P.T;P.T=null;var g=G.p;try{G.p=2,Id(i,a,r,u)}finally{G.p=g,P.T=p}}function Y1(i,a,r,u){var p=P.T;P.T=null;var g=G.p;try{G.p=8,Id(i,a,r,u)}finally{G.p=g,P.T=p}}function Id(i,a,r,u){if(Ml){var p=Fd(u);if(p===null)_d(i,a,u,Nl,r),cv(i,u);else if(K1(p,i,a,r,u))u.stopPropagation();else if(cv(i,u),a&4&&-1<X1.indexOf(i)){for(;p!==null;){var g=Ha(p);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var w=Ti(g.pendingLanes);if(w!==0){var C=g;for(C.pendingLanes|=2,C.entangledLanes|=2;w;){var O=1<<31-ge(w);C.entanglements[1]|=O,w&=~O}Ii(g),(Ft&6)===0&&(pl=se()+500,Rr(0))}}break;case 13:C=Ja(g,2),C!==null&&ui(C,g,2),gl(),zd(g,2)}if(g=Fd(u),g===null&&_d(i,a,u,Nl,r),g===p)break;p=g}p!==null&&u.stopPropagation()}else _d(i,a,u,null,r)}}function Fd(i){return i=qc(i),Bd(i)}var Nl=null;function Bd(i){if(Nl=null,i=Ba(i),i!==null){var a=l(i);if(a===null)i=null;else{var r=a.tag;if(r===13){if(i=c(a),i!==null)return i;i=null}else if(r===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Nl=i,null}function lv(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Hs()){case sa:return 2;case ra:return 8;case Ia:case Nc:return 32;case _o:return 268435456;default:return 32}default:return 32}}var Hd=!1,Kn=null,Wn=null,Qn=null,Pr=new Map,zr=new Map,Zn=[],X1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function cv(i,a){switch(i){case"focusin":case"focusout":Kn=null;break;case"dragenter":case"dragleave":Wn=null;break;case"mouseover":case"mouseout":Qn=null;break;case"pointerover":case"pointerout":Pr.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":zr.delete(a.pointerId)}}function Ir(i,a,r,u,p,g){return i===null||i.nativeEvent!==g?(i={blockedOn:a,domEventName:r,eventSystemFlags:u,nativeEvent:g,targetContainers:[p]},a!==null&&(a=Ha(a),a!==null&&ov(a)),i):(i.eventSystemFlags|=u,a=i.targetContainers,p!==null&&a.indexOf(p)===-1&&a.push(p),i)}function K1(i,a,r,u,p){switch(a){case"focusin":return Kn=Ir(Kn,i,a,r,u,p),!0;case"dragenter":return Wn=Ir(Wn,i,a,r,u,p),!0;case"mouseover":return Qn=Ir(Qn,i,a,r,u,p),!0;case"pointerover":var g=p.pointerId;return Pr.set(g,Ir(Pr.get(g)||null,i,a,r,u,p)),!0;case"gotpointercapture":return g=p.pointerId,zr.set(g,Ir(zr.get(g)||null,i,a,r,u,p)),!0}return!1}function uv(i){var a=Ba(i.target);if(a!==null){var r=l(a);if(r!==null){if(a=r.tag,a===13){if(a=c(r),a!==null){i.blockedOn=a,U0(i.priority,function(){if(r.tag===13){var u=ci();u=kc(u);var p=Ja(r,u);p!==null&&ui(p,r,u),zd(r,u)}});return}}else if(a===3&&r.stateNode.current.memoizedState.isDehydrated){i.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Ol(i){if(i.blockedOn!==null)return!1;for(var a=i.targetContainers;0<a.length;){var r=Fd(i.nativeEvent);if(r===null){r=i.nativeEvent;var u=new r.constructor(r.type,r);Gc=u,r.target.dispatchEvent(u),Gc=null}else return a=Ha(r),a!==null&&ov(a),i.blockedOn=r,!1;a.shift()}return!0}function dv(i,a,r){Ol(i)&&r.delete(a)}function W1(){Hd=!1,Kn!==null&&Ol(Kn)&&(Kn=null),Wn!==null&&Ol(Wn)&&(Wn=null),Qn!==null&&Ol(Qn)&&(Qn=null),Pr.forEach(dv),zr.forEach(dv)}function kl(i,a){i.blockedOn===a&&(i.blockedOn=null,Hd||(Hd=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,W1)))}var Ll=null;function hv(i){Ll!==i&&(Ll=i,o.unstable_scheduleCallback(o.unstable_NormalPriority,function(){Ll===i&&(Ll=null);for(var a=0;a<i.length;a+=3){var r=i[a],u=i[a+1],p=i[a+2];if(typeof u!="function"){if(Bd(u||r)===null)continue;break}var g=Ha(r);g!==null&&(i.splice(a,3),a-=3,Bu(g,{pending:!0,data:p,method:r.method,action:u},u,p))}}))}function Fr(i){function a(O){return kl(O,i)}Kn!==null&&kl(Kn,i),Wn!==null&&kl(Wn,i),Qn!==null&&kl(Qn,i),Pr.forEach(a),zr.forEach(a);for(var r=0;r<Zn.length;r++){var u=Zn[r];u.blockedOn===i&&(u.blockedOn=null)}for(;0<Zn.length&&(r=Zn[0],r.blockedOn===null);)uv(r),r.blockedOn===null&&Zn.shift();if(r=(i.ownerDocument||i).$$reactFormReplay,r!=null)for(u=0;u<r.length;u+=3){var p=r[u],g=r[u+1],w=p[Ye]||null;if(typeof g=="function")w||hv(r);else if(w){var C=null;if(g&&g.hasAttribute("formAction")){if(p=g,w=g[Ye]||null)C=w.formAction;else if(Bd(p)!==null)continue}else C=w.action;typeof C=="function"?r[u+1]=C:(r.splice(u,3),u-=3),hv(r)}}}function Ud(i){this._internalRoot=i}jl.prototype.render=Ud.prototype.render=function(i){var a=this._internalRoot;if(a===null)throw Error(n(409));var r=a.current,u=ci();sv(r,u,i,a,null,null)},jl.prototype.unmount=Ud.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var a=i.containerInfo;sv(i.current,2,null,i,null,null),gl(),a[Fa]=null}};function jl(i){this._internalRoot=i}jl.prototype.unstable_scheduleHydration=function(i){if(i){var a=Df();i={blockedOn:null,target:i,priority:a};for(var r=0;r<Zn.length&&a!==0&&a<Zn[r].priority;r++);Zn.splice(r,0,i),r===0&&uv(i)}};var fv=t.version;if(fv!=="19.1.0")throw Error(n(527,fv,"19.1.0"));G.findDOMNode=function(i){var a=i._reactInternals;if(a===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=h(a),i=i!==null?f(i):null,i=i===null?null:i.stateNode,i};var Q1={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:P,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pl.isDisabled&&Pl.supportsFiber)try{Yt=Pl.inject(Q1),Pt=Pl}catch{}}return Hr.createRoot=function(i,a){if(!s(i))throw Error(n(299));var r=!1,u="",p=Dm,g=Mm,w=Nm,C=null;return a!=null&&(a.unstable_strictMode===!0&&(r=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onUncaughtError!==void 0&&(p=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(w=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(C=a.unstable_transitionCallbacks)),a=nv(i,1,!1,null,null,r,u,p,g,w,C,null),i[Fa]=a.current,Ed(i),new Ud(a)},Hr.hydrateRoot=function(i,a,r){if(!s(i))throw Error(n(299));var u=!1,p="",g=Dm,w=Mm,C=Nm,O=null,B=null;return r!=null&&(r.unstable_strictMode===!0&&(u=!0),r.identifierPrefix!==void 0&&(p=r.identifierPrefix),r.onUncaughtError!==void 0&&(g=r.onUncaughtError),r.onCaughtError!==void 0&&(w=r.onCaughtError),r.onRecoverableError!==void 0&&(C=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(O=r.unstable_transitionCallbacks),r.formState!==void 0&&(B=r.formState)),a=nv(i,1,!0,a,r??null,u,p,g,w,C,O,B),a.context=av(null),r=a.current,u=ci(),u=kc(u),p=jn(u),p.callback=null,Pn(r,p,u),r=u,a.current.lanes=r,$s(a,r),Ii(a),i[Fa]=a.current,Ed(i),new jl(a)},Hr.version="19.1.0",Hr}var _v;function rA(){if(_v)return Vd.exports;_v=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(t){console.error(t)}}return o(),Vd.exports=sA(),Vd.exports}var oA=rA(),Ur={},Tv;function lA(){if(Tv)return Ur;Tv=1,Object.defineProperty(Ur,"__esModule",{value:!0}),Ur.parse=c,Ur.serialize=f;const o=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,e=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,n=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,l=(()=>{const y=function(){};return y.prototype=Object.create(null),y})();function c(y,b){const x=new l,A=y.length;if(A<2)return x;const T=b?.decode||m;let E=0;do{const M=y.indexOf("=",E);if(M===-1)break;const R=y.indexOf(";",E),N=R===-1?A:R;if(M>N){E=y.lastIndexOf(";",M-1)+1;continue}const D=d(y,E,M),L=h(y,M,D),z=y.slice(D,L);if(x[z]===void 0){let q=d(y,M+1,N),$=h(y,N,q);const W=T(y.slice(q,$));x[z]=W}E=N+1}while(E<A);return x}function d(y,b,x){do{const A=y.charCodeAt(b);if(A!==32&&A!==9)return b}while(++b<x);return x}function h(y,b,x){for(;b>x;){const A=y.charCodeAt(--b);if(A!==32&&A!==9)return b+1}return x}function f(y,b,x){const A=x?.encode||encodeURIComponent;if(!o.test(y))throw new TypeError(`argument name is invalid: ${y}`);const T=A(b);if(!t.test(T))throw new TypeError(`argument val is invalid: ${b}`);let E=y+"="+T;if(!x)return E;if(x.maxAge!==void 0){if(!Number.isInteger(x.maxAge))throw new TypeError(`option maxAge is invalid: ${x.maxAge}`);E+="; Max-Age="+x.maxAge}if(x.domain){if(!e.test(x.domain))throw new TypeError(`option domain is invalid: ${x.domain}`);E+="; Domain="+x.domain}if(x.path){if(!n.test(x.path))throw new TypeError(`option path is invalid: ${x.path}`);E+="; Path="+x.path}if(x.expires){if(!v(x.expires)||!Number.isFinite(x.expires.valueOf()))throw new TypeError(`option expires is invalid: ${x.expires}`);E+="; Expires="+x.expires.toUTCString()}if(x.httpOnly&&(E+="; HttpOnly"),x.secure&&(E+="; Secure"),x.partitioned&&(E+="; Partitioned"),x.priority)switch(typeof x.priority=="string"?x.priority.toLowerCase():void 0){case"low":E+="; Priority=Low";break;case"medium":E+="; Priority=Medium";break;case"high":E+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${x.priority}`)}if(x.sameSite)switch(typeof x.sameSite=="string"?x.sameSite.toLowerCase():x.sameSite){case!0:case"strict":E+="; SameSite=Strict";break;case"lax":E+="; SameSite=Lax";break;case"none":E+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${x.sameSite}`)}return E}function m(y){if(y.indexOf("%")===-1)return y;try{return decodeURIComponent(y)}catch{return y}}function v(y){return s.call(y)==="[object Date]"}return Ur}lA();var Cv="popstate";function cA(o={}){function t(n,s){let{pathname:l,search:c,hash:d}=n.location;return vh("",{pathname:l,search:c,hash:d},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function e(n,s){return typeof s=="string"?s:eo(s)}return dA(t,e,null,o)}function ee(o,t){if(o===!1||o===null||typeof o>"u")throw new Error(t)}function Yi(o,t){if(!o){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function uA(){return Math.random().toString(36).substring(2,10)}function Rv(o,t){return{usr:o.state,key:o.key,idx:t}}function vh(o,t,e=null,n){return{pathname:typeof o=="string"?o:o.pathname,search:"",hash:"",...typeof t=="string"?Ps(t):t,state:e,key:t&&t.key||n||uA()}}function eo({pathname:o="/",search:t="",hash:e=""}){return t&&t!=="?"&&(o+=t.charAt(0)==="?"?t:"?"+t),e&&e!=="#"&&(o+=e.charAt(0)==="#"?e:"#"+e),o}function Ps(o){let t={};if(o){let e=o.indexOf("#");e>=0&&(t.hash=o.substring(e),o=o.substring(0,e));let n=o.indexOf("?");n>=0&&(t.search=o.substring(n),o=o.substring(0,n)),o&&(t.pathname=o)}return t}function dA(o,t,e,n={}){let{window:s=document.defaultView,v5Compat:l=!1}=n,c=s.history,d="POP",h=null,f=m();f==null&&(f=0,c.replaceState({...c.state,idx:f},""));function m(){return(c.state||{idx:null}).idx}function v(){d="POP";let T=m(),E=T==null?null:T-f;f=T,h&&h({action:d,location:A.location,delta:E})}function y(T,E){d="PUSH";let M=vh(A.location,T,E);f=m()+1;let R=Rv(M,f),N=A.createHref(M);try{c.pushState(R,"",N)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;s.location.assign(N)}l&&h&&h({action:d,location:A.location,delta:1})}function b(T,E){d="REPLACE";let M=vh(A.location,T,E);f=m();let R=Rv(M,f),N=A.createHref(M);c.replaceState(R,"",N),l&&h&&h({action:d,location:A.location,delta:0})}function x(T){return hA(T)}let A={get action(){return d},get location(){return o(s,c)},listen(T){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(Cv,v),h=T,()=>{s.removeEventListener(Cv,v),h=null}},createHref(T){return t(s,T)},createURL:x,encodeLocation(T){let E=x(T);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:y,replace:b,go(T){return c.go(T)}};return A}function hA(o,t=!1){let e="http://localhost";typeof window<"u"&&(e=window.location.origin!=="null"?window.location.origin:window.location.href),ee(e,"No window.location.(origin|href) available to create URL");let n=typeof o=="string"?o:eo(o);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=e+n),new URL(n,e)}function Ny(o,t,e="/"){return fA(o,t,e,!1)}function fA(o,t,e,n){let s=typeof t=="string"?Ps(t):t,l=wn(s.pathname||"/",e);if(l==null)return null;let c=Oy(o);pA(c);let d=null;for(let h=0;d==null&&h<c.length;++h){let f=_A(l);d=SA(c[h],f,n)}return d}function Oy(o,t=[],e=[],n=""){let s=(l,c,d)=>{let h={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};h.relativePath.startsWith("/")&&(ee(h.relativePath.startsWith(n),`Absolute route path "${h.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(n.length));let f=xn([n,h.relativePath]),m=e.concat(h);l.children&&l.children.length>0&&(ee(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),Oy(l.children,t,m,f)),!(l.path==null&&!l.index)&&t.push({path:f,score:AA(f,l.index),routesMeta:m})};return o.forEach((l,c)=>{if(l.path===""||!l.path?.includes("?"))s(l,c);else for(let d of ky(l.path))s(l,c,d)}),t}function ky(o){let t=o.split("/");if(t.length===0)return[];let[e,...n]=t,s=e.endsWith("?"),l=e.replace(/\?$/,"");if(n.length===0)return s?[l,""]:[l];let c=ky(n.join("/")),d=[];return d.push(...c.map(h=>h===""?l:[l,h].join("/"))),s&&d.push(...c),d.map(h=>o.startsWith("/")&&h===""?"/":h)}function pA(o){o.sort((t,e)=>t.score!==e.score?e.score-t.score:wA(t.routesMeta.map(n=>n.childrenIndex),e.routesMeta.map(n=>n.childrenIndex)))}var mA=/^:[\w-]+$/,gA=3,vA=2,yA=1,bA=10,xA=-2,Dv=o=>o==="*";function AA(o,t){let e=o.split("/"),n=e.length;return e.some(Dv)&&(n+=xA),t&&(n+=vA),e.filter(s=>!Dv(s)).reduce((s,l)=>s+(mA.test(l)?gA:l===""?yA:bA),n)}function wA(o,t){return o.length===t.length&&o.slice(0,-1).every((n,s)=>n===t[s])?o[o.length-1]-t[t.length-1]:0}function SA(o,t,e=!1){let{routesMeta:n}=o,s={},l="/",c=[];for(let d=0;d<n.length;++d){let h=n[d],f=d===n.length-1,m=l==="/"?t:t.slice(l.length)||"/",v=tc({path:h.relativePath,caseSensitive:h.caseSensitive,end:f},m),y=h.route;if(!v&&f&&e&&!n[n.length-1].route.index&&(v=tc({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},m)),!v)return null;Object.assign(s,v.params),c.push({params:s,pathname:xn([l,v.pathname]),pathnameBase:DA(xn([l,v.pathnameBase])),route:y}),v.pathnameBase!=="/"&&(l=xn([l,v.pathnameBase]))}return c}function tc(o,t){typeof o=="string"&&(o={path:o,caseSensitive:!1,end:!0});let[e,n]=EA(o.path,o.caseSensitive,o.end),s=t.match(e);if(!s)return null;let l=s[0],c=l.replace(/(.)\/+$/,"$1"),d=s.slice(1);return{params:n.reduce((f,{paramName:m,isOptional:v},y)=>{if(m==="*"){let x=d[y]||"";c=l.slice(0,l.length-x.length).replace(/(.)\/+$/,"$1")}const b=d[y];return v&&!b?f[m]=void 0:f[m]=(b||"").replace(/%2F/g,"/"),f},{}),pathname:l,pathnameBase:c,pattern:o}}function EA(o,t=!1,e=!0){Yi(o==="*"||!o.endsWith("*")||o.endsWith("/*"),`Route path "${o}" will be treated as if it were "${o.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${o.replace(/\*$/,"/*")}".`);let n=[],s="^"+o.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,h)=>(n.push({paramName:d,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return o.endsWith("*")?(n.push({paramName:"*"}),s+=o==="*"||o==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?s+="\\/*$":o!==""&&o!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function _A(o){try{return o.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Yi(!1,`The URL path "${o}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),o}}function wn(o,t){if(t==="/")return o;if(!o.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,n=o.charAt(e);return n&&n!=="/"?null:o.slice(e)||"/"}function TA(o,t="/"){let{pathname:e,search:n="",hash:s=""}=typeof o=="string"?Ps(o):o;return{pathname:e?e.startsWith("/")?e:CA(e,t):t,search:MA(n),hash:NA(s)}}function CA(o,t){let e=t.replace(/\/+$/,"").split("/");return o.split("/").forEach(s=>{s===".."?e.length>1&&e.pop():s!=="."&&e.push(s)}),e.length>1?e.join("/"):"/"}function Wd(o,t,e,n){return`Cannot include a '${o}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function RA(o){return o.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function Ly(o){let t=RA(o);return t.map((e,n)=>n===t.length-1?e.pathname:e.pathnameBase)}function jy(o,t,e,n=!1){let s;typeof o=="string"?s=Ps(o):(s={...o},ee(!s.pathname||!s.pathname.includes("?"),Wd("?","pathname","search",s)),ee(!s.pathname||!s.pathname.includes("#"),Wd("#","pathname","hash",s)),ee(!s.search||!s.search.includes("#"),Wd("#","search","hash",s)));let l=o===""||s.pathname==="",c=l?"/":s.pathname,d;if(c==null)d=e;else{let v=t.length-1;if(!n&&c.startsWith("..")){let y=c.split("/");for(;y[0]==="..";)y.shift(),v-=1;s.pathname=y.join("/")}d=v>=0?t[v]:"/"}let h=TA(s,d),f=c&&c!=="/"&&c.endsWith("/"),m=(l||c===".")&&e.endsWith("/");return!h.pathname.endsWith("/")&&(f||m)&&(h.pathname+="/"),h}var xn=o=>o.join("/").replace(/\/\/+/g,"/"),DA=o=>o.replace(/\/+$/,"").replace(/^\/*/,"/"),MA=o=>!o||o==="?"?"":o.startsWith("?")?o:"?"+o,NA=o=>!o||o==="#"?"":o.startsWith("#")?o:"#"+o;function OA(o){return o!=null&&typeof o.status=="number"&&typeof o.statusText=="string"&&typeof o.internal=="boolean"&&"data"in o}var Py=["POST","PUT","PATCH","DELETE"];new Set(Py);var kA=["GET",...Py];new Set(kA);var zs=_.createContext(null);zs.displayName="DataRouter";var pc=_.createContext(null);pc.displayName="DataRouterState";var zy=_.createContext({isTransitioning:!1});zy.displayName="ViewTransition";var LA=_.createContext(new Map);LA.displayName="Fetchers";var jA=_.createContext(null);jA.displayName="Await";var Xi=_.createContext(null);Xi.displayName="Navigation";var ho=_.createContext(null);ho.displayName="Location";var Tn=_.createContext({outlet:null,matches:[],isDataRoute:!1});Tn.displayName="Route";var Ih=_.createContext(null);Ih.displayName="RouteError";function PA(o,{relative:t}={}){ee(fo(),"useHref() may be used only in the context of a <Router> component.");let{basename:e,navigator:n}=_.useContext(Xi),{hash:s,pathname:l,search:c}=po(o,{relative:t}),d=l;return e!=="/"&&(d=l==="/"?e:xn([e,l])),n.createHref({pathname:d,search:c,hash:s})}function fo(){return _.useContext(ho)!=null}function La(){return ee(fo(),"useLocation() may be used only in the context of a <Router> component."),_.useContext(ho).location}var Iy="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Fy(o){_.useContext(Xi).static||_.useLayoutEffect(o)}function Fh(){let{isDataRoute:o}=_.useContext(Tn);return o?KA():zA()}function zA(){ee(fo(),"useNavigate() may be used only in the context of a <Router> component.");let o=_.useContext(zs),{basename:t,navigator:e}=_.useContext(Xi),{matches:n}=_.useContext(Tn),{pathname:s}=La(),l=JSON.stringify(Ly(n)),c=_.useRef(!1);return Fy(()=>{c.current=!0}),_.useCallback((h,f={})=>{if(Yi(c.current,Iy),!c.current)return;if(typeof h=="number"){e.go(h);return}let m=jy(h,JSON.parse(l),s,f.relative==="path");o==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:xn([t,m.pathname])),(f.replace?e.replace:e.push)(m,f.state,f)},[t,e,l,s,o])}_.createContext(null);function po(o,{relative:t}={}){let{matches:e}=_.useContext(Tn),{pathname:n}=La(),s=JSON.stringify(Ly(e));return _.useMemo(()=>jy(o,JSON.parse(s),n,t==="path"),[o,s,n,t])}function IA(o,t){return By(o,t)}function By(o,t,e,n){ee(fo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=_.useContext(Xi),{matches:l}=_.useContext(Tn),c=l[l.length-1],d=c?c.params:{},h=c?c.pathname:"/",f=c?c.pathnameBase:"/",m=c&&c.route;{let E=m&&m.path||"";Hy(h,!m||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let v=La(),y;if(t){let E=typeof t=="string"?Ps(t):t;ee(f==="/"||E.pathname?.startsWith(f),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${E.pathname}" was given in the \`location\` prop.`),y=E}else y=v;let b=y.pathname||"/",x=b;if(f!=="/"){let E=f.replace(/^\//,"").split("/");x="/"+b.replace(/^\//,"").split("/").slice(E.length).join("/")}let A=Ny(o,{pathname:x});Yi(m||A!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),Yi(A==null||A[A.length-1].route.element!==void 0||A[A.length-1].route.Component!==void 0||A[A.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let T=GA(A&&A.map(E=>Object.assign({},E,{params:Object.assign({},d,E.params),pathname:xn([f,s.encodeLocation?s.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?f:xn([f,s.encodeLocation?s.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),l,e,n);return t&&T?_.createElement(ho.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},T):T}function FA(){let o=XA(),t=OA(o)?`${o.status} ${o.statusText}`:o instanceof Error?o.message:JSON.stringify(o),e=o instanceof Error?o.stack:null,n="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:n},l={padding:"2px 4px",backgroundColor:n},c=null;return console.error("Error handled by React Router default ErrorBoundary:",o),c=_.createElement(_.Fragment,null,_.createElement("p",null," Hey developer "),_.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",_.createElement("code",{style:l},"ErrorBoundary")," or"," ",_.createElement("code",{style:l},"errorElement")," prop on your route.")),_.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},t),e?_.createElement("pre",{style:s},e):null,c)}var BA=_.createElement(FA,null),HA=class extends _.Component{constructor(o){super(o),this.state={location:o.location,revalidation:o.revalidation,error:o.error}}static getDerivedStateFromError(o){return{error:o}}static getDerivedStateFromProps(o,t){return t.location!==o.location||t.revalidation!=="idle"&&o.revalidation==="idle"?{error:o.error,location:o.location,revalidation:o.revalidation}:{error:o.error!==void 0?o.error:t.error,location:t.location,revalidation:o.revalidation||t.revalidation}}componentDidCatch(o,t){console.error("React Router caught the following error during render",o,t)}render(){return this.state.error!==void 0?_.createElement(Tn.Provider,{value:this.props.routeContext},_.createElement(Ih.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function UA({routeContext:o,match:t,children:e}){let n=_.useContext(zs);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),_.createElement(Tn.Provider,{value:o},e)}function GA(o,t=[],e=null,n=null){if(o==null){if(!e)return null;if(e.errors)o=e.matches;else if(t.length===0&&!e.initialized&&e.matches.length>0)o=e.matches;else return null}let s=o,l=e?.errors;if(l!=null){let h=s.findIndex(f=>f.route.id&&l?.[f.route.id]!==void 0);ee(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),s=s.slice(0,Math.min(s.length,h+1))}let c=!1,d=-1;if(e)for(let h=0;h<s.length;h++){let f=s[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(d=h),f.route.id){let{loaderData:m,errors:v}=e,y=f.route.loader&&!m.hasOwnProperty(f.route.id)&&(!v||v[f.route.id]===void 0);if(f.route.lazy||y){c=!0,d>=0?s=s.slice(0,d+1):s=[s[0]];break}}}return s.reduceRight((h,f,m)=>{let v,y=!1,b=null,x=null;e&&(v=l&&f.route.id?l[f.route.id]:void 0,b=f.route.errorElement||BA,c&&(d<0&&m===0?(Hy("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,x=null):d===m&&(y=!0,x=f.route.hydrateFallbackElement||null)));let A=t.concat(s.slice(0,m+1)),T=()=>{let E;return v?E=b:y?E=x:f.route.Component?E=_.createElement(f.route.Component,null):f.route.element?E=f.route.element:E=h,_.createElement(UA,{match:f,routeContext:{outlet:h,matches:A,isDataRoute:e!=null},children:E})};return e&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?_.createElement(HA,{location:e.location,revalidation:e.revalidation,component:b,error:v,children:T(),routeContext:{outlet:null,matches:A,isDataRoute:!0}}):T()},null)}function Bh(o){return`${o} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function qA(o){let t=_.useContext(zs);return ee(t,Bh(o)),t}function $A(o){let t=_.useContext(pc);return ee(t,Bh(o)),t}function VA(o){let t=_.useContext(Tn);return ee(t,Bh(o)),t}function Hh(o){let t=VA(o),e=t.matches[t.matches.length-1];return ee(e.route.id,`${o} can only be used on routes that contain a unique "id"`),e.route.id}function YA(){return Hh("useRouteId")}function XA(){let o=_.useContext(Ih),t=$A("useRouteError"),e=Hh("useRouteError");return o!==void 0?o:t.errors?.[e]}function KA(){let{router:o}=qA("useNavigate"),t=Hh("useNavigate"),e=_.useRef(!1);return Fy(()=>{e.current=!0}),_.useCallback(async(s,l={})=>{Yi(e.current,Iy),e.current&&(typeof s=="number"?o.navigate(s):await o.navigate(s,{fromRouteId:t,...l}))},[o,t])}var Mv={};function Hy(o,t,e){!t&&!Mv[o]&&(Mv[o]=!0,Yi(!1,e))}_.memo(WA);function WA({routes:o,future:t,state:e}){return By(o,void 0,e,t)}function Je(o){ee(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function QA({basename:o="/",children:t=null,location:e,navigationType:n="POP",navigator:s,static:l=!1}){ee(!fo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=o.replace(/^\/*/,"/"),d=_.useMemo(()=>({basename:c,navigator:s,static:l,future:{}}),[c,s,l]);typeof e=="string"&&(e=Ps(e));let{pathname:h="/",search:f="",hash:m="",state:v=null,key:y="default"}=e,b=_.useMemo(()=>{let x=wn(h,c);return x==null?null:{location:{pathname:x,search:f,hash:m,state:v,key:y},navigationType:n}},[c,h,f,m,v,y,n]);return Yi(b!=null,`<Router basename="${c}"> is not able to match the URL "${h}${f}${m}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:_.createElement(Xi.Provider,{value:d},_.createElement(ho.Provider,{children:t,value:b}))}function ZA({children:o,location:t}){return IA(yh(o),t)}function yh(o,t=[]){let e=[];return _.Children.forEach(o,(n,s)=>{if(!_.isValidElement(n))return;let l=[...t,s];if(n.type===_.Fragment){e.push.apply(e,yh(n.props.children,l));return}ee(n.type===Je,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ee(!n.props.index||!n.props.children,"An index route cannot have child routes.");let c={id:n.props.id||l.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(c.children=yh(n.props.children,l)),e.push(c)}),e}var Wl="get",Ql="application/x-www-form-urlencoded";function mc(o){return o!=null&&typeof o.tagName=="string"}function JA(o){return mc(o)&&o.tagName.toLowerCase()==="button"}function tw(o){return mc(o)&&o.tagName.toLowerCase()==="form"}function ew(o){return mc(o)&&o.tagName.toLowerCase()==="input"}function iw(o){return!!(o.metaKey||o.altKey||o.ctrlKey||o.shiftKey)}function nw(o,t){return o.button===0&&(!t||t==="_self")&&!iw(o)}var zl=null;function aw(){if(zl===null)try{new FormData(document.createElement("form"),0),zl=!1}catch{zl=!0}return zl}var sw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Qd(o){return o!=null&&!sw.has(o)?(Yi(!1,`"${o}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ql}"`),null):o}function rw(o,t){let e,n,s,l,c;if(tw(o)){let d=o.getAttribute("action");n=d?wn(d,t):null,e=o.getAttribute("method")||Wl,s=Qd(o.getAttribute("enctype"))||Ql,l=new FormData(o)}else if(JA(o)||ew(o)&&(o.type==="submit"||o.type==="image")){let d=o.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=o.getAttribute("formaction")||d.getAttribute("action");if(n=h?wn(h,t):null,e=o.getAttribute("formmethod")||d.getAttribute("method")||Wl,s=Qd(o.getAttribute("formenctype"))||Qd(d.getAttribute("enctype"))||Ql,l=new FormData(d,o),!aw()){let{name:f,type:m,value:v}=o;if(m==="image"){let y=f?`${f}.`:"";l.append(`${y}x`,"0"),l.append(`${y}y`,"0")}else f&&l.append(f,v)}}else{if(mc(o))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');e=Wl,n=null,s=Ql,c=o}return l&&s==="text/plain"&&(c=l,l=void 0),{action:n,method:e.toLowerCase(),encType:s,formData:l,body:c}}function Uh(o,t){if(o===!1||o===null||typeof o>"u")throw new Error(t)}async function ow(o,t){if(o.id in t)return t[o.id];try{let e=await import(o.module);return t[o.id]=e,e}catch(e){return console.error(`Error loading route module \`${o.module}\`, reloading page...`),console.error(e),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function lw(o){return o==null?!1:o.href==null?o.rel==="preload"&&typeof o.imageSrcSet=="string"&&typeof o.imageSizes=="string":typeof o.rel=="string"&&typeof o.href=="string"}async function cw(o,t,e){let n=await Promise.all(o.map(async s=>{let l=t.routes[s.route.id];if(l){let c=await ow(l,e);return c.links?c.links():[]}return[]}));return fw(n.flat(1).filter(lw).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function Nv(o,t,e,n,s,l){let c=(h,f)=>e[f]?h.route.id!==e[f].route.id:!0,d=(h,f)=>e[f].pathname!==h.pathname||e[f].route.path?.endsWith("*")&&e[f].params["*"]!==h.params["*"];return l==="assets"?t.filter((h,f)=>c(h,f)||d(h,f)):l==="data"?t.filter((h,f)=>{let m=n.routes[h.route.id];if(!m||!m.hasLoader)return!1;if(c(h,f)||d(h,f))return!0;if(h.route.shouldRevalidate){let v=h.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:e[0]?.params||{},nextUrl:new URL(o,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function uw(o,t,{includeHydrateFallback:e}={}){return dw(o.map(n=>{let s=t.routes[n.route.id];if(!s)return[];let l=[s.module];return s.clientActionModule&&(l=l.concat(s.clientActionModule)),s.clientLoaderModule&&(l=l.concat(s.clientLoaderModule)),e&&s.hydrateFallbackModule&&(l=l.concat(s.hydrateFallbackModule)),s.imports&&(l=l.concat(s.imports)),l}).flat(1))}function dw(o){return[...new Set(o)]}function hw(o){let t={},e=Object.keys(o).sort();for(let n of e)t[n]=o[n];return t}function fw(o,t){let e=new Set;return new Set(t),o.reduce((n,s)=>{let l=JSON.stringify(hw(s));return e.has(l)||(e.add(l),n.push({key:l,link:s})),n},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var pw=new Set([100,101,204,205]);function mw(o,t){let e=typeof o=="string"?new URL(o,typeof window>"u"?"server://singlefetch/":window.location.origin):o;return e.pathname==="/"?e.pathname="_root.data":t&&wn(e.pathname,t)==="/"?e.pathname=`${t.replace(/\/$/,"")}/_root.data`:e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function Uy(){let o=_.useContext(zs);return Uh(o,"You must render this element inside a <DataRouterContext.Provider> element"),o}function gw(){let o=_.useContext(pc);return Uh(o,"You must render this element inside a <DataRouterStateContext.Provider> element"),o}var Gh=_.createContext(void 0);Gh.displayName="FrameworkContext";function Gy(){let o=_.useContext(Gh);return Uh(o,"You must render this element inside a <HydratedRouter> element"),o}function vw(o,t){let e=_.useContext(Gh),[n,s]=_.useState(!1),[l,c]=_.useState(!1),{onFocus:d,onBlur:h,onMouseEnter:f,onMouseLeave:m,onTouchStart:v}=t,y=_.useRef(null);_.useEffect(()=>{if(o==="render"&&c(!0),o==="viewport"){let A=E=>{E.forEach(M=>{c(M.isIntersecting)})},T=new IntersectionObserver(A,{threshold:.5});return y.current&&T.observe(y.current),()=>{T.disconnect()}}},[o]),_.useEffect(()=>{if(n){let A=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(A)}}},[n]);let b=()=>{s(!0)},x=()=>{s(!1),c(!1)};return e?o!=="intent"?[l,y,{}]:[l,y,{onFocus:Gr(d,b),onBlur:Gr(h,x),onMouseEnter:Gr(f,b),onMouseLeave:Gr(m,x),onTouchStart:Gr(v,b)}]:[!1,y,{}]}function Gr(o,t){return e=>{o&&o(e),e.defaultPrevented||t(e)}}function yw({page:o,...t}){let{router:e}=Uy(),n=_.useMemo(()=>Ny(e.routes,o,e.basename),[e.routes,o,e.basename]);return n?_.createElement(xw,{page:o,matches:n,...t}):null}function bw(o){let{manifest:t,routeModules:e}=Gy(),[n,s]=_.useState([]);return _.useEffect(()=>{let l=!1;return cw(o,t,e).then(c=>{l||s(c)}),()=>{l=!0}},[o,t,e]),n}function xw({page:o,matches:t,...e}){let n=La(),{manifest:s,routeModules:l}=Gy(),{basename:c}=Uy(),{loaderData:d,matches:h}=gw(),f=_.useMemo(()=>Nv(o,t,h,s,n,"data"),[o,t,h,s,n]),m=_.useMemo(()=>Nv(o,t,h,s,n,"assets"),[o,t,h,s,n]),v=_.useMemo(()=>{if(o===n.pathname+n.search+n.hash)return[];let x=new Set,A=!1;if(t.forEach(E=>{let M=s.routes[E.route.id];!M||!M.hasLoader||(!f.some(R=>R.route.id===E.route.id)&&E.route.id in d&&l[E.route.id]?.shouldRevalidate||M.hasClientLoader?A=!0:x.add(E.route.id))}),x.size===0)return[];let T=mw(o,c);return A&&x.size>0&&T.searchParams.set("_routes",t.filter(E=>x.has(E.route.id)).map(E=>E.route.id).join(",")),[T.pathname+T.search]},[c,d,n,s,f,t,o,l]),y=_.useMemo(()=>uw(m,s),[m,s]),b=bw(m);return _.createElement(_.Fragment,null,v.map(x=>_.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...e})),y.map(x=>_.createElement("link",{key:x,rel:"modulepreload",href:x,...e})),b.map(({key:x,link:A})=>_.createElement("link",{key:x,...A})))}function Aw(...o){return t=>{o.forEach(e=>{typeof e=="function"?e(t):e!=null&&(e.current=t)})}}var qy=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{qy&&(window.__reactRouterVersion="7.6.3")}catch{}function ww({basename:o,children:t,window:e}){let n=_.useRef();n.current==null&&(n.current=cA({window:e,v5Compat:!0}));let s=n.current,[l,c]=_.useState({action:s.action,location:s.location}),d=_.useCallback(h=>{_.startTransition(()=>c(h))},[c]);return _.useLayoutEffect(()=>s.listen(d),[s,d]),_.createElement(QA,{basename:o,children:t,location:l.location,navigationType:l.action,navigator:s})}var $y=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,He=_.forwardRef(function({onClick:t,discover:e="render",prefetch:n="none",relative:s,reloadDocument:l,replace:c,state:d,target:h,to:f,preventScrollReset:m,viewTransition:v,...y},b){let{basename:x}=_.useContext(Xi),A=typeof f=="string"&&$y.test(f),T,E=!1;if(typeof f=="string"&&A&&(T=f,qy))try{let $=new URL(window.location.href),W=f.startsWith("//")?new URL($.protocol+f):new URL(f),J=wn(W.pathname,x);W.origin===$.origin&&J!=null?f=J+W.search+W.hash:E=!0}catch{Yi(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let M=PA(f,{relative:s}),[R,N,D]=vw(n,y),L=Tw(f,{replace:c,state:d,target:h,preventScrollReset:m,relative:s,viewTransition:v});function z($){t&&t($),$.defaultPrevented||L($)}let q=_.createElement("a",{...y,...D,href:T||M,onClick:E||l?t:z,ref:Aw(b,N),target:h,"data-discover":!A&&e==="render"?"true":void 0});return R&&!A?_.createElement(_.Fragment,null,q,_.createElement(yw,{page:M})):q});He.displayName="Link";var Sw=_.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:n="",end:s=!1,style:l,to:c,viewTransition:d,children:h,...f},m){let v=po(c,{relative:f.relative}),y=La(),b=_.useContext(pc),{navigator:x,basename:A}=_.useContext(Xi),T=b!=null&&Nw(v)&&d===!0,E=x.encodeLocation?x.encodeLocation(v).pathname:v.pathname,M=y.pathname,R=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;e||(M=M.toLowerCase(),R=R?R.toLowerCase():null,E=E.toLowerCase()),R&&A&&(R=wn(R,A)||R);const N=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let D=M===E||!s&&M.startsWith(E)&&M.charAt(N)==="/",L=R!=null&&(R===E||!s&&R.startsWith(E)&&R.charAt(E.length)==="/"),z={isActive:D,isPending:L,isTransitioning:T},q=D?t:void 0,$;typeof n=="function"?$=n(z):$=[n,D?"active":null,L?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let W=typeof l=="function"?l(z):l;return _.createElement(He,{...f,"aria-current":q,className:$,ref:m,style:W,to:c,viewTransition:d},typeof h=="function"?h(z):h)});Sw.displayName="NavLink";var Ew=_.forwardRef(({discover:o="render",fetcherKey:t,navigate:e,reloadDocument:n,replace:s,state:l,method:c=Wl,action:d,onSubmit:h,relative:f,preventScrollReset:m,viewTransition:v,...y},b)=>{let x=Dw(),A=Mw(d,{relative:f}),T=c.toLowerCase()==="get"?"get":"post",E=typeof d=="string"&&$y.test(d),M=R=>{if(h&&h(R),R.defaultPrevented)return;R.preventDefault();let N=R.nativeEvent.submitter,D=N?.getAttribute("formmethod")||c;x(N||R.currentTarget,{fetcherKey:t,method:D,navigate:e,replace:s,state:l,relative:f,preventScrollReset:m,viewTransition:v})};return _.createElement("form",{ref:b,method:T,action:A,onSubmit:n?h:M,...y,"data-discover":!E&&o==="render"?"true":void 0})});Ew.displayName="Form";function _w(o){return`${o} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Vy(o){let t=_.useContext(zs);return ee(t,_w(o)),t}function Tw(o,{target:t,replace:e,state:n,preventScrollReset:s,relative:l,viewTransition:c}={}){let d=Fh(),h=La(),f=po(o,{relative:l});return _.useCallback(m=>{if(nw(m,t)){m.preventDefault();let v=e!==void 0?e:eo(h)===eo(f);d(o,{replace:v,state:n,preventScrollReset:s,relative:l,viewTransition:c})}},[h,d,f,e,n,t,o,s,l,c])}var Cw=0,Rw=()=>`__${String(++Cw)}__`;function Dw(){let{router:o}=Vy("useSubmit"),{basename:t}=_.useContext(Xi),e=YA();return _.useCallback(async(n,s={})=>{let{action:l,method:c,encType:d,formData:h,body:f}=rw(n,t);if(s.navigate===!1){let m=s.fetcherKey||Rw();await o.fetch(m,e,s.action||l,{preventScrollReset:s.preventScrollReset,formData:h,body:f,formMethod:s.method||c,formEncType:s.encType||d,flushSync:s.flushSync})}else await o.navigate(s.action||l,{preventScrollReset:s.preventScrollReset,formData:h,body:f,formMethod:s.method||c,formEncType:s.encType||d,replace:s.replace,state:s.state,fromRouteId:e,flushSync:s.flushSync,viewTransition:s.viewTransition})},[o,t,e])}function Mw(o,{relative:t}={}){let{basename:e}=_.useContext(Xi),n=_.useContext(Tn);ee(n,"useFormAction must be used inside a RouteContext");let[s]=n.matches.slice(-1),l={...po(o||".",{relative:t})},c=La();if(o==null){l.search=c.search;let d=new URLSearchParams(l.search),h=d.getAll("index");if(h.some(m=>m==="")){d.delete("index"),h.filter(v=>v).forEach(v=>d.append("index",v));let m=d.toString();l.search=m?`?${m}`:""}}return(!o||o===".")&&s.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),e!=="/"&&(l.pathname=l.pathname==="/"?e:xn([e,l.pathname])),eo(l)}function Nw(o,t={}){let e=_.useContext(zy);ee(e!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=Vy("useViewTransitionState"),s=po(o,{relative:t.relative});if(!e.isTransitioning)return!1;let l=wn(e.currentLocation.pathname,n)||e.currentLocation.pathname,c=wn(e.nextLocation.pathname,n)||e.nextLocation.pathname;return tc(s.pathname,c)!=null||tc(s.pathname,l)!=null}[...pw];var Ow=My();const Rs=uo(Ow);var Zd={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var Ov;function kw(){return Ov||(Ov=1,function(o){(function(){var t={}.hasOwnProperty;function e(){for(var l="",c=0;c<arguments.length;c++){var d=arguments[c];d&&(l=s(l,n(d)))}return l}function n(l){if(typeof l=="string"||typeof l=="number")return l;if(typeof l!="object")return"";if(Array.isArray(l))return e.apply(null,l);if(l.toString!==Object.prototype.toString&&!l.toString.toString().includes("[native code]"))return l.toString();var c="";for(var d in l)t.call(l,d)&&l[d]&&(c=s(c,d));return c}function s(l,c){return c?l?l+" "+c:l+c:l}o.exports?(e.default=e,o.exports=e):window.classNames=e})()}(Zd)),Zd.exports}var Lw=kw();const xt=uo(Lw);function bh(){return bh=Object.assign?Object.assign.bind():function(o){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var n in e)({}).hasOwnProperty.call(e,n)&&(o[n]=e[n])}return o},bh.apply(null,arguments)}function Yy(o,t){if(o==null)return{};var e={};for(var n in o)if({}.hasOwnProperty.call(o,n)){if(t.indexOf(n)!==-1)continue;e[n]=o[n]}return e}function kv(o){return"default"+o.charAt(0).toUpperCase()+o.substr(1)}function jw(o){var t=Pw(o,"string");return typeof t=="symbol"?t:String(t)}function Pw(o,t){if(typeof o!="object"||o===null)return o;var e=o[Symbol.toPrimitive];if(e!==void 0){var n=e.call(o,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(o)}function zw(o,t,e){var n=_.useRef(o!==void 0),s=_.useState(t),l=s[0],c=s[1],d=o!==void 0,h=n.current;return n.current=d,!d&&h&&l!==t&&c(t),[d?o:l,_.useCallback(function(f){for(var m=arguments.length,v=new Array(m>1?m-1:0),y=1;y<m;y++)v[y-1]=arguments[y];e&&e.apply(void 0,[f].concat(v)),c(f)},[e])]}function qh(o,t){return Object.keys(t).reduce(function(e,n){var s,l=e,c=l[kv(n)],d=l[n],h=Yy(l,[kv(n),n].map(jw)),f=t[n],m=zw(d,c,o[f]),v=m[0],y=m[1];return bh({},h,(s={},s[n]=v,s[f]=y,s))},o)}function xh(o,t){return xh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,n){return e.__proto__=n,e},xh(o,t)}function Iw(o,t){o.prototype=Object.create(t.prototype),o.prototype.constructor=o,xh(o,t)}const Fw=["xxl","xl","lg","md","sm","xs"],Bw="xs",gc=_.createContext({prefixes:{},breakpoints:Fw,minBreakpoint:Bw}),{Consumer:PC,Provider:zC}=gc;function Et(o,t){const{prefixes:e}=_.useContext(gc);return o||e[t]||t}function Xy(){const{breakpoints:o}=_.useContext(gc);return o}function Ky(){const{minBreakpoint:o}=_.useContext(gc);return o}function $h(o){return o&&o.ownerDocument||document}function Hw(o){var t=$h(o);return t&&t.defaultView||window}function Uw(o,t){return Hw(o).getComputedStyle(o,t)}var Gw=/([A-Z])/g;function qw(o){return o.replace(Gw,"-$1").toLowerCase()}var $w=/^ms-/;function Il(o){return qw(o).replace($w,"-ms-")}var Vw=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function Yw(o){return!!(o&&Vw.test(o))}function An(o,t){var e="",n="";if(typeof t=="string")return o.style.getPropertyValue(Il(t))||Uw(o).getPropertyValue(Il(t));Object.keys(t).forEach(function(s){var l=t[s];!l&&l!==0?o.style.removeProperty(Il(s)):Yw(s)?n+=s+"("+l+") ":e+=Il(s)+": "+l+";"}),n&&(e+="transform: "+n+";"),o.style.cssText+=";"+e}var Jd={exports:{}},th,Lv;function Xw(){if(Lv)return th;Lv=1;var o="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return th=o,th}var eh,jv;function Kw(){if(jv)return eh;jv=1;var o=Xw();function t(){}function e(){}return e.resetWarningCache=t,eh=function(){function n(c,d,h,f,m,v){if(v!==o){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}n.isRequired=n;function s(){return n}var l={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:s,element:n,elementType:n,instanceOf:s,node:n,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:e,resetWarningCache:t};return l.PropTypes=l,l},eh}var Pv;function Ww(){return Pv||(Pv=1,Jd.exports=Kw()()),Jd.exports}var Qw=Ww();const Ot=uo(Qw),zv={disabled:!1},Wy=Oe.createContext(null);var Zw=function(t){return t.scrollTop},Kr="unmounted",ta="exited",Ni="entering",vn="entered",io="exiting",Cn=function(o){Iw(t,o);function t(n,s){var l;l=o.call(this,n,s)||this;var c=s,d=c&&!c.isMounting?n.enter:n.appear,h;return l.appearStatus=null,n.in?d?(h=ta,l.appearStatus=Ni):h=vn:n.unmountOnExit||n.mountOnEnter?h=Kr:h=ta,l.state={status:h},l.nextCallback=null,l}t.getDerivedStateFromProps=function(s,l){var c=s.in;return c&&l.status===Kr?{status:ta}:null};var e=t.prototype;return e.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},e.componentDidUpdate=function(s){var l=null;if(s!==this.props){var c=this.state.status;this.props.in?c!==Ni&&c!==vn&&(l=Ni):(c===Ni||c===vn)&&(l=io)}this.updateStatus(!1,l)},e.componentWillUnmount=function(){this.cancelNextCallback()},e.getTimeouts=function(){var s=this.props.timeout,l,c,d;return l=c=d=s,s!=null&&typeof s!="number"&&(l=s.exit,c=s.enter,d=s.appear!==void 0?s.appear:c),{exit:l,enter:c,appear:d}},e.updateStatus=function(s,l){if(s===void 0&&(s=!1),l!==null)if(this.cancelNextCallback(),l===Ni){if(this.props.unmountOnExit||this.props.mountOnEnter){var c=this.props.nodeRef?this.props.nodeRef.current:Rs.findDOMNode(this);c&&Zw(c)}this.performEnter(s)}else this.performExit();else this.props.unmountOnExit&&this.state.status===ta&&this.setState({status:Kr})},e.performEnter=function(s){var l=this,c=this.props.enter,d=this.context?this.context.isMounting:s,h=this.props.nodeRef?[d]:[Rs.findDOMNode(this),d],f=h[0],m=h[1],v=this.getTimeouts(),y=d?v.appear:v.enter;if(!s&&!c||zv.disabled){this.safeSetState({status:vn},function(){l.props.onEntered(f)});return}this.props.onEnter(f,m),this.safeSetState({status:Ni},function(){l.props.onEntering(f,m),l.onTransitionEnd(y,function(){l.safeSetState({status:vn},function(){l.props.onEntered(f,m)})})})},e.performExit=function(){var s=this,l=this.props.exit,c=this.getTimeouts(),d=this.props.nodeRef?void 0:Rs.findDOMNode(this);if(!l||zv.disabled){this.safeSetState({status:ta},function(){s.props.onExited(d)});return}this.props.onExit(d),this.safeSetState({status:io},function(){s.props.onExiting(d),s.onTransitionEnd(c.exit,function(){s.safeSetState({status:ta},function(){s.props.onExited(d)})})})},e.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},e.safeSetState=function(s,l){l=this.setNextCallback(l),this.setState(s,l)},e.setNextCallback=function(s){var l=this,c=!0;return this.nextCallback=function(d){c&&(c=!1,l.nextCallback=null,s(d))},this.nextCallback.cancel=function(){c=!1},this.nextCallback},e.onTransitionEnd=function(s,l){this.setNextCallback(l);var c=this.props.nodeRef?this.props.nodeRef.current:Rs.findDOMNode(this),d=s==null&&!this.props.addEndListener;if(!c||d){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var h=this.props.nodeRef?[this.nextCallback]:[c,this.nextCallback],f=h[0],m=h[1];this.props.addEndListener(f,m)}s!=null&&setTimeout(this.nextCallback,s)},e.render=function(){var s=this.state.status;if(s===Kr)return null;var l=this.props,c=l.children;l.in,l.mountOnEnter,l.unmountOnExit,l.appear,l.enter,l.exit,l.timeout,l.addEndListener,l.onEnter,l.onEntering,l.onEntered,l.onExit,l.onExiting,l.onExited,l.nodeRef;var d=Yy(l,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Oe.createElement(Wy.Provider,{value:null},typeof c=="function"?c(s,d):Oe.cloneElement(Oe.Children.only(c),d))},t}(Oe.Component);Cn.contextType=Wy;Cn.propTypes={};function Es(){}Cn.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Es,onEntering:Es,onEntered:Es,onExit:Es,onExiting:Es,onExited:Es};Cn.UNMOUNTED=Kr;Cn.EXITED=ta;Cn.ENTERING=Ni;Cn.ENTERED=vn;Cn.EXITING=io;function Jw(o){return o.code==="Escape"||o.keyCode===27}function tS(){const o=_.version.split(".");return{major:+o[0],minor:+o[1],patch:+o[2]}}function Is(o){if(!o||typeof o=="function")return null;const{major:t}=tS();return t>=19?o.props.ref:o.ref}const vc=!!(typeof window<"u"&&window.document&&window.document.createElement);var Ah=!1,wh=!1;try{var ih={get passive(){return Ah=!0},get once(){return wh=Ah=!0}};vc&&(window.addEventListener("test",ih,ih),window.removeEventListener("test",ih,!0))}catch{}function eS(o,t,e,n){if(n&&typeof n!="boolean"&&!wh){var s=n.once,l=n.capture,c=e;!wh&&s&&(c=e.__once||function d(h){this.removeEventListener(t,d,l),e.call(this,h)},e.__once=c),o.addEventListener(t,c,Ah?n:l)}o.addEventListener(t,e,n)}function iS(o,t,e,n){var s=n&&typeof n!="boolean"?n.capture:n;o.removeEventListener(t,e,s),e.__once&&o.removeEventListener(t,e.__once,s)}function ec(o,t,e,n){return eS(o,t,e,n),function(){iS(o,t,e,n)}}function nS(o,t,e,n){if(n===void 0&&(n=!0),o){var s=document.createEvent("HTMLEvents");s.initEvent(t,e,n),o.dispatchEvent(s)}}function aS(o){var t=An(o,"transitionDuration")||"",e=t.indexOf("ms")===-1?1e3:1;return parseFloat(t)*e}function sS(o,t,e){e===void 0&&(e=5);var n=!1,s=setTimeout(function(){n||nS(o,"transitionend",!0)},t+e),l=ec(o,"transitionend",function(){n=!0},{once:!0});return function(){clearTimeout(s),l()}}function rS(o,t,e,n){e==null&&(e=aS(o)||0);var s=sS(o,e,n),l=ec(o,"transitionend",t);return function(){s(),l()}}function Iv(o,t){const e=An(o,t)||"",n=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*n}function Vh(o,t){const e=Iv(o,"transitionDuration"),n=Iv(o,"transitionDelay"),s=rS(o,l=>{l.target===o&&(s(),t(l))},e+n)}function qr(...o){return o.filter(t=>t!=null).reduce((t,e)=>{if(typeof e!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return t===null?e:function(...s){t.apply(this,s),e.apply(this,s)}},null)}function Qy(o){o.offsetHeight}const Fv=o=>!o||typeof o=="function"?o:t=>{o.current=t};function oS(o,t){const e=Fv(o),n=Fv(t);return s=>{e&&e(s),n&&n(s)}}function lS(o,t){return _.useMemo(()=>oS(o,t),[o,t])}function cS(o){return o&&"setState"in o?Rs.findDOMNode(o):o??null}const yc=Oe.forwardRef(({onEnter:o,onEntering:t,onEntered:e,onExit:n,onExiting:s,onExited:l,addEndListener:c,children:d,childRef:h,...f},m)=>{const v=_.useRef(null),y=lS(v,h),b=L=>{y(cS(L))},x=L=>z=>{L&&v.current&&L(v.current,z)},A=_.useCallback(x(o),[o]),T=_.useCallback(x(t),[t]),E=_.useCallback(x(e),[e]),M=_.useCallback(x(n),[n]),R=_.useCallback(x(s),[s]),N=_.useCallback(x(l),[l]),D=_.useCallback(x(c),[c]);return S.jsx(Cn,{ref:m,...f,onEnter:A,onEntered:E,onEntering:T,onExit:M,onExited:N,onExiting:R,addEndListener:D,nodeRef:v,children:typeof d=="function"?(L,z)=>d(L,{...z,ref:b}):Oe.cloneElement(d,{ref:b})})});yc.displayName="TransitionWrapper";const uS={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function dS(o,t){const e=`offset${o[0].toUpperCase()}${o.slice(1)}`,n=t[e],s=uS[o];return n+parseInt(An(t,s[0]),10)+parseInt(An(t,s[1]),10)}const hS={[ta]:"collapse",[io]:"collapsing",[Ni]:"collapsing",[vn]:"collapse show"},Zy=Oe.forwardRef(({onEnter:o,onEntering:t,onEntered:e,onExit:n,onExiting:s,className:l,children:c,dimension:d="height",in:h=!1,timeout:f=300,mountOnEnter:m=!1,unmountOnExit:v=!1,appear:y=!1,getDimensionValue:b=dS,...x},A)=>{const T=typeof d=="function"?d():d,E=_.useMemo(()=>qr(L=>{L.style[T]="0"},o),[T,o]),M=_.useMemo(()=>qr(L=>{const z=`scroll${T[0].toUpperCase()}${T.slice(1)}`;L.style[T]=`${L[z]}px`},t),[T,t]),R=_.useMemo(()=>qr(L=>{L.style[T]=null},e),[T,e]),N=_.useMemo(()=>qr(L=>{L.style[T]=`${b(T,L)}px`,Qy(L)},n),[n,b,T]),D=_.useMemo(()=>qr(L=>{L.style[T]=null},s),[T,s]);return S.jsx(yc,{ref:A,addEndListener:Vh,...x,"aria-expanded":x.role?h:null,onEnter:E,onEntering:M,onEntered:R,onExit:N,onExiting:D,childRef:Is(c),in:h,timeout:f,mountOnEnter:m,unmountOnExit:v,appear:y,children:(L,z)=>Oe.cloneElement(c,{...z,className:xt(l,c.props.className,hS[L],T==="width"&&"collapse-horizontal")})})});Zy.displayName="Collapse";function fS(o){const t=_.useRef(o);return _.useEffect(()=>{t.current=o},[o]),t}function mo(o){const t=fS(o);return _.useCallback(function(...e){return t.current&&t.current(...e)},[t])}const bc=o=>_.forwardRef((t,e)=>S.jsx("div",{...t,ref:e,className:xt(t.className,o)})),Jy=bc("h4");Jy.displayName="DivStyledAsH4";const tb=_.forwardRef(({className:o,bsPrefix:t,as:e=Jy,...n},s)=>(t=Et(t,"alert-heading"),S.jsx(e,{ref:s,className:xt(o,t),...n})));tb.displayName="AlertHeading";function pS(o){const t=_.useRef(o);return _.useEffect(()=>{t.current=o},[o]),t}function yn(o){const t=pS(o);return _.useCallback(function(...e){return t.current&&t.current(...e)},[t])}function mS(){const o=_.useRef(!0),t=_.useRef(()=>o.current);return _.useEffect(()=>(o.current=!0,()=>{o.current=!1}),[]),t.current}function gS(o){const t=_.useRef(null);return _.useEffect(()=>{t.current=o}),t.current}const vS=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",yS=typeof document<"u",Bv=yS||vS?_.useLayoutEffect:_.useEffect,bS=["as","disabled"];function xS(o,t){if(o==null)return{};var e={};for(var n in o)if({}.hasOwnProperty.call(o,n)){if(t.indexOf(n)>=0)continue;e[n]=o[n]}return e}function AS(o){return!o||o.trim()==="#"}function Yh({tagName:o,disabled:t,href:e,target:n,rel:s,role:l,onClick:c,tabIndex:d=0,type:h}){o||(e!=null||n!=null||s!=null?o="a":o="button");const f={tagName:o};if(o==="button")return[{type:h||"button",disabled:t},f];const m=y=>{if((t||o==="a"&&AS(e))&&y.preventDefault(),t){y.stopPropagation();return}c?.(y)},v=y=>{y.key===" "&&(y.preventDefault(),m(y))};return o==="a"&&(e||(e="#"),t&&(e=void 0)),[{role:l??"button",disabled:void 0,tabIndex:t?void 0:d,href:e,target:o==="a"?n:void 0,"aria-disabled":t||void 0,rel:o==="a"?s:void 0,onClick:m,onKeyDown:v},f]}const eb=_.forwardRef((o,t)=>{let{as:e,disabled:n}=o,s=xS(o,bS);const[l,{tagName:c}]=Yh(Object.assign({tagName:e,disabled:n},s));return S.jsx(c,Object.assign({},s,l,{ref:t}))});eb.displayName="Button";const wS=["onKeyDown"];function SS(o,t){if(o==null)return{};var e={};for(var n in o)if({}.hasOwnProperty.call(o,n)){if(t.indexOf(n)>=0)continue;e[n]=o[n]}return e}function ES(o){return!o||o.trim()==="#"}const Xh=_.forwardRef((o,t)=>{let{onKeyDown:e}=o,n=SS(o,wS);const[s]=Yh(Object.assign({tagName:"a"},n)),l=yn(c=>{s.onKeyDown(c),e?.(c)});return ES(n.href)||n.role==="button"?S.jsx("a",Object.assign({ref:t},n,s,{onKeyDown:l})):S.jsx("a",Object.assign({ref:t},n,{onKeyDown:e}))});Xh.displayName="Anchor";const ib=_.forwardRef(({className:o,bsPrefix:t,as:e=Xh,...n},s)=>(t=Et(t,"alert-link"),S.jsx(e,{ref:s,className:xt(o,t),...n})));ib.displayName="AlertLink";const _S={[Ni]:"show",[vn]:"show"},ic=_.forwardRef(({className:o,children:t,transitionClasses:e={},onEnter:n,...s},l)=>{const c={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...s},d=_.useCallback((h,f)=>{Qy(h),n?.(h,f)},[n]);return S.jsx(yc,{ref:l,addEndListener:Vh,...c,onEnter:d,childRef:Is(t),children:(h,f)=>_.cloneElement(t,{...f,className:xt("fade",o,t.props.className,_S[h],e[h])})})});ic.displayName="Fade";const TS={"aria-label":Ot.string,onClick:Ot.func,variant:Ot.oneOf(["white"])},xc=_.forwardRef(({className:o,variant:t,"aria-label":e="Close",...n},s)=>S.jsx("button",{ref:s,type:"button",className:xt("btn-close",t&&`btn-close-${t}`,o),"aria-label":e,...n}));xc.displayName="CloseButton";xc.propTypes=TS;const nb=_.forwardRef((o,t)=>{const{bsPrefix:e,show:n=!0,closeLabel:s="Close alert",closeVariant:l,className:c,children:d,variant:h="primary",onClose:f,dismissible:m,transition:v=ic,...y}=qh(o,{show:"onClose"}),b=Et(e,"alert"),x=mo(E=>{f&&f(!1,E)}),A=v===!0?ic:v,T=S.jsxs("div",{role:"alert",...A?void 0:y,ref:t,className:xt(c,b,h&&`${b}-${h}`,m&&`${b}-dismissible`),children:[m&&S.jsx(xc,{onClick:x,"aria-label":s,variant:l}),d]});return A?S.jsx(A,{unmountOnExit:!0,...y,ref:void 0,in:n,children:T}):n?T:null});nb.displayName="Alert";const qe=Object.assign(nb,{Link:ib,Heading:tb}),$e=_.forwardRef(({as:o,bsPrefix:t,variant:e="primary",size:n,active:s=!1,disabled:l=!1,className:c,...d},h)=>{const f=Et(t,"btn"),[m,{tagName:v}]=Yh({tagName:o,disabled:l,...d}),y=v;return S.jsx(y,{...m,...d,ref:h,disabled:l,className:xt(c,f,s&&"active",e&&`${f}-${e}`,n&&`${f}-${n}`,d.href&&l&&"disabled")})});$e.displayName="Button";const Kh=_.forwardRef(({className:o,bsPrefix:t,as:e="div",...n},s)=>(t=Et(t,"card-body"),S.jsx(e,{ref:s,className:xt(o,t),...n})));Kh.displayName="CardBody";const ab=_.forwardRef(({className:o,bsPrefix:t,as:e="div",...n},s)=>(t=Et(t,"card-footer"),S.jsx(e,{ref:s,className:xt(o,t),...n})));ab.displayName="CardFooter";const Wh=_.createContext(null);Wh.displayName="CardHeaderContext";const sb=_.forwardRef(({bsPrefix:o,className:t,as:e="div",...n},s)=>{const l=Et(o,"card-header"),c=_.useMemo(()=>({cardHeaderBsPrefix:l}),[l]);return S.jsx(Wh.Provider,{value:c,children:S.jsx(e,{ref:s,...n,className:xt(t,l)})})});sb.displayName="CardHeader";const rb=_.forwardRef(({bsPrefix:o,className:t,variant:e,as:n="img",...s},l)=>{const c=Et(o,"card-img");return S.jsx(n,{ref:l,className:xt(e?`${c}-${e}`:c,t),...s})});rb.displayName="CardImg";const ob=_.forwardRef(({className:o,bsPrefix:t,as:e="div",...n},s)=>(t=Et(t,"card-img-overlay"),S.jsx(e,{ref:s,className:xt(o,t),...n})));ob.displayName="CardImgOverlay";const lb=_.forwardRef(({className:o,bsPrefix:t,as:e="a",...n},s)=>(t=Et(t,"card-link"),S.jsx(e,{ref:s,className:xt(o,t),...n})));lb.displayName="CardLink";const CS=bc("h6"),cb=_.forwardRef(({className:o,bsPrefix:t,as:e=CS,...n},s)=>(t=Et(t,"card-subtitle"),S.jsx(e,{ref:s,className:xt(o,t),...n})));cb.displayName="CardSubtitle";const ub=_.forwardRef(({className:o,bsPrefix:t,as:e="p",...n},s)=>(t=Et(t,"card-text"),S.jsx(e,{ref:s,className:xt(o,t),...n})));ub.displayName="CardText";const RS=bc("h5"),db=_.forwardRef(({className:o,bsPrefix:t,as:e=RS,...n},s)=>(t=Et(t,"card-title"),S.jsx(e,{ref:s,className:xt(o,t),...n})));db.displayName="CardTitle";const hb=_.forwardRef(({bsPrefix:o,className:t,bg:e,text:n,border:s,body:l=!1,children:c,as:d="div",...h},f)=>{const m=Et(o,"card");return S.jsx(d,{ref:f,...h,className:xt(t,m,e&&`bg-${e}`,n&&`text-${n}`,s&&`border-${s}`),children:l?S.jsx(Kh,{children:c}):c})});hb.displayName="Card";const Ds=Object.assign(hb,{Img:rb,Title:db,Subtitle:cb,Body:Kh,Link:lb,Text:ub,Header:sb,Footer:ab,ImgOverlay:ob});function DS(o,t){return _.Children.toArray(o).some(e=>_.isValidElement(e)&&e.type===t)}function MS({as:o,bsPrefix:t,className:e,...n}){t=Et(t,"col");const s=Xy(),l=Ky(),c=[],d=[];return s.forEach(h=>{const f=n[h];delete n[h];let m,v,y;typeof f=="object"&&f!=null?{span:m,offset:v,order:y}=f:m=f;const b=h!==l?`-${h}`:"";m&&c.push(m===!0?`${t}${b}`:`${t}${b}-${m}`),y!=null&&d.push(`order${b}-${y}`),v!=null&&d.push(`offset${b}-${v}`)}),[{...n,className:xt(e,...c,...d)},{as:o,bsPrefix:t,spans:c}]}const no=_.forwardRef((o,t)=>{const[{className:e,...n},{as:s="div",bsPrefix:l,spans:c}]=MS(o);return S.jsx(s,{...n,ref:t,className:xt(e,!c.length&&l)})});no.displayName="Col";const ao=_.forwardRef(({bsPrefix:o,fluid:t=!1,as:e="div",className:n,...s},l)=>{const c=Et(o,"container"),d=typeof t=="string"?`-${t}`:"-fluid";return S.jsx(e,{ref:l,...s,className:xt(n,t?`${c}${d}`:c)})});ao.displayName="Container";var NS=Function.prototype.bind.call(Function.prototype.call,[].slice);function Ea(o,t){return NS(o.querySelectorAll(t))}function OS(){const[,o]=_.useReducer(t=>t+1,0);return o}function Hv(o,t){if(o.contains)return o.contains(t);if(o.compareDocumentPosition)return o===t||!!(o.compareDocumentPosition(t)&16)}const nc=_.createContext(null),Qh=(o,t=null)=>o!=null?String(o):t||null,Zh=_.createContext(null);Zh.displayName="NavContext";const kS="data-rr-ui-",LS="rrUi";function Ac(o){return`${kS}${o}`}function jS(o){return`${LS}${o}`}const fb=_.createContext(vc?window:void 0);fb.Provider;function Jh(){return _.useContext(fb)}const PS=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",zS=typeof document<"u",IS=zS||PS?_.useLayoutEffect:_.useEffect,Fs=_.createContext(null);Fs.displayName="NavbarContext";const FS={type:Ot.string,tooltip:Ot.bool,as:Ot.elementType},wc=_.forwardRef(({as:o="div",className:t,type:e="valid",tooltip:n=!1,...s},l)=>S.jsx(o,{...s,ref:l,className:xt(t,`${e}-${n?"tooltip":"feedback"}`)}));wc.displayName="Feedback";wc.propTypes=FS;const Sn=_.createContext({}),tf=_.forwardRef(({id:o,bsPrefix:t,className:e,type:n="checkbox",isValid:s=!1,isInvalid:l=!1,as:c="input",...d},h)=>{const{controlId:f}=_.useContext(Sn);return t=Et(t,"form-check-input"),S.jsx(c,{...d,ref:h,type:n,id:o||f,className:xt(e,t,s&&"is-valid",l&&"is-invalid")})});tf.displayName="FormCheckInput";const ac=_.forwardRef(({bsPrefix:o,className:t,htmlFor:e,...n},s)=>{const{controlId:l}=_.useContext(Sn);return o=Et(o,"form-check-label"),S.jsx("label",{...n,ref:s,htmlFor:e||l,className:xt(t,o)})});ac.displayName="FormCheckLabel";const pb=_.forwardRef(({id:o,bsPrefix:t,bsSwitchPrefix:e,inline:n=!1,reverse:s=!1,disabled:l=!1,isValid:c=!1,isInvalid:d=!1,feedbackTooltip:h=!1,feedback:f,feedbackType:m,className:v,style:y,title:b="",type:x="checkbox",label:A,children:T,as:E="input",...M},R)=>{t=Et(t,"form-check"),e=Et(e,"form-switch");const{controlId:N}=_.useContext(Sn),D=_.useMemo(()=>({controlId:o||N}),[N,o]),L=!T&&A!=null&&A!==!1||DS(T,ac),z=S.jsx(tf,{...M,type:x==="switch"?"checkbox":x,ref:R,isValid:c,isInvalid:d,disabled:l,as:E});return S.jsx(Sn.Provider,{value:D,children:S.jsx("div",{style:y,className:xt(v,L&&t,n&&`${t}-inline`,s&&`${t}-reverse`,x==="switch"&&e),children:T||S.jsxs(S.Fragment,{children:[z,L&&S.jsx(ac,{title:b,children:A}),f&&S.jsx(wc,{type:m,tooltip:h,children:f})]})})})});pb.displayName="FormCheck";const sc=Object.assign(pb,{Input:tf,Label:ac}),mb=_.forwardRef(({bsPrefix:o,type:t,size:e,htmlSize:n,id:s,className:l,isValid:c=!1,isInvalid:d=!1,plaintext:h,readOnly:f,as:m="input",...v},y)=>{const{controlId:b}=_.useContext(Sn);return o=Et(o,"form-control"),S.jsx(m,{...v,type:t,size:n,ref:y,readOnly:f,id:s||b,className:xt(l,h?`${o}-plaintext`:o,e&&`${o}-${e}`,t==="color"&&`${o}-color`,c&&"is-valid",d&&"is-invalid")})});mb.displayName="FormControl";const BS=Object.assign(mb,{Feedback:wc}),gb=_.forwardRef(({className:o,bsPrefix:t,as:e="div",...n},s)=>(t=Et(t,"form-floating"),S.jsx(e,{ref:s,className:xt(o,t),...n})));gb.displayName="FormFloating";const ef=_.forwardRef(({controlId:o,as:t="div",...e},n)=>{const s=_.useMemo(()=>({controlId:o}),[o]);return S.jsx(Sn.Provider,{value:s,children:S.jsx(t,{...e,ref:n})})});ef.displayName="FormGroup";const vb=_.forwardRef(({as:o="label",bsPrefix:t,column:e=!1,visuallyHidden:n=!1,className:s,htmlFor:l,...c},d)=>{const{controlId:h}=_.useContext(Sn);t=Et(t,"form-label");let f="col-form-label";typeof e=="string"&&(f=`${f} ${f}-${e}`);const m=xt(s,t,n&&"visually-hidden",e&&f);return l=l||h,e?S.jsx(no,{ref:d,as:"label",className:m,htmlFor:l,...c}):S.jsx(o,{ref:d,className:m,htmlFor:l,...c})});vb.displayName="FormLabel";const yb=_.forwardRef(({bsPrefix:o,className:t,id:e,...n},s)=>{const{controlId:l}=_.useContext(Sn);return o=Et(o,"form-range"),S.jsx("input",{...n,type:"range",ref:s,className:xt(t,o),id:e||l})});yb.displayName="FormRange";const bb=_.forwardRef(({bsPrefix:o,size:t,htmlSize:e,className:n,isValid:s=!1,isInvalid:l=!1,id:c,...d},h)=>{const{controlId:f}=_.useContext(Sn);return o=Et(o,"form-select"),S.jsx("select",{...d,size:e,ref:h,className:xt(n,o,t&&`${o}-${t}`,s&&"is-valid",l&&"is-invalid"),id:c||f})});bb.displayName="FormSelect";const xb=_.forwardRef(({bsPrefix:o,className:t,as:e="small",muted:n,...s},l)=>(o=Et(o,"form-text"),S.jsx(e,{...s,ref:l,className:xt(t,o,n&&"text-muted")})));xb.displayName="FormText";const Ab=_.forwardRef((o,t)=>S.jsx(sc,{...o,ref:t,type:"switch"}));Ab.displayName="Switch";const HS=Object.assign(Ab,{Input:sc.Input,Label:sc.Label}),wb=_.forwardRef(({bsPrefix:o,className:t,children:e,controlId:n,label:s,...l},c)=>(o=Et(o,"form-floating"),S.jsxs(ef,{ref:c,className:xt(t,o),controlId:n,...l,children:[e,S.jsx("label",{htmlFor:n,children:s})]})));wb.displayName="FloatingLabel";const US={_ref:Ot.any,validated:Ot.bool,as:Ot.elementType},nf=_.forwardRef(({className:o,validated:t,as:e="form",...n},s)=>S.jsx(e,{...n,ref:s,className:xt(o,t&&"was-validated")}));nf.displayName="Form";nf.propTypes=US;const gt=Object.assign(nf,{Group:ef,Control:BS,Floating:gb,Check:sc,Switch:HS,Label:vb,Text:xb,Range:yb,Select:bb,FloatingLabel:wb}),Uv=o=>!o||typeof o=="function"?o:t=>{o.current=t};function GS(o,t){const e=Uv(o),n=Uv(t);return s=>{e&&e(s),n&&n(s)}}function Sc(o,t){return _.useMemo(()=>GS(o,t),[o,t])}const Sb=_.createContext(null),qS=["as","active","eventKey"];function $S(o,t){if(o==null)return{};var e={};for(var n in o)if({}.hasOwnProperty.call(o,n)){if(t.indexOf(n)>=0)continue;e[n]=o[n]}return e}function Eb({key:o,onClick:t,active:e,id:n,role:s,disabled:l}){const c=_.useContext(nc),d=_.useContext(Zh),h=_.useContext(Sb);let f=e;const m={role:s};if(d){!s&&d.role==="tablist"&&(m.role="tab");const v=d.getControllerId(o??null),y=d.getControlledId(o??null);m[Ac("event-key")]=o,m.id=v||n,f=e==null&&o!=null?d.activeKey===o:e,(f||!(h!=null&&h.unmountOnExit)&&!(h!=null&&h.mountOnEnter))&&(m["aria-controls"]=y)}return m.role==="tab"&&(m["aria-selected"]=f,f||(m.tabIndex=-1),l&&(m.tabIndex=-1,m["aria-disabled"]=!0)),m.onClick=yn(v=>{l||(t?.(v),o!=null&&c&&!v.isPropagationStopped()&&c(o,v))}),[m,{isActive:f}]}const _b=_.forwardRef((o,t)=>{let{as:e=eb,active:n,eventKey:s}=o,l=$S(o,qS);const[c,d]=Eb(Object.assign({key:Qh(s,l.href),active:n},l));return c[Ac("active")]=d.isActive,S.jsx(e,Object.assign({},l,c,{ref:t}))});_b.displayName="NavItem";const VS=["as","onSelect","activeKey","role","onKeyDown"];function YS(o,t){if(o==null)return{};var e={};for(var n in o)if({}.hasOwnProperty.call(o,n)){if(t.indexOf(n)>=0)continue;e[n]=o[n]}return e}const Gv=()=>{},qv=Ac("event-key"),Tb=_.forwardRef((o,t)=>{let{as:e="div",onSelect:n,activeKey:s,role:l,onKeyDown:c}=o,d=YS(o,VS);const h=OS(),f=_.useRef(!1),m=_.useContext(nc),v=_.useContext(Sb);let y,b;v&&(l=l||"tablist",s=v.activeKey,y=v.getControlledId,b=v.getControllerId);const x=_.useRef(null),A=R=>{const N=x.current;if(!N)return null;const D=Ea(N,`[${qv}]:not([aria-disabled=true])`),L=N.querySelector("[aria-selected=true]");if(!L||L!==document.activeElement)return null;const z=D.indexOf(L);if(z===-1)return null;let q=z+R;return q>=D.length&&(q=0),q<0&&(q=D.length-1),D[q]},T=(R,N)=>{R!=null&&(n?.(R,N),m?.(R,N))},E=R=>{if(c?.(R),!v)return;let N;switch(R.key){case"ArrowLeft":case"ArrowUp":N=A(-1);break;case"ArrowRight":case"ArrowDown":N=A(1);break;default:return}N&&(R.preventDefault(),T(N.dataset[jS("EventKey")]||null,R),f.current=!0,h())};_.useEffect(()=>{if(x.current&&f.current){const R=x.current.querySelector(`[${qv}][aria-selected=true]`);R?.focus()}f.current=!1});const M=Sc(t,x);return S.jsx(nc.Provider,{value:T,children:S.jsx(Zh.Provider,{value:{role:l,activeKey:Qh(s),getControlledId:y||Gv,getControllerId:b||Gv},children:S.jsx(e,Object.assign({},d,{onKeyDown:E,ref:M,role:l}))})})});Tb.displayName="Nav";const XS=Object.assign(Tb,{Item:_b});function nh(o){o===void 0&&(o=$h());try{var t=o.activeElement;return!t||!t.nodeName?null:t}catch{return o.body}}function KS(o){const t=_.useRef(o);return t.current=o,t}function WS(o){const t=KS(o);_.useEffect(()=>()=>t.current(),[])}function QS(o=document){const t=o.defaultView;return Math.abs(t.innerWidth-o.documentElement.clientWidth)}const $v=Ac("modal-open");class af{constructor({ownerDocument:t,handleContainerOverflow:e=!0,isRTL:n=!1}={}){this.handleContainerOverflow=e,this.isRTL=n,this.modals=[],this.ownerDocument=t}getScrollbarWidth(){return QS(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(t){}removeModalAttributes(t){}setContainerStyle(t){const e={overflow:"hidden"},n=this.isRTL?"paddingLeft":"paddingRight",s=this.getElement();t.style={overflow:s.style.overflow,[n]:s.style[n]},t.scrollBarWidth&&(e[n]=`${parseInt(An(s,n)||"0",10)+t.scrollBarWidth}px`),s.setAttribute($v,""),An(s,e)}reset(){[...this.modals].forEach(t=>this.remove(t))}removeContainerStyle(t){const e=this.getElement();e.removeAttribute($v),Object.assign(e.style,t.style)}add(t){let e=this.modals.indexOf(t);return e!==-1||(e=this.modals.length,this.modals.push(t),this.setModalAttributes(t),e!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),e}remove(t){const e=this.modals.indexOf(t);e!==-1&&(this.modals.splice(e,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(t))}isTopModal(t){return!!this.modals.length&&this.modals[this.modals.length-1]===t}}const ah=(o,t)=>vc?o==null?(t||$h()).body:(typeof o=="function"&&(o=o()),o&&"current"in o&&(o=o.current),o&&("nodeType"in o||o.getBoundingClientRect)?o:null):null;function ZS(o,t){const e=Jh(),[n,s]=_.useState(()=>ah(o,e?.document));if(!n){const l=ah(o);l&&s(l)}return _.useEffect(()=>{},[t,n]),_.useEffect(()=>{const l=ah(o);l!==n&&s(l)},[o,n]),n}function JS({children:o,in:t,onExited:e,mountOnEnter:n,unmountOnExit:s}){const l=_.useRef(null),c=_.useRef(t),d=yn(e);_.useEffect(()=>{t?c.current=!0:d(l.current)},[t,d]);const h=Sc(l,Is(o)),f=_.cloneElement(o,{ref:h});return t?f:s||!c.current&&n?null:f}const tE=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function eE(o,t){if(o==null)return{};var e={};for(var n in o)if({}.hasOwnProperty.call(o,n)){if(t.indexOf(n)>=0)continue;e[n]=o[n]}return e}function iE(o){let{onEnter:t,onEntering:e,onEntered:n,onExit:s,onExiting:l,onExited:c,addEndListener:d,children:h}=o,f=eE(o,tE);const m=_.useRef(null),v=Sc(m,Is(h)),y=N=>D=>{N&&m.current&&N(m.current,D)},b=_.useCallback(y(t),[t]),x=_.useCallback(y(e),[e]),A=_.useCallback(y(n),[n]),T=_.useCallback(y(s),[s]),E=_.useCallback(y(l),[l]),M=_.useCallback(y(c),[c]),R=_.useCallback(y(d),[d]);return Object.assign({},f,{nodeRef:m},t&&{onEnter:b},e&&{onEntering:x},n&&{onEntered:A},s&&{onExit:T},l&&{onExiting:E},c&&{onExited:M},d&&{addEndListener:R},{children:typeof h=="function"?(N,D)=>h(N,Object.assign({},D,{ref:v})):_.cloneElement(h,{ref:v})})}const nE=["component"];function aE(o,t){if(o==null)return{};var e={};for(var n in o)if({}.hasOwnProperty.call(o,n)){if(t.indexOf(n)>=0)continue;e[n]=o[n]}return e}const sE=_.forwardRef((o,t)=>{let{component:e}=o,n=aE(o,nE);const s=iE(n);return S.jsx(e,Object.assign({ref:t},s))});function rE({in:o,onTransition:t}){const e=_.useRef(null),n=_.useRef(!0),s=yn(t);return Bv(()=>{if(!e.current)return;let l=!1;return s({in:o,element:e.current,initial:n.current,isStale:()=>l}),()=>{l=!0}},[o,s]),Bv(()=>(n.current=!1,()=>{n.current=!0}),[]),e}function oE({children:o,in:t,onExited:e,onEntered:n,transition:s}){const[l,c]=_.useState(!t);t&&l&&c(!1);const d=rE({in:!!t,onTransition:f=>{const m=()=>{f.isStale()||(f.in?n?.(f.element,f.initial):(c(!0),e?.(f.element)))};Promise.resolve(s(f)).then(m,v=>{throw f.in||c(!0),v})}}),h=Sc(d,Is(o));return l&&!t?null:_.cloneElement(o,{ref:h})}function Vv(o,t,e){return o?S.jsx(sE,Object.assign({},e,{component:o})):t?S.jsx(oE,Object.assign({},e,{transition:t})):S.jsx(JS,Object.assign({},e))}const lE=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function cE(o,t){if(o==null)return{};var e={};for(var n in o)if({}.hasOwnProperty.call(o,n)){if(t.indexOf(n)>=0)continue;e[n]=o[n]}return e}let sh;function uE(o){return sh||(sh=new af({ownerDocument:o?.document})),sh}function dE(o){const t=Jh(),e=o||uE(t),n=_.useRef({dialog:null,backdrop:null});return Object.assign(n.current,{add:()=>e.add(n.current),remove:()=>e.remove(n.current),isTopModal:()=>e.isTopModal(n.current),setDialogRef:_.useCallback(s=>{n.current.dialog=s},[]),setBackdropRef:_.useCallback(s=>{n.current.backdrop=s},[])})}const Cb=_.forwardRef((o,t)=>{let{show:e=!1,role:n="dialog",className:s,style:l,children:c,backdrop:d=!0,keyboard:h=!0,onBackdropClick:f,onEscapeKeyDown:m,transition:v,runTransition:y,backdropTransition:b,runBackdropTransition:x,autoFocus:A=!0,enforceFocus:T=!0,restoreFocus:E=!0,restoreFocusOptions:M,renderDialog:R,renderBackdrop:N=Vt=>S.jsx("div",Object.assign({},Vt)),manager:D,container:L,onShow:z,onHide:q=()=>{},onExit:$,onExited:W,onExiting:J,onEnter:nt,onEntering:dt,onEntered:at}=o,ht=cE(o,lE);const P=Jh(),G=ZS(L),tt=dE(D),ut=mS(),k=gS(e),[Y,Z]=_.useState(!e),Q=_.useRef(null);_.useImperativeHandle(t,()=>tt,[tt]),vc&&!k&&e&&(Q.current=nh(P?.document)),e&&Y&&Z(!1);const et=yn(()=>{if(tt.add(),Ve.current=ec(document,"keydown",Lt),Te.current=ec(document,"focus",()=>setTimeout(ot),!0),z&&z(),A){var Vt,aa;const se=nh((Vt=(aa=tt.dialog)==null?void 0:aa.ownerDocument)!=null?Vt:P?.document);tt.dialog&&se&&!Hv(tt.dialog,se)&&(Q.current=se,tt.dialog.focus())}}),ft=yn(()=>{if(tt.remove(),Ve.current==null||Ve.current(),Te.current==null||Te.current(),E){var Vt;(Vt=Q.current)==null||Vt.focus==null||Vt.focus(M),Q.current=null}});_.useEffect(()=>{!e||!G||et()},[e,G,et]),_.useEffect(()=>{Y&&ft()},[Y,ft]),WS(()=>{ft()});const ot=yn(()=>{if(!T||!ut()||!tt.isTopModal())return;const Vt=nh(P?.document);tt.dialog&&Vt&&!Hv(tt.dialog,Vt)&&tt.dialog.focus()}),_t=yn(Vt=>{Vt.target===Vt.currentTarget&&(f?.(Vt),d===!0&&q())}),Lt=yn(Vt=>{h&&Jw(Vt)&&tt.isTopModal()&&(m?.(Vt),Vt.defaultPrevented||q())}),Te=_.useRef(),Ve=_.useRef(),Fe=(...Vt)=>{Z(!0),W?.(...Vt)};if(!G)return null;const Ce=Object.assign({role:n,ref:tt.setDialogRef,"aria-modal":n==="dialog"?!0:void 0},ht,{style:l,className:s,tabIndex:-1});let ii=R?R(Ce):S.jsx("div",Object.assign({},Ce,{children:_.cloneElement(c,{role:"document"})}));ii=Vv(v,y,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!e,onExit:$,onExiting:J,onExited:Fe,onEnter:nt,onEntering:dt,onEntered:at,children:ii});let ni=null;return d&&(ni=N({ref:tt.setBackdropRef,onClick:_t}),ni=Vv(b,x,{in:!!e,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:ni})),S.jsx(S.Fragment,{children:Rs.createPortal(S.jsxs(S.Fragment,{children:[ni,ii]}),G)})});Cb.displayName="Modal";const hE=Object.assign(Cb,{Manager:af});function fE(o,t){return o.classList?o.classList.contains(t):(" "+(o.className.baseVal||o.className)+" ").indexOf(" "+t+" ")!==-1}function pE(o,t){o.classList?o.classList.add(t):fE(o,t)||(typeof o.className=="string"?o.className=o.className+" "+t:o.setAttribute("class",(o.className&&o.className.baseVal||"")+" "+t))}function Yv(o,t){return o.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function mE(o,t){o.classList?o.classList.remove(t):typeof o.className=="string"?o.className=Yv(o.className,t):o.setAttribute("class",Yv(o.className&&o.className.baseVal||"",t))}const _s={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class Rb extends af{adjustAndStore(t,e,n){const s=e.style[t];e.dataset[t]=s,An(e,{[t]:`${parseFloat(An(e,t))+n}px`})}restore(t,e){const n=e.dataset[t];n!==void 0&&(delete e.dataset[t],An(e,{[t]:n}))}setContainerStyle(t){super.setContainerStyle(t);const e=this.getElement();if(pE(e,"modal-open"),!t.scrollBarWidth)return;const n=this.isRTL?"paddingLeft":"paddingRight",s=this.isRTL?"marginLeft":"marginRight";Ea(e,_s.FIXED_CONTENT).forEach(l=>this.adjustAndStore(n,l,t.scrollBarWidth)),Ea(e,_s.STICKY_CONTENT).forEach(l=>this.adjustAndStore(s,l,-t.scrollBarWidth)),Ea(e,_s.NAVBAR_TOGGLER).forEach(l=>this.adjustAndStore(s,l,t.scrollBarWidth))}removeContainerStyle(t){super.removeContainerStyle(t);const e=this.getElement();mE(e,"modal-open");const n=this.isRTL?"paddingLeft":"paddingRight",s=this.isRTL?"marginLeft":"marginRight";Ea(e,_s.FIXED_CONTENT).forEach(l=>this.restore(n,l)),Ea(e,_s.STICKY_CONTENT).forEach(l=>this.restore(s,l)),Ea(e,_s.NAVBAR_TOGGLER).forEach(l=>this.restore(s,l))}}let rh;function gE(o){return rh||(rh=new Rb(o)),rh}const Db=_.createContext({onHide(){}}),Mb=_.forwardRef(({closeLabel:o="Close",closeVariant:t,closeButton:e=!1,onHide:n,children:s,...l},c)=>{const d=_.useContext(Db),h=mo(()=>{d?.onHide(),n?.()});return S.jsxs("div",{ref:c,...l,children:[s,e&&S.jsx(xc,{"aria-label":o,variant:t,onClick:h})]})});Mb.displayName="AbstractModalHeader";const Nb=_.forwardRef(({className:o,bsPrefix:t,as:e="div",...n},s)=>(t=Et(t,"nav-item"),S.jsx(e,{ref:s,className:xt(o,t),...n})));Nb.displayName="NavItem";const Ob=_.forwardRef(({bsPrefix:o,className:t,as:e=Xh,active:n,eventKey:s,disabled:l=!1,...c},d)=>{o=Et(o,"nav-link");const[h,f]=Eb({key:Qh(s,c.href),active:n,disabled:l,...c});return S.jsx(e,{...c,...h,ref:d,disabled:l,className:xt(t,o,l&&"disabled",f.isActive&&"active")})});Ob.displayName="NavLink";const kb=_.forwardRef((o,t)=>{const{as:e="div",bsPrefix:n,variant:s,fill:l=!1,justify:c=!1,navbar:d,navbarScroll:h,className:f,activeKey:m,...v}=qh(o,{activeKey:"onSelect"}),y=Et(n,"nav");let b,x,A=!1;const T=_.useContext(Fs),E=_.useContext(Wh);return T?(b=T.bsPrefix,A=d??!0):E&&({cardHeaderBsPrefix:x}=E),S.jsx(XS,{as:e,ref:t,activeKey:m,className:xt(f,{[y]:!A,[`${b}-nav`]:A,[`${b}-nav-scroll`]:A&&h,[`${x}-${s}`]:!!x,[`${y}-${s}`]:!!s,[`${y}-fill`]:l,[`${y}-justified`]:c}),...v})});kb.displayName="Nav";const Si=Object.assign(kb,{Item:Nb,Link:Ob}),Lb=_.forwardRef(({bsPrefix:o,className:t,as:e,...n},s)=>{o=Et(o,"navbar-brand");const l=e||(n.href?"a":"span");return S.jsx(l,{...n,ref:s,className:xt(t,o)})});Lb.displayName="NavbarBrand";const jb=_.forwardRef(({children:o,bsPrefix:t,...e},n)=>{t=Et(t,"navbar-collapse");const s=_.useContext(Fs);return S.jsx(Zy,{in:!!(s&&s.expanded),...e,children:S.jsx("div",{ref:n,className:t,children:o})})});jb.displayName="NavbarCollapse";const Pb=_.forwardRef(({bsPrefix:o,className:t,children:e,label:n="Toggle navigation",as:s="button",onClick:l,...c},d)=>{o=Et(o,"navbar-toggler");const{onToggle:h,expanded:f}=_.useContext(Fs)||{},m=mo(v=>{l&&l(v),h&&h()});return s==="button"&&(c.type="button"),S.jsx(s,{...c,ref:d,onClick:m,"aria-label":n,className:xt(t,o,!f&&"collapsed"),children:e||S.jsx("span",{className:`${o}-icon`})})});Pb.displayName="NavbarToggle";const Sh=new WeakMap,Xv=(o,t)=>{if(!o||!t)return;const e=Sh.get(t)||new Map;Sh.set(t,e);let n=e.get(o);return n||(n=t.matchMedia(o),n.refCount=0,e.set(n.media,n)),n};function vE(o,t=typeof window>"u"?void 0:window){const e=Xv(o,t),[n,s]=_.useState(()=>e?e.matches:!1);return IS(()=>{let l=Xv(o,t);if(!l)return s(!1);let c=Sh.get(t);const d=()=>{s(l.matches)};return l.refCount++,l.addListener(d),d(),()=>{l.removeListener(d),l.refCount--,l.refCount<=0&&c?.delete(l.media),l=void 0}},[o]),n}function yE(o){const t=Object.keys(o);function e(d,h){return d===h?h:d?`${d} and ${h}`:h}function n(d){return t[Math.min(t.indexOf(d)+1,t.length-1)]}function s(d){const h=n(d);let f=o[h];return typeof f=="number"?f=`${f-.2}px`:f=`calc(${f} - 0.2px)`,`(max-width: ${f})`}function l(d){let h=o[d];return typeof h=="number"&&(h=`${h}px`),`(min-width: ${h})`}function c(d,h,f){let m;typeof d=="object"?(m=d,f=h,h=!0):(h=h||!0,m={[d]:h});let v=_.useMemo(()=>Object.entries(m).reduce((y,[b,x])=>((x==="up"||x===!0)&&(y=e(y,l(b))),(x==="down"||x===!0)&&(y=e(y,s(b))),y),""),[JSON.stringify(m)]);return vE(v,f)}return c}const bE=yE({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400}),zb=_.forwardRef(({className:o,bsPrefix:t,as:e="div",...n},s)=>(t=Et(t,"offcanvas-body"),S.jsx(e,{ref:s,className:xt(o,t),...n})));zb.displayName="OffcanvasBody";const xE={[Ni]:"show",[vn]:"show"},Ib=_.forwardRef(({bsPrefix:o,className:t,children:e,in:n=!1,mountOnEnter:s=!1,unmountOnExit:l=!1,appear:c=!1,...d},h)=>(o=Et(o,"offcanvas"),S.jsx(yc,{ref:h,addEndListener:Vh,in:n,mountOnEnter:s,unmountOnExit:l,appear:c,...d,childRef:Is(e),children:(f,m)=>_.cloneElement(e,{...m,className:xt(t,e.props.className,(f===Ni||f===io)&&`${o}-toggling`,xE[f])})})));Ib.displayName="OffcanvasToggling";const Fb=_.forwardRef(({bsPrefix:o,className:t,closeLabel:e="Close",closeButton:n=!1,...s},l)=>(o=Et(o,"offcanvas-header"),S.jsx(Mb,{ref:l,...s,className:xt(t,o),closeLabel:e,closeButton:n})));Fb.displayName="OffcanvasHeader";const AE=bc("h5"),Bb=_.forwardRef(({className:o,bsPrefix:t,as:e=AE,...n},s)=>(t=Et(t,"offcanvas-title"),S.jsx(e,{ref:s,className:xt(o,t),...n})));Bb.displayName="OffcanvasTitle";function wE(o){return S.jsx(Ib,{...o})}function SE(o){return S.jsx(ic,{...o})}const Hb=_.forwardRef(({bsPrefix:o,className:t,children:e,"aria-labelledby":n,placement:s="start",responsive:l,show:c=!1,backdrop:d=!0,keyboard:h=!0,scroll:f=!1,onEscapeKeyDown:m,onShow:v,onHide:y,container:b,autoFocus:x=!0,enforceFocus:A=!0,restoreFocus:T=!0,restoreFocusOptions:E,onEntered:M,onExit:R,onExiting:N,onEnter:D,onEntering:L,onExited:z,backdropClassName:q,manager:$,renderStaticNode:W=!1,...J},nt)=>{const dt=_.useRef();o=Et(o,"offcanvas");const[at,ht]=_.useState(!1),P=mo(y),G=bE(l||"xs","up");_.useEffect(()=>{ht(l?c&&!G:c)},[c,l,G]);const tt=_.useMemo(()=>({onHide:P}),[P]);function ut(){return $||(f?(dt.current||(dt.current=new Rb({handleContainerOverflow:!1})),dt.current):gE())}const k=(et,...ft)=>{et&&(et.style.visibility="visible"),D?.(et,...ft)},Y=(et,...ft)=>{et&&(et.style.visibility=""),z?.(...ft)},Z=_.useCallback(et=>S.jsx("div",{...et,className:xt(`${o}-backdrop`,q)}),[q,o]),Q=et=>S.jsx("div",{...et,...J,className:xt(t,l?`${o}-${l}`:o,`${o}-${s}`),"aria-labelledby":n,children:e});return S.jsxs(S.Fragment,{children:[!at&&(l||W)&&Q({}),S.jsx(Db.Provider,{value:tt,children:S.jsx(hE,{show:at,ref:nt,backdrop:d,container:b,keyboard:h,autoFocus:x,enforceFocus:A&&!f,restoreFocus:T,restoreFocusOptions:E,onEscapeKeyDown:m,onShow:v,onHide:P,onEnter:k,onEntering:L,onEntered:M,onExit:R,onExiting:N,onExited:Y,manager:ut(),transition:wE,backdropTransition:SE,renderBackdrop:Z,renderDialog:Q})})]})});Hb.displayName="Offcanvas";const EE=Object.assign(Hb,{Body:zb,Header:Fb,Title:Bb}),Ub=_.forwardRef(({onHide:o,...t},e)=>{const n=_.useContext(Fs),s=mo(()=>{n==null||n.onToggle==null||n.onToggle(),o?.()});return S.jsx(EE,{ref:e,show:!!(n!=null&&n.expanded),...t,renderStaticNode:!0,onHide:s})});Ub.displayName="NavbarOffcanvas";const Gb=_.forwardRef(({className:o,bsPrefix:t,as:e="span",...n},s)=>(t=Et(t,"navbar-text"),S.jsx(e,{ref:s,className:xt(o,t),...n})));Gb.displayName="NavbarText";const qb=_.forwardRef((o,t)=>{const{bsPrefix:e,expand:n=!0,variant:s="light",bg:l,fixed:c,sticky:d,className:h,as:f="nav",expanded:m,onToggle:v,onSelect:y,collapseOnSelect:b=!1,...x}=qh(o,{expanded:"onToggle"}),A=Et(e,"navbar"),T=_.useCallback((...R)=>{y?.(...R),b&&m&&v?.(!1)},[y,b,m,v]);x.role===void 0&&f!=="nav"&&(x.role="navigation");let E=`${A}-expand`;typeof n=="string"&&(E=`${E}-${n}`);const M=_.useMemo(()=>({onToggle:()=>v?.(!m),bsPrefix:A,expanded:!!m,expand:n}),[A,m,n,v]);return S.jsx(Fs.Provider,{value:M,children:S.jsx(nc.Provider,{value:T,children:S.jsx(f,{ref:t,...x,className:xt(h,A,n&&E,s&&`${A}-${s}`,l&&`bg-${l}`,d&&`sticky-${d}`,c&&`fixed-${c}`)})})})});qb.displayName="Navbar";const Fl=Object.assign(qb,{Brand:Lb,Collapse:jb,Offcanvas:Ub,Text:Gb,Toggle:Pb}),sf=_.forwardRef(({bsPrefix:o,className:t,as:e="div",...n},s)=>{const l=Et(o,"row"),c=Xy(),d=Ky(),h=`${l}-cols`,f=[];return c.forEach(m=>{const v=n[m];delete n[m];let y;v!=null&&typeof v=="object"?{cols:y}=v:y=v;const b=m!==d?`-${m}`:"";y!=null&&f.push(`${h}${b}-${y}`)}),S.jsx(e,{ref:s,...n,className:xt(t,l,...f)})});sf.displayName="Row";const Ki=_.forwardRef(({bsPrefix:o,variant:t,animation:e="border",size:n,as:s="div",className:l,...c},d)=>{o=Et(o,"spinner");const h=`${o}-${e}`;return S.jsx(s,{ref:d,...c,className:xt(l,h,n&&`${h}-${n}`,t&&`text-${t}`)})});Ki.displayName="Spinner";const $b=_.forwardRef(({bsPrefix:o,className:t,striped:e,bordered:n,borderless:s,hover:l,size:c,variant:d,responsive:h,...f},m)=>{const v=Et(o,"table"),y=xt(t,v,d&&`${v}-${d}`,c&&`${v}-${c}`,e&&`${v}-${typeof e=="string"?`striped-${e}`:"striped"}`,n&&`${v}-bordered`,s&&`${v}-borderless`,l&&`${v}-hover`),b=S.jsx("table",{...f,className:y,ref:m});if(h){let x=`${v}-responsive`;return typeof h=="string"&&(x=`${x}-${h}`),S.jsx("div",{className:x,children:b})}return b});$b.displayName="Table";function ja(o,t,e,n){function s(l){return l instanceof e?l:new e(function(c){c(l)})}return new(e||(e=Promise))(function(l,c){function d(m){try{f(n.next(m))}catch(v){c(v)}}function h(m){try{f(n.throw(m))}catch(v){c(v)}}function f(m){m.done?l(m.value):s(m.value).then(d,h)}f((n=n.apply(o,t||[])).next())})}const _E=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function Ls(o,t,e){const n=TE(o),{webkitRelativePath:s}=o,l=typeof t=="string"?t:typeof s=="string"&&s.length>0?s:`./${o.name}`;return typeof n.path!="string"&&Kv(n,"path",l),Kv(n,"relativePath",l),n}function TE(o){const{name:t}=o;if(t&&t.lastIndexOf(".")!==-1&&!o.type){const n=t.split(".").pop().toLowerCase(),s=_E.get(n);s&&Object.defineProperty(o,"type",{value:s,writable:!1,configurable:!1,enumerable:!0})}return o}function Kv(o,t,e){Object.defineProperty(o,t,{value:e,writable:!1,configurable:!1,enumerable:!0})}const CE=[".DS_Store","Thumbs.db"];function RE(o){return ja(this,void 0,void 0,function*(){return rc(o)&&DE(o.dataTransfer)?kE(o.dataTransfer,o.type):ME(o)?NE(o):Array.isArray(o)&&o.every(t=>"getFile"in t&&typeof t.getFile=="function")?OE(o):[]})}function DE(o){return rc(o)}function ME(o){return rc(o)&&rc(o.target)}function rc(o){return typeof o=="object"&&o!==null}function NE(o){return Eh(o.target.files).map(t=>Ls(t))}function OE(o){return ja(this,void 0,void 0,function*(){return(yield Promise.all(o.map(e=>e.getFile()))).map(e=>Ls(e))})}function kE(o,t){return ja(this,void 0,void 0,function*(){if(o.items){const e=Eh(o.items).filter(s=>s.kind==="file");if(t!=="drop")return e;const n=yield Promise.all(e.map(LE));return Wv(Vb(n))}return Wv(Eh(o.files).map(e=>Ls(e)))})}function Wv(o){return o.filter(t=>CE.indexOf(t.name)===-1)}function Eh(o){if(o===null)return[];const t=[];for(let e=0;e<o.length;e++){const n=o[e];t.push(n)}return t}function LE(o){if(typeof o.webkitGetAsEntry!="function")return Qv(o);const t=o.webkitGetAsEntry();return t&&t.isDirectory?Yb(t):Qv(o,t)}function Vb(o){return o.reduce((t,e)=>[...t,...Array.isArray(e)?Vb(e):[e]],[])}function Qv(o,t){return ja(this,void 0,void 0,function*(){var e;if(globalThis.isSecureContext&&typeof o.getAsFileSystemHandle=="function"){const l=yield o.getAsFileSystemHandle();if(l===null)throw new Error(`${o} is not a File`);if(l!==void 0){const c=yield l.getFile();return c.handle=l,Ls(c)}}const n=o.getAsFile();if(!n)throw new Error(`${o} is not a File`);return Ls(n,(e=t?.fullPath)!==null&&e!==void 0?e:void 0)})}function jE(o){return ja(this,void 0,void 0,function*(){return o.isDirectory?Yb(o):PE(o)})}function Yb(o){const t=o.createReader();return new Promise((e,n)=>{const s=[];function l(){t.readEntries(c=>ja(this,void 0,void 0,function*(){if(c.length){const d=Promise.all(c.map(jE));s.push(d),l()}else try{const d=yield Promise.all(s);e(d)}catch(d){n(d)}}),c=>{n(c)})}l()})}function PE(o){return ja(this,void 0,void 0,function*(){return new Promise((t,e)=>{o.file(n=>{const s=Ls(n,o.fullPath);t(s)},n=>{e(n)})})})}var Bl={},Zv;function zE(){return Zv||(Zv=1,Bl.__esModule=!0,Bl.default=function(o,t){if(o&&t){var e=Array.isArray(t)?t:t.split(",");if(e.length===0)return!0;var n=o.name||"",s=(o.type||"").toLowerCase(),l=s.replace(/\/.*$/,"");return e.some(function(c){var d=c.trim().toLowerCase();return d.charAt(0)==="."?n.toLowerCase().endsWith(d):d.endsWith("/*")?l===d.replace(/\/.*$/,""):s===d})}return!0}),Bl}var IE=zE();const oh=uo(IE);function Jv(o){return HE(o)||BE(o)||Kb(o)||FE()}function FE(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BE(o){if(typeof Symbol<"u"&&o[Symbol.iterator]!=null||o["@@iterator"]!=null)return Array.from(o)}function HE(o){if(Array.isArray(o))return _h(o)}function ty(o,t){var e=Object.keys(o);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(o);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(o,s).enumerable})),e.push.apply(e,n)}return e}function ey(o){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?ty(Object(e),!0).forEach(function(n){Xb(o,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(e)):ty(Object(e)).forEach(function(n){Object.defineProperty(o,n,Object.getOwnPropertyDescriptor(e,n))})}return o}function Xb(o,t,e){return t in o?Object.defineProperty(o,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):o[t]=e,o}function so(o,t){return qE(o)||GE(o,t)||Kb(o,t)||UE()}function UE(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kb(o,t){if(o){if(typeof o=="string")return _h(o,t);var e=Object.prototype.toString.call(o).slice(8,-1);if(e==="Object"&&o.constructor&&(e=o.constructor.name),e==="Map"||e==="Set")return Array.from(o);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return _h(o,t)}}function _h(o,t){(t==null||t>o.length)&&(t=o.length);for(var e=0,n=new Array(t);e<t;e++)n[e]=o[e];return n}function GE(o,t){var e=o==null?null:typeof Symbol<"u"&&o[Symbol.iterator]||o["@@iterator"];if(e!=null){var n=[],s=!0,l=!1,c,d;try{for(e=e.call(o);!(s=(c=e.next()).done)&&(n.push(c.value),!(t&&n.length===t));s=!0);}catch(h){l=!0,d=h}finally{try{!s&&e.return!=null&&e.return()}finally{if(l)throw d}}return n}}function qE(o){if(Array.isArray(o))return o}var $E=typeof oh=="function"?oh:oh.default,VE="file-invalid-type",YE="file-too-large",XE="file-too-small",KE="too-many-files",WE=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",e=t.split(","),n=e.length>1?"one of ".concat(e.join(", ")):e[0];return{code:VE,message:"File type must be ".concat(n)}},iy=function(t){return{code:YE,message:"File is larger than ".concat(t," ").concat(t===1?"byte":"bytes")}},ny=function(t){return{code:XE,message:"File is smaller than ".concat(t," ").concat(t===1?"byte":"bytes")}},QE={code:KE,message:"Too many files"};function Wb(o,t){var e=o.type==="application/x-moz-file"||$E(o,t);return[e,e?null:WE(t)]}function Qb(o,t,e){if(_a(o.size))if(_a(t)&&_a(e)){if(o.size>e)return[!1,iy(e)];if(o.size<t)return[!1,ny(t)]}else{if(_a(t)&&o.size<t)return[!1,ny(t)];if(_a(e)&&o.size>e)return[!1,iy(e)]}return[!0,null]}function _a(o){return o!=null}function ZE(o){var t=o.files,e=o.accept,n=o.minSize,s=o.maxSize,l=o.multiple,c=o.maxFiles,d=o.validator;return!l&&t.length>1||l&&c>=1&&t.length>c?!1:t.every(function(h){var f=Wb(h,e),m=so(f,1),v=m[0],y=Qb(h,n,s),b=so(y,1),x=b[0],A=d?d(h):null;return v&&x&&!A})}function oc(o){return typeof o.isPropagationStopped=="function"?o.isPropagationStopped():typeof o.cancelBubble<"u"?o.cancelBubble:!1}function Hl(o){return o.dataTransfer?Array.prototype.some.call(o.dataTransfer.types,function(t){return t==="Files"||t==="application/x-moz-file"}):!!o.target&&!!o.target.files}function ay(o){o.preventDefault()}function JE(o){return o.indexOf("MSIE")!==-1||o.indexOf("Trident/")!==-1}function t_(o){return o.indexOf("Edge/")!==-1}function e_(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return JE(o)||t_(o)}function Hi(){for(var o=arguments.length,t=new Array(o),e=0;e<o;e++)t[e]=arguments[e];return function(n){for(var s=arguments.length,l=new Array(s>1?s-1:0),c=1;c<s;c++)l[c-1]=arguments[c];return t.some(function(d){return!oc(n)&&d&&d.apply(void 0,[n].concat(l)),oc(n)})}}function i_(){return"showOpenFilePicker"in window}function n_(o){if(_a(o)){var t=Object.entries(o).filter(function(e){var n=so(e,2),s=n[0],l=n[1],c=!0;return Zb(s)||(console.warn('Skipped "'.concat(s,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),c=!1),(!Array.isArray(l)||!l.every(Jb))&&(console.warn('Skipped "'.concat(s,'" because an invalid file extension was provided.')),c=!1),c}).reduce(function(e,n){var s=so(n,2),l=s[0],c=s[1];return ey(ey({},e),{},Xb({},l,c))},{});return[{description:"Files",accept:t}]}return o}function a_(o){if(_a(o))return Object.entries(o).reduce(function(t,e){var n=so(e,2),s=n[0],l=n[1];return[].concat(Jv(t),[s],Jv(l))},[]).filter(function(t){return Zb(t)||Jb(t)}).join(",")}function s_(o){return o instanceof DOMException&&(o.name==="AbortError"||o.code===o.ABORT_ERR)}function r_(o){return o instanceof DOMException&&(o.name==="SecurityError"||o.code===o.SECURITY_ERR)}function Zb(o){return o==="audio/*"||o==="video/*"||o==="image/*"||o==="text/*"||o==="application/*"||/\w+\/[-+.\w]+/g.test(o)}function Jb(o){return/^.*\.[\w]+$/.test(o)}var o_=["children"],l_=["open"],c_=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],u_=["refKey","onChange","onClick"];function d_(o){return p_(o)||f_(o)||t0(o)||h_()}function h_(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function f_(o){if(typeof Symbol<"u"&&o[Symbol.iterator]!=null||o["@@iterator"]!=null)return Array.from(o)}function p_(o){if(Array.isArray(o))return Th(o)}function lh(o,t){return v_(o)||g_(o,t)||t0(o,t)||m_()}function m_(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function t0(o,t){if(o){if(typeof o=="string")return Th(o,t);var e=Object.prototype.toString.call(o).slice(8,-1);if(e==="Object"&&o.constructor&&(e=o.constructor.name),e==="Map"||e==="Set")return Array.from(o);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return Th(o,t)}}function Th(o,t){(t==null||t>o.length)&&(t=o.length);for(var e=0,n=new Array(t);e<t;e++)n[e]=o[e];return n}function g_(o,t){var e=o==null?null:typeof Symbol<"u"&&o[Symbol.iterator]||o["@@iterator"];if(e!=null){var n=[],s=!0,l=!1,c,d;try{for(e=e.call(o);!(s=(c=e.next()).done)&&(n.push(c.value),!(t&&n.length===t));s=!0);}catch(h){l=!0,d=h}finally{try{!s&&e.return!=null&&e.return()}finally{if(l)throw d}}return n}}function v_(o){if(Array.isArray(o))return o}function sy(o,t){var e=Object.keys(o);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(o);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(o,s).enumerable})),e.push.apply(e,n)}return e}function te(o){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?sy(Object(e),!0).forEach(function(n){Ch(o,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(e)):sy(Object(e)).forEach(function(n){Object.defineProperty(o,n,Object.getOwnPropertyDescriptor(e,n))})}return o}function Ch(o,t,e){return t in o?Object.defineProperty(o,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):o[t]=e,o}function lc(o,t){if(o==null)return{};var e=y_(o,t),n,s;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(o);for(s=0;s<l.length;s++)n=l[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(o,n)&&(e[n]=o[n])}return e}function y_(o,t){if(o==null)return{};var e={},n=Object.keys(o),s,l;for(l=0;l<n.length;l++)s=n[l],!(t.indexOf(s)>=0)&&(e[s]=o[s]);return e}var rf=_.forwardRef(function(o,t){var e=o.children,n=lc(o,o_),s=ki(n),l=s.open,c=lc(s,l_);return _.useImperativeHandle(t,function(){return{open:l}},[l]),Oe.createElement(_.Fragment,null,e(te(te({},c),{},{open:l})))});rf.displayName="Dropzone";var e0={disabled:!1,getFilesFromEvent:RE,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};rf.defaultProps=e0;rf.propTypes={children:Ot.func,accept:Ot.objectOf(Ot.arrayOf(Ot.string)),multiple:Ot.bool,preventDropOnDocument:Ot.bool,noClick:Ot.bool,noKeyboard:Ot.bool,noDrag:Ot.bool,noDragEventsBubbling:Ot.bool,minSize:Ot.number,maxSize:Ot.number,maxFiles:Ot.number,disabled:Ot.bool,getFilesFromEvent:Ot.func,onFileDialogCancel:Ot.func,onFileDialogOpen:Ot.func,useFsAccessApi:Ot.bool,autoFocus:Ot.bool,onDragEnter:Ot.func,onDragLeave:Ot.func,onDragOver:Ot.func,onDrop:Ot.func,onDropAccepted:Ot.func,onDropRejected:Ot.func,onError:Ot.func,validator:Ot.func};var Rh={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function ki(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=te(te({},e0),o),e=t.accept,n=t.disabled,s=t.getFilesFromEvent,l=t.maxSize,c=t.minSize,d=t.multiple,h=t.maxFiles,f=t.onDragEnter,m=t.onDragLeave,v=t.onDragOver,y=t.onDrop,b=t.onDropAccepted,x=t.onDropRejected,A=t.onFileDialogCancel,T=t.onFileDialogOpen,E=t.useFsAccessApi,M=t.autoFocus,R=t.preventDropOnDocument,N=t.noClick,D=t.noKeyboard,L=t.noDrag,z=t.noDragEventsBubbling,q=t.onError,$=t.validator,W=_.useMemo(function(){return a_(e)},[e]),J=_.useMemo(function(){return n_(e)},[e]),nt=_.useMemo(function(){return typeof T=="function"?T:ry},[T]),dt=_.useMemo(function(){return typeof A=="function"?A:ry},[A]),at=_.useRef(null),ht=_.useRef(null),P=_.useReducer(b_,Rh),G=lh(P,2),tt=G[0],ut=G[1],k=tt.isFocused,Y=tt.isFileDialogActive,Z=_.useRef(typeof window<"u"&&window.isSecureContext&&E&&i_()),Q=function(){!Z.current&&Y&&setTimeout(function(){if(ht.current){var vt=ht.current.files;vt.length||(ut({type:"closeDialog"}),dt())}},300)};_.useEffect(function(){return window.addEventListener("focus",Q,!1),function(){window.removeEventListener("focus",Q,!1)}},[ht,Y,dt,Z]);var et=_.useRef([]),ft=function(vt){at.current&&at.current.contains(vt.target)||(vt.preventDefault(),et.current=[])};_.useEffect(function(){return R&&(document.addEventListener("dragover",ay,!1),document.addEventListener("drop",ft,!1)),function(){R&&(document.removeEventListener("dragover",ay),document.removeEventListener("drop",ft))}},[at,R]),_.useEffect(function(){return!n&&M&&at.current&&at.current.focus(),function(){}},[at,M,n]);var ot=_.useCallback(function(it){q?q(it):console.error(it)},[q]),_t=_.useCallback(function(it){it.preventDefault(),it.persist(),ra(it),et.current=[].concat(d_(et.current),[it.target]),Hl(it)&&Promise.resolve(s(it)).then(function(vt){if(!(oc(it)&&!z)){var Yt=vt.length,Pt=Yt>0&&ZE({files:vt,accept:W,minSize:c,maxSize:l,multiple:d,maxFiles:h,validator:$}),ie=Yt>0&&!Pt;ut({isDragAccept:Pt,isDragReject:ie,isDragActive:!0,type:"setDraggedFiles"}),f&&f(it)}}).catch(function(vt){return ot(vt)})},[s,f,ot,z,W,c,l,d,h,$]),Lt=_.useCallback(function(it){it.preventDefault(),it.persist(),ra(it);var vt=Hl(it);if(vt&&it.dataTransfer)try{it.dataTransfer.dropEffect="copy"}catch{}return vt&&v&&v(it),!1},[v,z]),Te=_.useCallback(function(it){it.preventDefault(),it.persist(),ra(it);var vt=et.current.filter(function(Pt){return at.current&&at.current.contains(Pt)}),Yt=vt.indexOf(it.target);Yt!==-1&&vt.splice(Yt,1),et.current=vt,!(vt.length>0)&&(ut({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),Hl(it)&&m&&m(it))},[at,m,z]),Ve=_.useCallback(function(it,vt){var Yt=[],Pt=[];it.forEach(function(ie){var ge=Wb(ie,W),Rn=lh(ge,2),Us=Rn[0],Gs=Rn[1],Dn=Qb(ie,c,l),Qi=lh(Dn,2),Ti=Qi[0],Mn=Qi[1],Zi=$?$(ie):null;if(Us&&Ti&&!Zi)Yt.push(ie);else{var qs=[Gs,Mn];Zi&&(qs=qs.concat(Zi)),Pt.push({file:ie,errors:qs.filter(function(To){return To})})}}),(!d&&Yt.length>1||d&&h>=1&&Yt.length>h)&&(Yt.forEach(function(ie){Pt.push({file:ie,errors:[QE]})}),Yt.splice(0)),ut({acceptedFiles:Yt,fileRejections:Pt,isDragReject:Pt.length>0,type:"setFiles"}),y&&y(Yt,Pt,vt),Pt.length>0&&x&&x(Pt,vt),Yt.length>0&&b&&b(Yt,vt)},[ut,d,W,c,l,h,y,b,x,$]),Fe=_.useCallback(function(it){it.preventDefault(),it.persist(),ra(it),et.current=[],Hl(it)&&Promise.resolve(s(it)).then(function(vt){oc(it)&&!z||Ve(vt,it)}).catch(function(vt){return ot(vt)}),ut({type:"reset"})},[s,Ve,ot,z]),Ce=_.useCallback(function(){if(Z.current){ut({type:"openDialog"}),nt();var it={multiple:d,types:J};window.showOpenFilePicker(it).then(function(vt){return s(vt)}).then(function(vt){Ve(vt,null),ut({type:"closeDialog"})}).catch(function(vt){s_(vt)?(dt(vt),ut({type:"closeDialog"})):r_(vt)?(Z.current=!1,ht.current?(ht.current.value=null,ht.current.click()):ot(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):ot(vt)});return}ht.current&&(ut({type:"openDialog"}),nt(),ht.current.value=null,ht.current.click())},[ut,nt,dt,E,Ve,ot,J,d]),ii=_.useCallback(function(it){!at.current||!at.current.isEqualNode(it.target)||(it.key===" "||it.key==="Enter"||it.keyCode===32||it.keyCode===13)&&(it.preventDefault(),Ce())},[at,Ce]),ni=_.useCallback(function(){ut({type:"focus"})},[]),Vt=_.useCallback(function(){ut({type:"blur"})},[]),aa=_.useCallback(function(){N||(e_()?setTimeout(Ce,0):Ce())},[N,Ce]),se=function(vt){return n?null:vt},Hs=function(vt){return D?null:se(vt)},sa=function(vt){return L?null:se(vt)},ra=function(vt){z&&vt.stopPropagation()},Ia=_.useMemo(function(){return function(){var it=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},vt=it.refKey,Yt=vt===void 0?"ref":vt,Pt=it.role,ie=it.onKeyDown,ge=it.onFocus,Rn=it.onBlur,Us=it.onClick,Gs=it.onDragEnter,Dn=it.onDragOver,Qi=it.onDragLeave,Ti=it.onDrop,Mn=lc(it,c_);return te(te(Ch({onKeyDown:Hs(Hi(ie,ii)),onFocus:Hs(Hi(ge,ni)),onBlur:Hs(Hi(Rn,Vt)),onClick:se(Hi(Us,aa)),onDragEnter:sa(Hi(Gs,_t)),onDragOver:sa(Hi(Dn,Lt)),onDragLeave:sa(Hi(Qi,Te)),onDrop:sa(Hi(Ti,Fe)),role:typeof Pt=="string"&&Pt!==""?Pt:"presentation"},Yt,at),!n&&!D?{tabIndex:0}:{}),Mn)}},[at,ii,ni,Vt,aa,_t,Lt,Te,Fe,D,L,n]),Nc=_.useCallback(function(it){it.stopPropagation()},[]),_o=_.useMemo(function(){return function(){var it=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},vt=it.refKey,Yt=vt===void 0?"ref":vt,Pt=it.onChange,ie=it.onClick,ge=lc(it,u_),Rn=Ch({accept:W,multiple:d,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:se(Hi(Pt,Fe)),onClick:se(Hi(ie,Nc)),tabIndex:-1},Yt,ht);return te(te({},Rn),ge)}},[ht,e,d,Fe,n]);return te(te({},tt),{},{isFocused:k&&!n,getRootProps:Ia,getInputProps:_o,rootRef:at,inputRef:ht,open:se(Ce)})}function b_(o,t){switch(t.type){case"focus":return te(te({},o),{},{isFocused:!0});case"blur":return te(te({},o),{},{isFocused:!1});case"openDialog":return te(te({},Rh),{},{isFileDialogActive:!0});case"closeDialog":return te(te({},o),{},{isFileDialogActive:!1});case"setDraggedFiles":return te(te({},o),{},{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case"setFiles":return te(te({},o),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections,isDragReject:t.isDragReject});case"reset":return te({},Rh);default:return o}}function ry(){}const Ue=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),Dh=[.001,0,0,.001,0,0],ch=1.35,di={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},bn={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},x_="pdfjs_internal_editor_",wt={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,SIGNATURE:101},kt={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35,DRAW_STEP:41},i0={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Pe={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},Jr={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},le={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},Ts={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},go={ERRORS:0,WARNINGS:1,INFOS:5},ro={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},Ul={moveTo:0,lineTo:1,curveTo:2,closePath:3},n0={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let Ec=go.WARNINGS;function A_(o){Number.isInteger(o)&&(Ec=o)}function w_(){return Ec}function _c(o){Ec>=go.INFOS&&console.log(`Info: ${o}`)}function St(o){Ec>=go.WARNINGS&&console.log(`Warning: ${o}`)}function qt(o){throw new Error(o)}function me(o,t){o||qt(t)}function S_(o){switch(o?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function of(o,t=null,e=null){if(!o)return null;if(e&&typeof o=="string"&&(e.addDefaultProtocol&&o.startsWith("www.")&&o.match(/\./g)?.length>=2&&(o=`http://${o}`),e.tryConvertEncoding))try{o=R_(o)}catch{}const n=t?URL.parse(o,t):URL.parse(o);return S_(n)?n:null}function lf(o,t,e=!1){const n=URL.parse(o);return n?(n.hash=t,n.href):e&&of(o,"http://example.com")?o.split("#",1)[0]+`${t?`#${t}`:""}`:""}function Nt(o,t,e,n=!1){return Object.defineProperty(o,t,{value:e,enumerable:!n,configurable:!0,writable:!1}),e}const Pa=function(){function t(e,n){this.message=e,this.name=n}return t.prototype=new Error,t.constructor=t,t}();class oy extends Pa{constructor(t,e){super(t,"PasswordException"),this.code=e}}class uh extends Pa{constructor(t,e){super(t,"UnknownErrorException"),this.details=e}}class cc extends Pa{constructor(t){super(t,"InvalidPDFException")}}class oo extends Pa{constructor(t,e,n){super(t,"ResponseException"),this.status=e,this.missing=n}}class E_ extends Pa{constructor(t){super(t,"FormatError")}}class En extends Pa{constructor(t){super(t,"AbortException")}}function a0(o){(typeof o!="object"||o?.length===void 0)&&qt("Invalid argument for bytesToString");const t=o.length,e=8192;if(t<e)return String.fromCharCode.apply(null,o);const n=[];for(let s=0;s<t;s+=e){const l=Math.min(s+e,t),c=o.subarray(s,l);n.push(String.fromCharCode.apply(null,c))}return n.join("")}function vo(o){typeof o!="string"&&qt("Invalid argument for stringToBytes");const t=o.length,e=new Uint8Array(t);for(let n=0;n<t;++n)e[n]=o.charCodeAt(n)&255;return e}function __(o){return String.fromCharCode(o>>24&255,o>>16&255,o>>8&255,o&255)}function T_(){const o=new Uint8Array(4);return o[0]=1,new Uint32Array(o.buffer,0,1)[0]===1}function C_(){try{return new Function(""),!0}catch{return!1}}class _e{static get isLittleEndian(){return Nt(this,"isLittleEndian",T_())}static get isEvalSupported(){return Nt(this,"isEvalSupported",C_())}static get isOffscreenCanvasSupported(){return Nt(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return Nt(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get platform(){const{platform:t,userAgent:e}=navigator;return Nt(this,"platform",{isAndroid:e.includes("Android"),isLinux:t.includes("Linux"),isMac:t.includes("Mac"),isWindows:t.includes("Win"),isFirefox:e.includes("Firefox")})}static get isCSSRoundSupported(){return Nt(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}}const dh=Array.from(Array(256).keys(),o=>o.toString(16).padStart(2,"0"));class ct{static makeHexColor(t,e,n){return`#${dh[t]}${dh[e]}${dh[n]}`}static scaleMinMax(t,e){let n;t[0]?(t[0]<0&&(n=e[0],e[0]=e[2],e[2]=n),e[0]*=t[0],e[2]*=t[0],t[3]<0&&(n=e[1],e[1]=e[3],e[3]=n),e[1]*=t[3],e[3]*=t[3]):(n=e[0],e[0]=e[1],e[1]=n,n=e[2],e[2]=e[3],e[3]=n,t[1]<0&&(n=e[1],e[1]=e[3],e[3]=n),e[1]*=t[1],e[3]*=t[1],t[2]<0&&(n=e[0],e[0]=e[2],e[2]=n),e[0]*=t[2],e[2]*=t[2]),e[0]+=t[4],e[1]+=t[5],e[2]+=t[4],e[3]+=t[5]}static transform(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]}static applyTransform(t,e,n=0){const s=t[n],l=t[n+1];t[n]=s*e[0]+l*e[2]+e[4],t[n+1]=s*e[1]+l*e[3]+e[5]}static applyTransformToBezier(t,e,n=0){const s=e[0],l=e[1],c=e[2],d=e[3],h=e[4],f=e[5];for(let m=0;m<6;m+=2){const v=t[n+m],y=t[n+m+1];t[n+m]=v*s+y*c+h,t[n+m+1]=v*l+y*d+f}}static applyInverseTransform(t,e){const n=t[0],s=t[1],l=e[0]*e[3]-e[1]*e[2];t[0]=(n*e[3]-s*e[2]+e[2]*e[5]-e[4]*e[3])/l,t[1]=(-n*e[1]+s*e[0]+e[4]*e[1]-e[5]*e[0])/l}static axialAlignedBoundingBox(t,e,n){const s=e[0],l=e[1],c=e[2],d=e[3],h=e[4],f=e[5],m=t[0],v=t[1],y=t[2],b=t[3];let x=s*m+h,A=x,T=s*y+h,E=T,M=d*v+f,R=M,N=d*b+f,D=N;if(l!==0||c!==0){const L=l*m,z=l*y,q=c*v,$=c*b;x+=q,E+=q,T+=$,A+=$,M+=L,D+=L,N+=z,R+=z}n[0]=Math.min(n[0],x,T,A,E),n[1]=Math.min(n[1],M,N,R,D),n[2]=Math.max(n[2],x,T,A,E),n[3]=Math.max(n[3],M,N,R,D)}static inverseTransform(t){const e=t[0]*t[3]-t[1]*t[2];return[t[3]/e,-t[1]/e,-t[2]/e,t[0]/e,(t[2]*t[5]-t[4]*t[3])/e,(t[4]*t[1]-t[5]*t[0])/e]}static singularValueDecompose2dScale(t,e){const n=t[0],s=t[1],l=t[2],c=t[3],d=n**2+s**2,h=n*l+s*c,f=l**2+c**2,m=(d+f)/2,v=Math.sqrt(m**2-(d*f-h**2));e[0]=Math.sqrt(m+v||1),e[1]=Math.sqrt(m-v||1)}static normalizeRect(t){const e=t.slice(0);return t[0]>t[2]&&(e[0]=t[2],e[2]=t[0]),t[1]>t[3]&&(e[1]=t[3],e[3]=t[1]),e}static intersect(t,e){const n=Math.max(Math.min(t[0],t[2]),Math.min(e[0],e[2])),s=Math.min(Math.max(t[0],t[2]),Math.max(e[0],e[2]));if(n>s)return null;const l=Math.max(Math.min(t[1],t[3]),Math.min(e[1],e[3])),c=Math.min(Math.max(t[1],t[3]),Math.max(e[1],e[3]));return l>c?null:[n,l,s,c]}static pointBoundingBox(t,e,n){n[0]=Math.min(n[0],t),n[1]=Math.min(n[1],e),n[2]=Math.max(n[2],t),n[3]=Math.max(n[3],e)}static rectBoundingBox(t,e,n,s,l){l[0]=Math.min(l[0],t,n),l[1]=Math.min(l[1],e,s),l[2]=Math.max(l[2],t,n),l[3]=Math.max(l[3],e,s)}static#t(t,e,n,s,l,c,d,h,f,m){if(f<=0||f>=1)return;const v=1-f,y=f*f,b=y*f,x=v*(v*(v*t+3*f*e)+3*y*n)+b*s,A=v*(v*(v*l+3*f*c)+3*y*d)+b*h;m[0]=Math.min(m[0],x),m[1]=Math.min(m[1],A),m[2]=Math.max(m[2],x),m[3]=Math.max(m[3],A)}static#e(t,e,n,s,l,c,d,h,f,m,v,y){if(Math.abs(f)<1e-12){Math.abs(m)>=1e-12&&this.#t(t,e,n,s,l,c,d,h,-v/m,y);return}const b=m**2-4*v*f;if(b<0)return;const x=Math.sqrt(b),A=2*f;this.#t(t,e,n,s,l,c,d,h,(-m+x)/A,y),this.#t(t,e,n,s,l,c,d,h,(-m-x)/A,y)}static bezierBoundingBox(t,e,n,s,l,c,d,h,f){f[0]=Math.min(f[0],t,d),f[1]=Math.min(f[1],e,h),f[2]=Math.max(f[2],t,d),f[3]=Math.max(f[3],e,h),this.#e(t,n,l,d,e,s,c,h,3*(-t+3*(n-l)+d),6*(t-2*n+l),3*(n-t),f),this.#e(t,n,l,d,e,s,c,h,3*(-e+3*(s-c)+h),6*(e-2*s+c),3*(s-e),f)}}function R_(o){return decodeURIComponent(escape(o))}let hh=null,ly=null;function s0(o){return hh||(hh=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,ly=new Map([["","t"]])),o.replaceAll(hh,(t,e,n)=>e?e.normalize("NFKC"):ly.get(n))}function cf(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const o=new Uint8Array(32);return crypto.getRandomValues(o),a0(o)}const uf="pdfjs_internal_id_";function D_(o,t,e){if(!Array.isArray(e)||e.length<2)return!1;const[n,s,...l]=e;if(!o(n)&&!Number.isInteger(n)||!t(s))return!1;const c=l.length;let d=!0;switch(s.name){case"XYZ":if(c<2||c>3)return!1;break;case"Fit":case"FitB":return c===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(c>1)return!1;break;case"FitR":if(c!==4)return!1;d=!1;break;default:return!1}for(const h of l)if(!(typeof h=="number"||d&&h===null))return!1;return!0}function Ie(o,t,e){return Math.min(Math.max(o,t),e)}function r0(o){return Uint8Array.prototype.toBase64?o.toBase64():btoa(a0(o))}function M_(o){return Uint8Array.fromBase64?Uint8Array.fromBase64(o):vo(atob(o))}typeof Promise.try!="function"&&(Promise.try=function(o,...t){return new Promise(e=>{e(o(...t))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(o){return o.reduce((t,e)=>t+e,0)});const mn="http://www.w3.org/2000/svg";class Oa{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF}async function Bs(o,t="text"){if(Wr(o,document.baseURI)){const e=await fetch(o);if(!e.ok)throw new Error(e.statusText);switch(t){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"json":return e.json()}return e.text()}return new Promise((e,n)=>{const s=new XMLHttpRequest;s.open("GET",o,!0),s.responseType=t,s.onreadystatechange=()=>{if(s.readyState===XMLHttpRequest.DONE){if(s.status===200||s.status===0){switch(t){case"arraybuffer":case"blob":case"json":e(s.response);return}e(s.responseText);return}n(new Error(s.statusText))}},s.send(null)})}class yo{constructor({viewBox:t,userUnit:e,scale:n,rotation:s,offsetX:l=0,offsetY:c=0,dontFlip:d=!1}){this.viewBox=t,this.userUnit=e,this.scale=n,this.rotation=s,this.offsetX=l,this.offsetY=c,n*=e;const h=(t[2]+t[0])/2,f=(t[3]+t[1])/2;let m,v,y,b;switch(s%=360,s<0&&(s+=360),s){case 180:m=-1,v=0,y=0,b=1;break;case 90:m=0,v=1,y=1,b=0;break;case 270:m=0,v=-1,y=-1,b=0;break;case 0:m=1,v=0,y=0,b=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}d&&(y=-y,b=-b);let x,A,T,E;m===0?(x=Math.abs(f-t[1])*n+l,A=Math.abs(h-t[0])*n+c,T=(t[3]-t[1])*n,E=(t[2]-t[0])*n):(x=Math.abs(h-t[0])*n+l,A=Math.abs(f-t[1])*n+c,T=(t[2]-t[0])*n,E=(t[3]-t[1])*n),this.transform=[m*n,v*n,y*n,b*n,x-m*n*h-y*n*f,A-v*n*h-b*n*f],this.width=T,this.height=E}get rawDims(){const t=this.viewBox;return Nt(this,"rawDims",{pageWidth:t[2]-t[0],pageHeight:t[3]-t[1],pageX:t[0],pageY:t[1]})}clone({scale:t=this.scale,rotation:e=this.rotation,offsetX:n=this.offsetX,offsetY:s=this.offsetY,dontFlip:l=!1}={}){return new yo({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:t,rotation:e,offsetX:n,offsetY:s,dontFlip:l})}convertToViewportPoint(t,e){const n=[t,e];return ct.applyTransform(n,this.transform),n}convertToViewportRectangle(t){const e=[t[0],t[1]];ct.applyTransform(e,this.transform);const n=[t[2],t[3]];return ct.applyTransform(n,this.transform),[e[0],e[1],n[0],n[1]]}convertToPdfPoint(t,e){const n=[t,e];return ct.applyInverseTransform(n,this.transform),n}}class Tc extends Pa{constructor(t,e=0){super(t,"RenderingCancelledException"),this.extraDelay=e}}function bo(o){const t=o.length;let e=0;for(;e<t&&o[e].trim()==="";)e++;return o.substring(e,e+5).toLowerCase()==="data:"}function Cc(o){return typeof o=="string"&&/\.pdf$/i.test(o)}function o0(o){return[o]=o.split(/[#?]/,1),o.substring(o.lastIndexOf("/")+1)}function l0(o,t="document.pdf"){if(typeof o!="string")return t;if(bo(o))return St('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;const e=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,n=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,s=e.exec(o);let l=n.exec(s[1])||n.exec(s[2])||n.exec(s[3]);if(l&&(l=l[0],l.includes("%")))try{l=n.exec(decodeURIComponent(l))[0]}catch{}return l||t}class cy{started=Object.create(null);times=[];time(t){t in this.started&&St(`Timer is already running for ${t}`),this.started[t]=Date.now()}timeEnd(t){t in this.started||St(`Timer has not been started for ${t}`),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t]}toString(){const t=[];let e=0;for(const{name:n}of this.times)e=Math.max(n.length,e);for(const{name:n,start:s,end:l}of this.times)t.push(`${n.padEnd(e)} ${l-s}ms
`);return t.join("")}}function Wr(o,t){const e=t?URL.parse(o,t):URL.parse(o);return e?.protocol==="http:"||e?.protocol==="https:"}function _i(o){o.preventDefault()}function ue(o){o.preventDefault(),o.stopPropagation()}function N_(o){console.log("Deprecated API usage: "+o)}class df{static#t;static toDateObject(t){if(!t||typeof t!="string")return null;this.#t||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");const e=this.#t.exec(t);if(!e)return null;const n=parseInt(e[1],10);let s=parseInt(e[2],10);s=s>=1&&s<=12?s-1:0;let l=parseInt(e[3],10);l=l>=1&&l<=31?l:1;let c=parseInt(e[4],10);c=c>=0&&c<=23?c:0;let d=parseInt(e[5],10);d=d>=0&&d<=59?d:0;let h=parseInt(e[6],10);h=h>=0&&h<=59?h:0;const f=e[7]||"Z";let m=parseInt(e[8],10);m=m>=0&&m<=23?m:0;let v=parseInt(e[9],10)||0;return v=v>=0&&v<=59?v:0,f==="-"?(c+=m,d+=v):f==="+"&&(c-=m,d-=v),new Date(Date.UTC(n,s,l,c,d,h))}}function c0(o,{scale:t=1,rotation:e=0}){const{width:n,height:s}=o.attributes.style,l=[0,0,parseInt(n),parseInt(s)];return new yo({viewBox:l,userUnit:1,scale:t,rotation:e})}function hf(o){if(o.startsWith("#")){const t=parseInt(o.slice(1),16);return[(t&16711680)>>16,(t&65280)>>8,t&255]}return o.startsWith("rgb(")?o.slice(4,-1).split(",").map(t=>parseInt(t)):o.startsWith("rgba(")?o.slice(5,-1).split(",").map(t=>parseInt(t)).slice(0,3):(St(`Not a valid color format: "${o}"`),[0,0,0])}function O_(o){const t=document.createElement("span");t.style.visibility="hidden",t.style.colorScheme="only light",document.body.append(t);for(const e of o.keys()){t.style.color=e;const n=window.getComputedStyle(t).color;o.set(e,hf(n))}t.remove()}function Jt(o){const{a:t,b:e,c:n,d:s,e:l,f:c}=o.getTransform();return[t,e,n,s,l,c]}function Ui(o){const{a:t,b:e,c:n,d:s,e:l,f:c}=o.getTransform().invertSelf();return[t,e,n,s,l,c]}function ia(o,t,e=!1,n=!0){if(t instanceof yo){const{pageWidth:s,pageHeight:l}=t.rawDims,{style:c}=o,d=_e.isCSSRoundSupported,h=`var(--total-scale-factor) * ${s}px`,f=`var(--total-scale-factor) * ${l}px`,m=d?`round(down, ${h}, var(--scale-round-x))`:`calc(${h})`,v=d?`round(down, ${f}, var(--scale-round-y))`:`calc(${f})`;!e||t.rotation%180===0?(c.width=m,c.height=v):(c.width=v,c.height=m)}n&&o.setAttribute("data-main-rotation",t.rotation)}class Oi{constructor(){const{pixelRatio:t}=Oi;this.sx=t,this.sy=t}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(t,e,n,s,l=-1){let c=1/0,d=1/0,h=1/0;n=Oi.capPixels(n,l),n>0&&(c=Math.sqrt(n/(t*e))),s!==-1&&(d=s/t,h=s/e);const f=Math.min(c,d,h);return this.sx>f||this.sy>f?(this.sx=f,this.sy=f,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(t,e){if(e>=0){const n=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+e/100));return t>0?Math.min(t,n):n}return t}}const uc=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];class to{#t=null;#e=null;#i;#n=null;#s=null;#a=null;static#l=null;constructor(t){this.#i=t,to.#l||=Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"})}render(){const t=this.#t=document.createElement("div");t.classList.add("editToolbar","hidden"),t.setAttribute("role","toolbar");const e=this.#i._uiManager._signal;t.addEventListener("contextmenu",_i,{signal:e}),t.addEventListener("pointerdown",to.#o,{signal:e});const n=this.#n=document.createElement("div");n.className="buttons",t.append(n);const s=this.#i.toolbarPosition;if(s){const{style:l}=t,c=this.#i._uiManager.direction==="ltr"?1-s[0]:s[0];l.insetInlineEnd=`${100*c}%`,l.top=`calc(${100*s[1]}% + var(--editor-toolbar-vert-offset))`}return this.#u(),t}get div(){return this.#t}static#o(t){t.stopPropagation()}#d(t){this.#i._focusEventsAllowed=!1,ue(t)}#c(t){this.#i._focusEventsAllowed=!0,ue(t)}#h(t){const e=this.#i._uiManager._signal;t.addEventListener("focusin",this.#d.bind(this),{capture:!0,signal:e}),t.addEventListener("focusout",this.#c.bind(this),{capture:!0,signal:e}),t.addEventListener("contextmenu",_i,{signal:e})}hide(){this.#t.classList.add("hidden"),this.#e?.hideDropdown()}show(){this.#t.classList.remove("hidden"),this.#s?.shown()}#u(){const{editorType:t,_uiManager:e}=this.#i,n=document.createElement("button");n.className="delete",n.tabIndex=0,n.setAttribute("data-l10n-id",to.#l[t]),this.#h(n),n.addEventListener("click",s=>{e.delete()},{signal:e._signal}),this.#n.append(n)}get#f(){const t=document.createElement("div");return t.className="divider",t}async addAltText(t){const e=await t.render();this.#h(e),this.#n.prepend(e,this.#f),this.#s=t}addColorPicker(t){this.#e=t;const e=t.renderButton();this.#h(e),this.#n.prepend(e,this.#f)}async addEditSignatureButton(t){const e=this.#a=await t.renderEditButton(this.#i);this.#h(e),this.#n.prepend(e,this.#f)}updateEditSignatureButton(t){this.#a&&(this.#a.title=t)}remove(){this.#t.remove(),this.#e?.destroy(),this.#e=null}}class k_{#t=null;#e=null;#i;constructor(t){this.#i=t}#n(){const t=this.#e=document.createElement("div");t.className="editToolbar",t.setAttribute("role","toolbar"),t.addEventListener("contextmenu",_i,{signal:this.#i._signal});const e=this.#t=document.createElement("div");return e.className="buttons",t.append(e),this.#a(),t}#s(t,e){let n=0,s=0;for(const l of t){const c=l.y+l.height;if(c<n)continue;const d=l.x+(e?l.width:0);if(c>n){s=d,n=c;continue}e?d>s&&(s=d):d<s&&(s=d)}return[e?1-s:s,n]}show(t,e,n){const[s,l]=this.#s(e,n),{style:c}=this.#e||=this.#n();t.append(this.#e),c.insetInlineEnd=`${100*s}%`,c.top=`calc(${100*l}% + var(--editor-toolbar-vert-offset))`}hide(){this.#e.remove()}#a(){const t=document.createElement("button");t.className="highlightButton",t.tabIndex=0,t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const e=document.createElement("span");t.append(e),e.className="visuallyHidden",e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const n=this.#i._signal;t.addEventListener("contextmenu",_i,{signal:n}),t.addEventListener("click",()=>{this.#i.highlightSelection("floating_button")},{signal:n}),this.#t.append(t)}}function u0(o,t,e){for(const n of e)t.addEventListener(n,o[n].bind(o))}class L_{#t=0;get id(){return`${x_}${this.#t++}`}}class ff{#t=cf();#e=0;#i=null;static get _isSVGFittingCanvas(){const t='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',n=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),s=new Image;s.src=t;const l=s.decode().then(()=>(n.drawImage(s,0,0,1,1,0,0,1,3),new Uint32Array(n.getImageData(0,0,1,1).data.buffer)[0]===0));return Nt(this,"_isSVGFittingCanvas",l)}async#n(t,e){this.#i||=new Map;let n=this.#i.get(t);if(n===null)return null;if(n?.bitmap)return n.refCounter+=1,n;try{n||={bitmap:null,id:`image_${this.#t}_${this.#e++}`,refCounter:0,isSvg:!1};let s;if(typeof e=="string"?(n.url=e,s=await Bs(e,"blob")):e instanceof File?s=n.file=e:e instanceof Blob&&(s=e),s.type==="image/svg+xml"){const l=ff._isSVGFittingCanvas,c=new FileReader,d=new Image,h=new Promise((f,m)=>{d.onload=()=>{n.bitmap=d,n.isSvg=!0,f()},c.onload=async()=>{const v=n.svgUrl=c.result;d.src=await l?`${v}#svgView(preserveAspectRatio(none))`:v},d.onerror=c.onerror=m});c.readAsDataURL(s),await h}else n.bitmap=await createImageBitmap(s);n.refCounter=1}catch(s){St(s),n=null}return this.#i.set(t,n),n&&this.#i.set(n.id,n),n}async getFromFile(t){const{lastModified:e,name:n,size:s,type:l}=t;return this.#n(`${e}_${n}_${s}_${l}`,t)}async getFromUrl(t){return this.#n(t,t)}async getFromBlob(t,e){const n=await e;return this.#n(t,n)}async getFromId(t){this.#i||=new Map;const e=this.#i.get(t);if(!e)return null;if(e.bitmap)return e.refCounter+=1,e;if(e.file)return this.getFromFile(e.file);if(e.blobPromise){const{blobPromise:n}=e;return delete e.blobPromise,this.getFromBlob(e.id,n)}return this.getFromUrl(e.url)}getFromCanvas(t,e){this.#i||=new Map;let n=this.#i.get(t);if(n?.bitmap)return n.refCounter+=1,n;const s=new OffscreenCanvas(e.width,e.height);return s.getContext("2d").drawImage(e,0,0),n={bitmap:s.transferToImageBitmap(),id:`image_${this.#t}_${this.#e++}`,refCounter:1,isSvg:!1},this.#i.set(t,n),this.#i.set(n.id,n),n}getSvgUrl(t){const e=this.#i.get(t);return e?.isSvg?e.svgUrl:null}deleteId(t){this.#i||=new Map;const e=this.#i.get(t);if(!e||(e.refCounter-=1,e.refCounter!==0))return;const{bitmap:n}=e;if(!e.url&&!e.file){const s=new OffscreenCanvas(n.width,n.height);s.getContext("bitmaprenderer").transferFromImageBitmap(n),e.blobPromise=s.convertToBlob()}n.close?.(),e.bitmap=null}isValidId(t){return t.startsWith(`image_${this.#t}_`)}}class j_{#t=[];#e=!1;#i;#n=-1;constructor(t=128){this.#i=t}add({cmd:t,undo:e,post:n,mustExec:s,type:l=NaN,overwriteIfSameType:c=!1,keepUndo:d=!1}){if(s&&t(),this.#e)return;const h={cmd:t,undo:e,post:n,type:l};if(this.#n===-1){this.#t.length>0&&(this.#t.length=0),this.#n=0,this.#t.push(h);return}if(c&&this.#t[this.#n].type===l){d&&(h.undo=this.#t[this.#n].undo),this.#t[this.#n]=h;return}const f=this.#n+1;f===this.#i?this.#t.splice(0,1):(this.#n=f,f<this.#t.length&&this.#t.splice(f)),this.#t.push(h)}undo(){if(this.#n===-1)return;this.#e=!0;const{undo:t,post:e}=this.#t[this.#n];t(),e?.(),this.#e=!1,this.#n-=1}redo(){if(this.#n<this.#t.length-1){this.#n+=1,this.#e=!0;const{cmd:t,post:e}=this.#t[this.#n];t(),e?.(),this.#e=!1}}hasSomethingToUndo(){return this.#n!==-1}hasSomethingToRedo(){return this.#n<this.#t.length-1}cleanType(t){if(this.#n!==-1){for(let e=this.#n;e>=0;e--)if(this.#t[e].type!==t){this.#t.splice(e+1,this.#n-e),this.#n=e;return}this.#t.length=0,this.#n=-1}}destroy(){this.#t=null}}class xo{constructor(t){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:e}=_e.platform;for(const[n,s,l={}]of t)for(const c of n){const d=c.startsWith("mac+");e&&d?(this.callbacks.set(c.slice(4),{callback:s,options:l}),this.allKeys.add(c.split("+").at(-1))):!e&&!d&&(this.callbacks.set(c,{callback:s,options:l}),this.allKeys.add(c.split("+").at(-1)))}}#t(t){t.altKey&&this.buffer.push("alt"),t.ctrlKey&&this.buffer.push("ctrl"),t.metaKey&&this.buffer.push("meta"),t.shiftKey&&this.buffer.push("shift"),this.buffer.push(t.key);const e=this.buffer.join("+");return this.buffer.length=0,e}exec(t,e){if(!this.allKeys.has(e.key))return;const n=this.callbacks.get(this.#t(e));if(!n)return;const{callback:s,options:{bubbles:l=!1,args:c=[],checker:d=null}}=n;d&&!d(t,e)||(s.bind(t,...c,e)(),l||ue(e))}}class pf{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){const t=new Map([["CanvasText",null],["Canvas",null]]);return O_(t),Nt(this,"_colors",t)}convert(t){const e=hf(t);if(!window.matchMedia("(forced-colors: active)").matches)return e;for(const[n,s]of this._colors)if(s.every((l,c)=>l===e[c]))return pf._colorsMapping.get(n);return e}getHexCode(t){const e=this._colors.get(t);return e?ct.makeHexColor(...e):t}}class _n{#t=new AbortController;#e=null;#i=new Map;#n=new Map;#s=null;#a=null;#l=null;#o=new j_;#d=null;#c=null;#h=0;#u=new Set;#f=null;#r=null;#p=new Set;_editorUndoBar=null;#g=!1;#m=!1;#v=!1;#y=null;#b=null;#A=null;#S=null;#_=!1;#C=null;#D=new L_;#w=!1;#R=!1;#T=null;#N=null;#O=null;#k=null;#B=null;#E=wt.NONE;#x=new Set;#z=null;#I=null;#G=null;#q=null;#$={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1};#H=[0,0];#L=null;#j=null;#U=null;#P=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){const t=_n.prototype,e=c=>c.#j.contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&c.hasSomethingToControl(),n=(c,{target:d})=>{if(d instanceof HTMLInputElement){const{type:h}=d;return h!=="text"&&h!=="number"}return!0},s=this.TRANSLATE_SMALL,l=this.TRANSLATE_BIG;return Nt(this,"_keyboardManager",new xo([[["ctrl+a","mac+meta+a"],t.selectAll,{checker:n}],[["ctrl+z","mac+meta+z"],t.undo,{checker:n}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],t.redo,{checker:n}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],t.delete,{checker:n}],[["Enter","mac+Enter"],t.addNewEditorFromKeyboard,{checker:(c,{target:d})=>!(d instanceof HTMLButtonElement)&&c.#j.contains(d)&&!c.isEnterHandled}],[[" ","mac+ "],t.addNewEditorFromKeyboard,{checker:(c,{target:d})=>!(d instanceof HTMLButtonElement)&&c.#j.contains(document.activeElement)}],[["Escape","mac+Escape"],t.unselectAll],[["ArrowLeft","mac+ArrowLeft"],t.translateSelectedEditors,{args:[-s,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t.translateSelectedEditors,{args:[-l,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t.translateSelectedEditors,{args:[s,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t.translateSelectedEditors,{args:[l,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t.translateSelectedEditors,{args:[0,-s],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t.translateSelectedEditors,{args:[0,-l],checker:e}],[["ArrowDown","mac+ArrowDown"],t.translateSelectedEditors,{args:[0,s],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t.translateSelectedEditors,{args:[0,l],checker:e}]]))}constructor(t,e,n,s,l,c,d,h,f,m,v,y,b,x){const A=this._signal=this.#t.signal;this.#j=t,this.#U=e,this.#s=n,this.#I=s,this._eventBus=l,l._on("editingaction",this.onEditingAction.bind(this),{signal:A}),l._on("pagechanging",this.onPageChanging.bind(this),{signal:A}),l._on("scalechanging",this.onScaleChanging.bind(this),{signal:A}),l._on("rotationchanging",this.onRotationChanging.bind(this),{signal:A}),l._on("setpreference",this.onSetPreference.bind(this),{signal:A}),l._on("switchannotationeditorparams",T=>this.updateParams(T.type,T.value),{signal:A}),this.#nt(),this.#ot(),this.#W(),this.#a=c.annotationStorage,this.#y=c.filterFactory,this.#G=d,this.#S=h||null,this.#g=f,this.#m=m,this.#v=v,this.#B=y||null,this.viewParameters={realScale:Oa.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=b||null,this._supportsPinchToZoom=x!==!1}destroy(){this.#P?.resolve(),this.#P=null,this.#t?.abort(),this.#t=null,this._signal=null;for(const t of this.#n.values())t.destroy();this.#n.clear(),this.#i.clear(),this.#p.clear(),this.#k?.clear(),this.#e=null,this.#x.clear(),this.#o.destroy(),this.#s?.destroy(),this.#I?.destroy(),this.#C?.hide(),this.#C=null,this.#O?.destroy(),this.#O=null,this.#b&&(clearTimeout(this.#b),this.#b=null),this.#L&&(clearTimeout(this.#L),this.#L=null),this._editorUndoBar?.destroy()}combinedSignal(t){return AbortSignal.any([this._signal,t.signal])}get mlManager(){return this.#B}get useNewAltTextFlow(){return this.#m}get useNewAltTextWhenAddingImage(){return this.#v}get hcmFilter(){return Nt(this,"hcmFilter",this.#G?this.#y.addHCMFilter(this.#G.foreground,this.#G.background):"none")}get direction(){return Nt(this,"direction",getComputedStyle(this.#j).direction)}get highlightColors(){return Nt(this,"highlightColors",this.#S?new Map(this.#S.split(",").map(t=>t.split("=").map(e=>e.trim()))):null)}get highlightColorNames(){return Nt(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,t=>t.reverse())):null)}setCurrentDrawingSession(t){t?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),this.#c=t}setMainHighlightColorPicker(t){this.#O=t}editAltText(t,e=!1){this.#s?.editAltText(this,t,e)}getSignature(t){this.#I?.getSignature({uiManager:this,editor:t})}get signatureManager(){return this.#I}switchToMode(t,e){this._eventBus.on("annotationeditormodechanged",e,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:t})}setPreference(t,e){this._eventBus.dispatch("setpreference",{source:this,name:t,value:e})}onSetPreference({name:t,value:e}){switch(t){case"enableNewAltTextWhenAddingImage":this.#v=e;break}}onPageChanging({pageNumber:t}){this.#h=t-1}focusMainContainer(){this.#j.focus()}findParent(t,e){for(const n of this.#n.values()){const{x:s,y:l,width:c,height:d}=n.div.getBoundingClientRect();if(t>=s&&t<=s+c&&e>=l&&e<=l+d)return n}return null}disableUserSelect(t=!1){this.#U.classList.toggle("noUserSelect",t)}addShouldRescale(t){this.#p.add(t)}removeShouldRescale(t){this.#p.delete(t)}onScaleChanging({scale:t}){this.commitOrRemove(),this.viewParameters.realScale=t*Oa.PDF_TO_CSS_UNITS;for(const e of this.#p)e.onScaleChanging();this.#c?.onScaleChanging()}onRotationChanging({pagesRotation:t}){this.commitOrRemove(),this.viewParameters.rotation=t}#Y({anchorNode:t}){return t.nodeType===Node.TEXT_NODE?t.parentElement:t}#K(t){const{currentLayer:e}=this;if(e.hasTextLayer(t))return e;for(const n of this.#n.values())if(n.hasTextLayer(t))return n;return null}highlightSelection(t=""){const e=document.getSelection();if(!e||e.isCollapsed)return;const{anchorNode:n,anchorOffset:s,focusNode:l,focusOffset:c}=e,d=e.toString(),f=this.#Y(e).closest(".textLayer"),m=this.getSelectionBoxes(f);if(!m)return;e.empty();const v=this.#K(f),y=this.#E===wt.NONE,b=()=>{v?.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:t,boxes:m,anchorNode:n,anchorOffset:s,focusNode:l,focusOffset:c,text:d}),y&&this.showAllEditors("highlight",!0,!0)};if(y){this.switchToMode(wt.HIGHLIGHT,b);return}b()}#et(){const t=document.getSelection();if(!t||t.isCollapsed)return;const n=this.#Y(t).closest(".textLayer"),s=this.getSelectionBoxes(n);s&&(this.#C||=new k_(this),this.#C.show(n,s,this.direction==="ltr"))}addToAnnotationStorage(t){!t.isEmpty()&&this.#a&&!this.#a.has(t.id)&&this.#a.setValue(t.id,t)}#it(){const t=document.getSelection();if(!t||t.isCollapsed){this.#z&&(this.#C?.hide(),this.#z=null,this.#M({hasSelectedText:!1}));return}const{anchorNode:e}=t;if(e===this.#z)return;const s=this.#Y(t).closest(".textLayer");if(!s){this.#z&&(this.#C?.hide(),this.#z=null,this.#M({hasSelectedText:!1}));return}if(this.#C?.hide(),this.#z=e,this.#M({hasSelectedText:!0}),!(this.#E!==wt.HIGHLIGHT&&this.#E!==wt.NONE)&&(this.#E===wt.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),this.#_=this.isShiftKeyDown,!this.isShiftKeyDown)){const l=this.#E===wt.HIGHLIGHT?this.#K(s):null;l?.toggleDrawing();const c=new AbortController,d=this.combinedSignal(c),h=f=>{f.type==="pointerup"&&f.button!==0||(c.abort(),l?.toggleDrawing(!0),f.type==="pointerup"&&this.#X("main_toolbar"))};window.addEventListener("pointerup",h,{signal:d}),window.addEventListener("blur",h,{signal:d})}}#X(t=""){this.#E===wt.HIGHLIGHT?this.highlightSelection(t):this.#g&&this.#et()}#nt(){document.addEventListener("selectionchange",this.#it.bind(this),{signal:this._signal})}#at(){if(this.#A)return;this.#A=new AbortController;const t=this.combinedSignal(this.#A);window.addEventListener("focus",this.focus.bind(this),{signal:t}),window.addEventListener("blur",this.blur.bind(this),{signal:t})}#st(){this.#A?.abort(),this.#A=null}blur(){if(this.isShiftKeyDown=!1,this.#_&&(this.#_=!1,this.#X("main_toolbar")),!this.hasSelection)return;const{activeElement:t}=document;for(const e of this.#x)if(e.div.contains(t)){this.#N=[e,t],e._focusEventsAllowed=!1;break}}focus(){if(!this.#N)return;const[t,e]=this.#N;this.#N=null,e.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this._signal}),e.focus()}#W(){if(this.#T)return;this.#T=new AbortController;const t=this.combinedSignal(this.#T);window.addEventListener("keydown",this.keydown.bind(this),{signal:t}),window.addEventListener("keyup",this.keyup.bind(this),{signal:t})}#rt(){this.#T?.abort(),this.#T=null}#Q(){if(this.#d)return;this.#d=new AbortController;const t=this.combinedSignal(this.#d);document.addEventListener("copy",this.copy.bind(this),{signal:t}),document.addEventListener("cut",this.cut.bind(this),{signal:t}),document.addEventListener("paste",this.paste.bind(this),{signal:t})}#Z(){this.#d?.abort(),this.#d=null}#ot(){const t=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:t}),document.addEventListener("drop",this.drop.bind(this),{signal:t})}addEditListeners(){this.#W(),this.#Q()}removeEditListeners(){this.#rt(),this.#Z()}dragOver(t){for(const{type:e}of t.dataTransfer.items)for(const n of this.#r)if(n.isHandlingMimeForPasting(e)){t.dataTransfer.dropEffect="copy",t.preventDefault();return}}drop(t){for(const e of t.dataTransfer.items)for(const n of this.#r)if(n.isHandlingMimeForPasting(e.type)){n.paste(e,this.currentLayer),t.preventDefault();return}}copy(t){if(t.preventDefault(),this.#e?.commitOrRemove(),!this.hasSelection)return;const e=[];for(const n of this.#x){const s=n.serialize(!0);s&&e.push(s)}e.length!==0&&t.clipboardData.setData("application/pdfjs",JSON.stringify(e))}cut(t){this.copy(t),this.delete()}async paste(t){t.preventDefault();const{clipboardData:e}=t;for(const l of e.items)for(const c of this.#r)if(c.isHandlingMimeForPasting(l.type)){c.paste(l,this.currentLayer);return}let n=e.getData("application/pdfjs");if(!n)return;try{n=JSON.parse(n)}catch(l){St(`paste: "${l.message}".`);return}if(!Array.isArray(n))return;this.unselectAll();const s=this.currentLayer;try{const l=[];for(const h of n){const f=await s.deserialize(h);if(!f)return;l.push(f)}const c=()=>{for(const h of l)this.#J(h);this.#tt(l)},d=()=>{for(const h of l)h.remove()};this.addCommands({cmd:c,undo:d,mustExec:!0})}catch(l){St(`paste: "${l.message}".`)}}keydown(t){!this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!0),this.#E!==wt.NONE&&!this.isEditorHandlingKeyboard&&_n._keyboardManager.exec(this,t)}keyup(t){this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!1,this.#_&&(this.#_=!1,this.#X("main_toolbar")))}onEditingAction({name:t}){switch(t){case"undo":case"redo":case"delete":case"selectAll":this[t]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}#M(t){Object.entries(t).some(([n,s])=>this.#$[n]!==s)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#$,t)}),this.#E===wt.HIGHLIGHT&&t.hasSelectedEditor===!1&&this.#F([[kt.HIGHLIGHT_FREE,!0]]))}#F(t){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:t})}setEditingState(t){t?(this.#at(),this.#Q(),this.#M({isEditing:this.#E!==wt.NONE,isEmpty:this.#V(),hasSomethingToUndo:this.#o.hasSomethingToUndo(),hasSomethingToRedo:this.#o.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#st(),this.#Z(),this.#M({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(t){if(!this.#r){this.#r=t;for(const e of this.#r)this.#F(e.defaultPropertiesToUpdate)}}getId(){return this.#D.id}get currentLayer(){return this.#n.get(this.#h)}getLayer(t){return this.#n.get(t)}get currentPageIndex(){return this.#h}addLayer(t){this.#n.set(t.pageIndex,t),this.#w?t.enable():t.disable()}removeLayer(t){this.#n.delete(t.pageIndex)}async updateMode(t,e=null,n=!1){if(this.#E!==t&&!(this.#P&&(await this.#P.promise,!this.#P))){if(this.#P=Promise.withResolvers(),this.#c?.commitOrRemove(),this.#E=t,t===wt.NONE){this.setEditingState(!1),this.#ct(),this._editorUndoBar?.hide(),this.#P.resolve();return}t===wt.SIGNATURE&&await this.#I?.loadSignatures(),this.setEditingState(!0),await this.#lt(),this.unselectAll();for(const s of this.#n.values())s.updateMode(t);if(!e){n&&this.addNewEditorFromKeyboard(),this.#P.resolve();return}for(const s of this.#i.values())s.annotationElementId===e||s.id===e?(this.setSelected(s),s.enterInEditMode()):s.unselect();this.#P.resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(t){t.mode!==this.#E&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...t})}updateParams(t,e){if(this.#r){switch(t){case kt.CREATE:this.currentLayer.addNewEditor(e);return;case kt.HIGHLIGHT_DEFAULT_COLOR:this.#O?.updateColor(e);break;case kt.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(this.#q||=new Map).set(t,e),this.showAllEditors("highlight",e);break}for(const n of this.#x)n.updateParams(t,e);for(const n of this.#r)n.updateDefaultParams(t,e)}}showAllEditors(t,e,n=!1){for(const l of this.#i.values())l.editorType===t&&l.show(e);(this.#q?.get(kt.HIGHLIGHT_SHOW_ALL)??!0)!==e&&this.#F([[kt.HIGHLIGHT_SHOW_ALL,e]])}enableWaiting(t=!1){if(this.#R!==t){this.#R=t;for(const e of this.#n.values())t?e.disableClick():e.enableClick(),e.div.classList.toggle("waiting",t)}}async#lt(){if(!this.#w){this.#w=!0;const t=[];for(const e of this.#n.values())t.push(e.enable());await Promise.all(t);for(const e of this.#i.values())e.enable()}}#ct(){if(this.unselectAll(),this.#w){this.#w=!1;for(const t of this.#n.values())t.disable();for(const t of this.#i.values())t.disable()}}getEditors(t){const e=[];for(const n of this.#i.values())n.pageIndex===t&&e.push(n);return e}getEditor(t){return this.#i.get(t)}addEditor(t){this.#i.set(t.id,t)}removeEditor(t){t.div.contains(document.activeElement)&&(this.#b&&clearTimeout(this.#b),this.#b=setTimeout(()=>{this.focusMainContainer(),this.#b=null},0)),this.#i.delete(t.id),t.annotationElementId&&this.#k?.delete(t.annotationElementId),this.unselect(t),(!t.annotationElementId||!this.#u.has(t.annotationElementId))&&this.#a?.remove(t.id)}addDeletedAnnotationElement(t){this.#u.add(t.annotationElementId),this.addChangedExistingAnnotation(t),t.deleted=!0}isDeletedAnnotationElement(t){return this.#u.has(t)}removeDeletedAnnotationElement(t){this.#u.delete(t.annotationElementId),this.removeChangedExistingAnnotation(t),t.deleted=!1}#J(t){const e=this.#n.get(t.pageIndex);e?e.addOrRebuild(t):(this.addEditor(t),this.addToAnnotationStorage(t))}setActiveEditor(t){this.#e!==t&&(this.#e=t,t&&this.#F(t.propertiesToUpdate))}get#ut(){let t=null;for(t of this.#x);return t}updateUI(t){this.#ut===t&&this.#F(t.propertiesToUpdate)}updateUIForDefaultProperties(t){this.#F(t.defaultPropertiesToUpdate)}toggleSelected(t){if(this.#x.has(t)){this.#x.delete(t),t.unselect(),this.#M({hasSelectedEditor:this.hasSelection});return}this.#x.add(t),t.select(),this.#F(t.propertiesToUpdate),this.#M({hasSelectedEditor:!0})}setSelected(t){this.#c?.commitOrRemove();for(const e of this.#x)e!==t&&e.unselect();this.#x.clear(),this.#x.add(t),t.select(),this.#F(t.propertiesToUpdate),this.#M({hasSelectedEditor:!0})}isSelected(t){return this.#x.has(t)}get firstSelectedEditor(){return this.#x.values().next().value}unselect(t){t.unselect(),this.#x.delete(t),this.#M({hasSelectedEditor:this.hasSelection})}get hasSelection(){return this.#x.size!==0}get isEnterHandled(){return this.#x.size===1&&this.firstSelectedEditor.isEnterHandled}undo(){this.#o.undo(),this.#M({hasSomethingToUndo:this.#o.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#V()}),this._editorUndoBar?.hide()}redo(){this.#o.redo(),this.#M({hasSomethingToUndo:!0,hasSomethingToRedo:this.#o.hasSomethingToRedo(),isEmpty:this.#V()})}addCommands(t){this.#o.add(t),this.#M({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#V()})}cleanUndoStack(t){this.#o.cleanType(t)}#V(){if(this.#i.size===0)return!0;if(this.#i.size===1)for(const t of this.#i.values())return t.isEmpty();return!1}delete(){this.commitOrRemove();const t=this.currentLayer?.endDrawingSession(!0);if(!this.hasSelection&&!t)return;const e=t?[t]:[...this.#x],n=()=>{this._editorUndoBar?.show(s,e.length===1?e[0].editorType:e.length);for(const l of e)l.remove()},s=()=>{for(const l of e)this.#J(l)};this.addCommands({cmd:n,undo:s,mustExec:!0})}commitOrRemove(){this.#e?.commitOrRemove()}hasSomethingToControl(){return this.#e||this.hasSelection}#tt(t){for(const e of this.#x)e.unselect();this.#x.clear();for(const e of t)e.isEmpty()||(this.#x.add(e),e.select());this.#M({hasSelectedEditor:this.hasSelection})}selectAll(){for(const t of this.#x)t.commit();this.#tt(this.#i.values())}unselectAll(){if(!(this.#e&&(this.#e.commitOrRemove(),this.#E!==wt.NONE))&&!this.#c?.commitOrRemove()&&this.hasSelection){for(const t of this.#x)t.unselect();this.#x.clear(),this.#M({hasSelectedEditor:!1})}}translateSelectedEditors(t,e,n=!1){if(n||this.commitOrRemove(),!this.hasSelection)return;this.#H[0]+=t,this.#H[1]+=e;const[s,l]=this.#H,c=[...this.#x],d=1e3;this.#L&&clearTimeout(this.#L),this.#L=setTimeout(()=>{this.#L=null,this.#H[0]=this.#H[1]=0,this.addCommands({cmd:()=>{for(const h of c)this.#i.has(h.id)&&(h.translateInPage(s,l),h.translationDone())},undo:()=>{for(const h of c)this.#i.has(h.id)&&(h.translateInPage(-s,-l),h.translationDone())},mustExec:!1})},d);for(const h of c)h.translateInPage(t,e),h.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#f=new Map;for(const t of this.#x)this.#f.set(t,{savedX:t.x,savedY:t.y,savedPageIndex:t.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#f)return!1;this.disableUserSelect(!1);const t=this.#f;this.#f=null;let e=!1;for(const[{x:s,y:l,pageIndex:c},d]of t)d.newX=s,d.newY=l,d.newPageIndex=c,e||=s!==d.savedX||l!==d.savedY||c!==d.savedPageIndex;if(!e)return!1;const n=(s,l,c,d)=>{if(this.#i.has(s.id)){const h=this.#n.get(d);h?s._setParentAndPosition(h,l,c):(s.pageIndex=d,s.x=l,s.y=c)}};return this.addCommands({cmd:()=>{for(const[s,{newX:l,newY:c,newPageIndex:d}]of t)n(s,l,c,d)},undo:()=>{for(const[s,{savedX:l,savedY:c,savedPageIndex:d}]of t)n(s,l,c,d)},mustExec:!0}),!0}dragSelectedEditors(t,e){if(this.#f)for(const n of this.#f.keys())n.drag(t,e)}rebuild(t){if(t.parent===null){const e=this.getLayer(t.pageIndex);e?(e.changeParent(t),e.addOrRebuild(t)):(this.addEditor(t),this.addToAnnotationStorage(t),t.rebuild())}else t.parent.addOrRebuild(t)}get isEditorHandlingKeyboard(){return this.getActive()?.shouldGetKeyboardEvents()||this.#x.size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(t){return this.#e===t}getActive(){return this.#e}getMode(){return this.#E}get imageManager(){return Nt(this,"imageManager",new ff)}getSelectionBoxes(t){if(!t)return null;const e=document.getSelection();for(let f=0,m=e.rangeCount;f<m;f++)if(!t.contains(e.getRangeAt(f).commonAncestorContainer))return null;const{x:n,y:s,width:l,height:c}=t.getBoundingClientRect();let d;switch(t.getAttribute("data-main-rotation")){case"90":d=(f,m,v,y)=>({x:(m-s)/c,y:1-(f+v-n)/l,width:y/c,height:v/l});break;case"180":d=(f,m,v,y)=>({x:1-(f+v-n)/l,y:1-(m+y-s)/c,width:v/l,height:y/c});break;case"270":d=(f,m,v,y)=>({x:1-(m+y-s)/c,y:(f-n)/l,width:y/c,height:v/l});break;default:d=(f,m,v,y)=>({x:(f-n)/l,y:(m-s)/c,width:v/l,height:y/c});break}const h=[];for(let f=0,m=e.rangeCount;f<m;f++){const v=e.getRangeAt(f);if(!v.collapsed)for(const{x:y,y:b,width:x,height:A}of v.getClientRects())x===0||A===0||h.push(d(y,b,x,A))}return h.length===0?null:h}addChangedExistingAnnotation({annotationElementId:t,id:e}){(this.#l||=new Map).set(t,e)}removeChangedExistingAnnotation({annotationElementId:t}){this.#l?.delete(t)}renderAnnotationElement(t){const e=this.#l?.get(t.data.id);if(!e)return;const n=this.#a.getRawValue(e);n&&(this.#E===wt.NONE&&!n.hasBeenModified||n.renderAnnotationElement(t))}setMissingCanvas(t,e,n){const s=this.#k?.get(t);s&&(s.setCanvas(e,n),this.#k.delete(t))}addMissingCanvas(t,e){(this.#k||=new Map).set(t,e)}}class $i{#t=null;#e=!1;#i=null;#n=null;#s=null;#a=null;#l=!1;#o=null;#d=null;#c=null;#h=null;#u=!1;static#f=null;static _l10n=null;constructor(t){this.#d=t,this.#u=t._uiManager.useNewAltTextFlow,$i.#f||=Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"})}static initialize(t){$i._l10n??=t}async render(){const t=this.#i=document.createElement("button");t.className="altText",t.tabIndex="0";const e=this.#n=document.createElement("span");t.append(e),this.#u?(t.classList.add("new"),t.setAttribute("data-l10n-id",$i.#f.missing),e.setAttribute("data-l10n-id",$i.#f["missing-label"])):(t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const n=this.#d._uiManager._signal;t.addEventListener("contextmenu",_i,{signal:n}),t.addEventListener("pointerdown",l=>l.stopPropagation(),{signal:n});const s=l=>{l.preventDefault(),this.#d._uiManager.editAltText(this.#d),this.#u&&this.#d._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:this.#r}})};return t.addEventListener("click",s,{capture:!0,signal:n}),t.addEventListener("keydown",l=>{l.target===t&&l.key==="Enter"&&(this.#l=!0,s(l))},{signal:n}),await this.#p(),t}get#r(){return this.#t&&"added"||this.#t===null&&this.guessedText&&"review"||"missing"}finish(){this.#i&&(this.#i.focus({focusVisible:this.#l}),this.#l=!1)}isEmpty(){return this.#u?this.#t===null:!this.#t&&!this.#e}hasData(){return this.#u?this.#t!==null||!!this.#c:this.isEmpty()}get guessedText(){return this.#c}async setGuessedText(t){this.#t===null&&(this.#c=t,this.#h=await $i._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:t}),this.#p())}toggleAltTextBadge(t=!1){if(!this.#u||this.#t){this.#o?.remove(),this.#o=null;return}if(!this.#o){const e=this.#o=document.createElement("div");e.className="noAltTextBadge",this.#d.div.append(e)}this.#o.classList.toggle("hidden",!t)}serialize(t){let e=this.#t;return!t&&this.#c===e&&(e=this.#h),{altText:e,decorative:this.#e,guessedText:this.#c,textWithDisclaimer:this.#h}}get data(){return{altText:this.#t,decorative:this.#e}}set data({altText:t,decorative:e,guessedText:n,textWithDisclaimer:s,cancel:l=!1}){n&&(this.#c=n,this.#h=s),!(this.#t===t&&this.#e===e)&&(l||(this.#t=t,this.#e=e),this.#p())}toggle(t=!1){this.#i&&(!t&&this.#a&&(clearTimeout(this.#a),this.#a=null),this.#i.disabled=!t)}shown(){this.#d._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:this.#r}})}destroy(){this.#i?.remove(),this.#i=null,this.#n=null,this.#s=null,this.#o?.remove(),this.#o=null}async#p(){const t=this.#i;if(!t)return;if(this.#u){if(t.classList.toggle("done",!!this.#t),t.setAttribute("data-l10n-id",$i.#f[this.#r]),this.#n?.setAttribute("data-l10n-id",$i.#f[`${this.#r}-label`]),!this.#t){this.#s?.remove();return}}else{if(!this.#t&&!this.#e){t.classList.remove("done"),this.#s?.remove();return}t.classList.add("done"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let e=this.#s;if(!e){this.#s=e=document.createElement("span"),e.className="tooltip",e.setAttribute("role","tooltip"),e.id=`alt-text-tooltip-${this.#d.id}`;const s=100,l=this.#d._uiManager._signal;l.addEventListener("abort",()=>{clearTimeout(this.#a),this.#a=null},{once:!0}),t.addEventListener("mouseenter",()=>{this.#a=setTimeout(()=>{this.#a=null,this.#s.classList.add("show"),this.#d._reportTelemetry({action:"alt_text_tooltip"})},s)},{signal:l}),t.addEventListener("mouseleave",()=>{this.#a&&(clearTimeout(this.#a),this.#a=null),this.#s?.classList.remove("show")},{signal:l})}this.#e?e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(e.removeAttribute("data-l10n-id"),e.textContent=this.#t),e.parentNode||t.append(e),this.#d.getElementForAltText()?.setAttribute("aria-describedby",e.id)}}class Ao{#t;#e=!1;#i=null;#n;#s;#a;#l;#o=null;#d;#c=null;#h;#u=null;constructor({container:t,isPinchingDisabled:e=null,isPinchingStopped:n=null,onPinchStart:s=null,onPinching:l=null,onPinchEnd:c=null,signal:d}){this.#t=t,this.#i=n,this.#n=e,this.#s=s,this.#a=l,this.#l=c,this.#h=new AbortController,this.#d=AbortSignal.any([d,this.#h.signal]),t.addEventListener("touchstart",this.#f.bind(this),{passive:!1,signal:this.#d})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/Oi.pixelRatio}#f(t){if(this.#n?.())return;if(t.touches.length===1){if(this.#o)return;const s=this.#o=new AbortController,l=AbortSignal.any([this.#d,s.signal]),c=this.#t,d={capture:!0,signal:l,passive:!1},h=f=>{f.pointerType==="touch"&&(this.#o?.abort(),this.#o=null)};c.addEventListener("pointerdown",f=>{f.pointerType==="touch"&&(ue(f),h(f))},d),c.addEventListener("pointerup",h,d),c.addEventListener("pointercancel",h,d);return}if(!this.#u){this.#u=new AbortController;const s=AbortSignal.any([this.#d,this.#u.signal]),l=this.#t,c={signal:s,capture:!1,passive:!1};l.addEventListener("touchmove",this.#r.bind(this),c);const d=this.#p.bind(this);l.addEventListener("touchend",d,c),l.addEventListener("touchcancel",d,c),c.capture=!0,l.addEventListener("pointerdown",ue,c),l.addEventListener("pointermove",ue,c),l.addEventListener("pointercancel",ue,c),l.addEventListener("pointerup",ue,c),this.#s?.()}if(ue(t),t.touches.length!==2||this.#i?.()){this.#c=null;return}let[e,n]=t.touches;e.identifier>n.identifier&&([e,n]=[n,e]),this.#c={touch0X:e.screenX,touch0Y:e.screenY,touch1X:n.screenX,touch1Y:n.screenY}}#r(t){if(!this.#c||t.touches.length!==2)return;ue(t);let[e,n]=t.touches;e.identifier>n.identifier&&([e,n]=[n,e]);const{screenX:s,screenY:l}=e,{screenX:c,screenY:d}=n,h=this.#c,{touch0X:f,touch0Y:m,touch1X:v,touch1Y:y}=h,b=v-f,x=y-m,A=c-s,T=d-l,E=Math.hypot(A,T)||1,M=Math.hypot(b,x)||1;if(!this.#e&&Math.abs(M-E)<=Ao.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(h.touch0X=s,h.touch0Y=l,h.touch1X=c,h.touch1Y=d,!this.#e){this.#e=!0;return}const R=[(s+c)/2,(l+d)/2];this.#a?.(R,M,E)}#p(t){t.touches.length>=2||(this.#u&&(this.#u.abort(),this.#u=null,this.#l?.()),this.#c&&(ue(t),this.#c=null,this.#e=!1))}destroy(){this.#h?.abort(),this.#h=null,this.#o?.abort(),this.#o=null}}class pt{#t=null;#e=null;#i=null;#n=!1;#s=null;#a="";#l=!1;#o=null;#d=null;#c=null;#h=null;#u="";#f=!1;#r=null;#p=!1;#g=!1;#m=!1;#v=null;#y=0;#b=0;#A=null;#S=null;isSelected=!1;_isCopy=!1;_editToolbar=null;_initialOptions=Object.create(null);_initialData=null;_isVisible=!0;_uiManager=null;_focusEventsAllowed=!0;static _l10n=null;static _l10nResizer=null;#_=!1;#C=pt._zIndex++;static _borderLineWidth=-1;static _colorManager=new pf;static _zIndex=1;static _telemetryTimeout=1e3;static get _resizerKeyboardManager(){const t=pt.prototype._resizeWithKeyboard,e=_n.TRANSLATE_SMALL,n=_n.TRANSLATE_BIG;return Nt(this,"_resizerKeyboardManager",new xo([[["ArrowLeft","mac+ArrowLeft"],t,{args:[-e,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t,{args:[-n,0]}],[["ArrowRight","mac+ArrowRight"],t,{args:[e,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t,{args:[n,0]}],[["ArrowUp","mac+ArrowUp"],t,{args:[0,-e]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t,{args:[0,-n]}],[["ArrowDown","mac+ArrowDown"],t,{args:[0,e]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t,{args:[0,n]}],[["Escape","mac+Escape"],pt.prototype._stopResizingWithKeyboard]]))}constructor(t){this.parent=t.parent,this.id=t.id,this.width=this.height=null,this.pageIndex=t.parent.pageIndex,this.name=t.name,this.div=null,this._uiManager=t.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=t.isCentered,this._structTreeParentId=null;const{rotation:e,rawDims:{pageWidth:n,pageHeight:s,pageX:l,pageY:c}}=this.parent.viewport;this.rotation=e,this.pageRotation=(360+e-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[n,s],this.pageTranslation=[l,c];const[d,h]=this.parentDimensions;this.x=t.x/d,this.y=t.y/h,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get isDrawer(){return!1}static get _defaultLineColor(){return Nt(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(t){const e=new P_({id:t.parent.getNextId(),parent:t.parent,uiManager:t._uiManager});e.annotationElementId=t.annotationElementId,e.deleted=!0,e._uiManager.addToAnnotationStorage(e)}static initialize(t,e){if(pt._l10n??=t,pt._l10nResizer||=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"}),pt._borderLineWidth!==-1)return;const n=getComputedStyle(document.documentElement);pt._borderLineWidth=parseFloat(n.getPropertyValue("--outline-width"))||0}static updateDefaultParams(t,e){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(t){return!1}static paste(t,e){qt("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#_}set _isDraggable(t){this.#_=t,this.div?.classList.toggle("draggable",t)}get isEnterHandled(){return!0}center(){const[t,e]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*e/(t*2),this.y+=this.width*t/(e*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*e/(t*2),this.y-=this.width*t/(e*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(t){this._uiManager.addCommands(t)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#C}setParent(t){t!==null?(this.pageIndex=t.pageIndex,this.pageDimensions=t.pageDimensions):this.#U(),this.parent=t}focusin(t){this._focusEventsAllowed&&(this.#f?this.#f=!1:this.parent.setSelected(this))}focusout(t){!this._focusEventsAllowed||!this.isAttachedToDOM||t.relatedTarget?.closest(`#${this.id}`)||(t.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(t,e,n,s){const[l,c]=this.parentDimensions;[n,s]=this.screenToPageTranslation(n,s),this.x=(t+n)/l,this.y=(e+s)/c,this.fixAndSetPosition()}_moveAfterPaste(t,e){const[n,s]=this.parentDimensions;this.setAt(t*n,e*s,this.width*n,this.height*s),this._onTranslated()}#D([t,e],n,s){[n,s]=this.screenToPageTranslation(n,s),this.x+=n/t,this.y+=s/e,this._onTranslating(this.x,this.y),this.fixAndSetPosition()}translate(t,e){this.#D(this.parentDimensions,t,e)}translateInPage(t,e){this.#r||=[this.x,this.y,this.width,this.height],this.#D(this.pageDimensions,t,e),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(t,e){this.#r||=[this.x,this.y,this.width,this.height];const{div:n,parentDimensions:[s,l]}=this;if(this.x+=t/s,this.y+=e/l,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:v,y}=this.div.getBoundingClientRect();this.parent.findNewParent(this,v,y)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:c,y:d}=this;const[h,f]=this.getBaseTranslation();c+=h,d+=f;const{style:m}=n;m.left=`${(100*c).toFixed(2)}%`,m.top=`${(100*d).toFixed(2)}%`,this._onTranslating(c,d),n.scrollIntoView({block:"nearest"})}_onTranslating(t,e){}_onTranslated(t,e){}get _hasBeenMoved(){return!!this.#r&&(this.#r[0]!==this.x||this.#r[1]!==this.y)}get _hasBeenResized(){return!!this.#r&&(this.#r[2]!==this.width||this.#r[3]!==this.height)}getBaseTranslation(){const[t,e]=this.parentDimensions,{_borderLineWidth:n}=pt,s=n/t,l=n/e;switch(this.rotation){case 90:return[-s,l];case 180:return[s,l];case 270:return[s,-l];default:return[-s,-l]}}get _mustFixPosition(){return!0}fixAndSetPosition(t=this.rotation){const{div:{style:e},pageDimensions:[n,s]}=this;let{x:l,y:c,width:d,height:h}=this;if(d*=n,h*=s,l*=n,c*=s,this._mustFixPosition)switch(t){case 0:l=Ie(l,0,n-d),c=Ie(c,0,s-h);break;case 90:l=Ie(l,0,n-h),c=Ie(c,d,s);break;case 180:l=Ie(l,d,n),c=Ie(c,h,s);break;case 270:l=Ie(l,h,n),c=Ie(c,0,s-d);break}this.x=l/=n,this.y=c/=s;const[f,m]=this.getBaseTranslation();l+=f,c+=m,e.left=`${(100*l).toFixed(2)}%`,e.top=`${(100*c).toFixed(2)}%`,this.moveInDOM()}static#w(t,e,n){switch(n){case 90:return[e,-t];case 180:return[-t,-e];case 270:return[-e,t];default:return[t,e]}}screenToPageTranslation(t,e){return pt.#w(t,e,this.parentRotation)}pageTranslationToScreen(t,e){return pt.#w(t,e,360-this.parentRotation)}#R(t){switch(t){case 90:{const[e,n]=this.pageDimensions;return[0,-e/n,n/e,0]}case 180:return[-1,0,0,-1];case 270:{const[e,n]=this.pageDimensions;return[0,e/n,-n/e,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:t,pageDimensions:[e,n]}=this;return[e*t,n*t]}setDims(t,e){const[n,s]=this.parentDimensions,{style:l}=this.div;l.width=`${(100*t/n).toFixed(2)}%`,this.#l||(l.height=`${(100*e/s).toFixed(2)}%`)}fixDims(){const{style:t}=this.div,{height:e,width:n}=t,s=n.endsWith("%"),l=!this.#l&&e.endsWith("%");if(s&&l)return;const[c,d]=this.parentDimensions;s||(t.width=`${(100*parseFloat(n)/c).toFixed(2)}%`),!this.#l&&!l&&(t.height=`${(100*parseFloat(e)/d).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}#T(){if(this.#o)return;this.#o=document.createElement("div"),this.#o.classList.add("resizers");const t=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],e=this._uiManager._signal;for(const n of t){const s=document.createElement("div");this.#o.append(s),s.classList.add("resizer",n),s.setAttribute("data-resizer-name",n),s.addEventListener("pointerdown",this.#N.bind(this,n),{signal:e}),s.addEventListener("contextmenu",_i,{signal:e}),s.tabIndex=-1}this.div.prepend(this.#o)}#N(t,e){e.preventDefault();const{isMac:n}=_e.platform;if(e.button!==0||e.ctrlKey&&n)return;this.#i?.toggle(!1);const s=this._isDraggable;this._isDraggable=!1,this.#d=[e.screenX,e.screenY];const l=new AbortController,c=this._uiManager.combinedSignal(l);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",this.#B.bind(this,t),{passive:!0,capture:!0,signal:c}),window.addEventListener("touchmove",ue,{passive:!1,signal:c}),window.addEventListener("contextmenu",_i,{signal:c}),this.#c={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const d=this.parent.div.style.cursor,h=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(e.target).cursor;const f=()=>{l.abort(),this.parent.togglePointerEvents(!0),this.#i?.toggle(!0),this._isDraggable=s,this.parent.div.style.cursor=d,this.div.style.cursor=h,this.#k()};window.addEventListener("pointerup",f,{signal:c}),window.addEventListener("blur",f,{signal:c})}#O(t,e,n,s){this.width=n,this.height=s,this.x=t,this.y=e;const[l,c]=this.parentDimensions;this.setDims(l*n,c*s),this.fixAndSetPosition(),this._onResized()}_onResized(){}#k(){if(!this.#c)return;const{savedX:t,savedY:e,savedWidth:n,savedHeight:s}=this.#c;this.#c=null;const l=this.x,c=this.y,d=this.width,h=this.height;l===t&&c===e&&d===n&&h===s||this.addCommands({cmd:this.#O.bind(this,l,c,d,h),undo:this.#O.bind(this,t,e,n,s),mustExec:!0})}static _round(t){return Math.round(t*1e4)/1e4}#B(t,e){const[n,s]=this.parentDimensions,l=this.x,c=this.y,d=this.width,h=this.height,f=pt.MIN_SIZE/n,m=pt.MIN_SIZE/s,v=this.#R(this.rotation),y=(P,G)=>[v[0]*P+v[2]*G,v[1]*P+v[3]*G],b=this.#R(360-this.rotation),x=(P,G)=>[b[0]*P+b[2]*G,b[1]*P+b[3]*G];let A,T,E=!1,M=!1;switch(t){case"topLeft":E=!0,A=(P,G)=>[0,0],T=(P,G)=>[P,G];break;case"topMiddle":A=(P,G)=>[P/2,0],T=(P,G)=>[P/2,G];break;case"topRight":E=!0,A=(P,G)=>[P,0],T=(P,G)=>[0,G];break;case"middleRight":M=!0,A=(P,G)=>[P,G/2],T=(P,G)=>[0,G/2];break;case"bottomRight":E=!0,A=(P,G)=>[P,G],T=(P,G)=>[0,0];break;case"bottomMiddle":A=(P,G)=>[P/2,G],T=(P,G)=>[P/2,0];break;case"bottomLeft":E=!0,A=(P,G)=>[0,G],T=(P,G)=>[P,0];break;case"middleLeft":M=!0,A=(P,G)=>[0,G/2],T=(P,G)=>[P,G/2];break}const R=A(d,h),N=T(d,h);let D=y(...N);const L=pt._round(l+D[0]),z=pt._round(c+D[1]);let q=1,$=1,W,J;if(e.fromKeyboard)({deltaX:W,deltaY:J}=e);else{const{screenX:P,screenY:G}=e,[tt,ut]=this.#d;[W,J]=this.screenToPageTranslation(P-tt,G-ut),this.#d[0]=P,this.#d[1]=G}if([W,J]=x(W/n,J/s),E){const P=Math.hypot(d,h);q=$=Math.max(Math.min(Math.hypot(N[0]-R[0]-W,N[1]-R[1]-J)/P,1/d,1/h),f/d,m/h)}else M?q=Ie(Math.abs(N[0]-R[0]-W),f,1)/d:$=Ie(Math.abs(N[1]-R[1]-J),m,1)/h;const nt=pt._round(d*q),dt=pt._round(h*$);D=y(...T(nt,dt));const at=L-D[0],ht=z-D[1];this.#r||=[this.x,this.y,this.width,this.height],this.width=nt,this.height=dt,this.x=at,this.y=ht,this.setDims(n*nt,s*dt),this.fixAndSetPosition(),this._onResizing()}_onResizing(){}altTextFinish(){this.#i?.finish()}async addEditToolbar(){return this._editToolbar||this.#g?this._editToolbar:(this._editToolbar=new to(this),this.div.append(this._editToolbar.render()),this.#i&&await this._editToolbar.addAltText(this.#i),this._editToolbar)}removeEditToolbar(){this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,this.#i?.destroy())}addContainer(t){const e=this._editToolbar?.div;e?e.before(t):this.div.append(t)}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){this.#i||($i.initialize(pt._l10n),this.#i=new $i(this),this.#t&&(this.#i.data=this.#t,this.#t=null),await this.addEditToolbar())}get altTextData(){return this.#i?.data}set altTextData(t){this.#i&&(this.#i.data=t)}get guessedAltText(){return this.#i?.guessedText}async setGuessedAltText(t){await this.#i?.setGuessedText(t)}serializeAltText(t){return this.#i?.serialize(t)}hasAltText(){return!!this.#i&&!this.#i.isEmpty()}hasAltTextData(){return this.#i?.hasData()??!1}render(){const t=this.div=document.createElement("div");t.setAttribute("data-editor-rotation",(360-this.rotation)%360),t.className=this.name,t.setAttribute("id",this.id),t.tabIndex=this.#n?-1:0,t.setAttribute("role","application"),this.defaultL10nId&&t.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||t.classList.add("hidden"),this.setInForeground(),this.#q();const[e,n]=this.parentDimensions;this.parentRotation%180!==0&&(t.style.maxWidth=`${(100*n/e).toFixed(2)}%`,t.style.maxHeight=`${(100*e/n).toFixed(2)}%`);const[s,l]=this.getInitialTranslation();return this.translate(s,l),u0(this,t,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(this.#S||=new Ao({container:t,isPinchingDisabled:()=>!this.isSelected,onPinchStart:this.#E.bind(this),onPinching:this.#x.bind(this),onPinchEnd:this.#z.bind(this),signal:this._uiManager._signal})),this._uiManager._editorUndoBar?.hide(),t}#E(){this.#c={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height},this.#i?.toggle(!1),this.parent.togglePointerEvents(!1)}#x(t,e,n){let l=.7*(n/e)+1-.7;if(l===1)return;const c=this.#R(this.rotation),d=(L,z)=>[c[0]*L+c[2]*z,c[1]*L+c[3]*z],[h,f]=this.parentDimensions,m=this.x,v=this.y,y=this.width,b=this.height,x=pt.MIN_SIZE/h,A=pt.MIN_SIZE/f;l=Math.max(Math.min(l,1/y,1/b),x/y,A/b);const T=pt._round(y*l),E=pt._round(b*l);if(T===y&&E===b)return;this.#r||=[m,v,y,b];const M=d(y/2,b/2),R=pt._round(m+M[0]),N=pt._round(v+M[1]),D=d(T/2,E/2);this.x=R-D[0],this.y=N-D[1],this.width=T,this.height=E,this.setDims(h*T,f*E),this.fixAndSetPosition(),this._onResizing()}#z(){this.#i?.toggle(!0),this.parent.togglePointerEvents(!0),this.#k()}pointerdown(t){const{isMac:e}=_e.platform;if(t.button!==0||t.ctrlKey&&e){t.preventDefault();return}if(this.#f=!0,this._isDraggable){this.#G(t);return}this.#I(t)}#I(t){const{isMac:e}=_e.platform;t.ctrlKey&&!e||t.shiftKey||t.metaKey&&e?this.parent.toggleSelected(this):this.parent.setSelected(this)}#G(t){const{isSelected:e}=this;this._uiManager.setUpDragSession();let n=!1;const s=new AbortController,l=this._uiManager.combinedSignal(s),c={capture:!0,passive:!1,signal:l},d=f=>{s.abort(),this.#s=null,this.#f=!1,this._uiManager.endDragSession()||this.#I(f),n&&this._onStopDragging()};e&&(this.#y=t.clientX,this.#b=t.clientY,this.#s=t.pointerId,this.#a=t.pointerType,window.addEventListener("pointermove",f=>{n||(n=!0,this._onStartDragging());const{clientX:m,clientY:v,pointerId:y}=f;if(y!==this.#s){ue(f);return}const[b,x]=this.screenToPageTranslation(m-this.#y,v-this.#b);this.#y=m,this.#b=v,this._uiManager.dragSelectedEditors(b,x)},c),window.addEventListener("touchmove",ue,c),window.addEventListener("pointerdown",f=>{f.pointerType===this.#a&&(this.#S||f.isPrimary)&&d(f),ue(f)},c));const h=f=>{if(!this.#s||this.#s===f.pointerId){d(f);return}ue(f)};window.addEventListener("pointerup",h,{signal:l}),window.addEventListener("blur",h,{signal:l})}_onStartDragging(){}_onStopDragging(){}moveInDOM(){this.#v&&clearTimeout(this.#v),this.#v=setTimeout(()=>{this.#v=null,this.parent?.moveEditorInDOM(this)},0)}_setParentAndPosition(t,e,n){t.changeParent(this),this.x=e,this.y=n,this.fixAndSetPosition(),this._onTranslated()}getRect(t,e,n=this.rotation){const s=this.parentScale,[l,c]=this.pageDimensions,[d,h]=this.pageTranslation,f=t/s,m=e/s,v=this.x*l,y=this.y*c,b=this.width*l,x=this.height*c;switch(n){case 0:return[v+f+d,c-y-m-x+h,v+f+b+d,c-y-m+h];case 90:return[v+m+d,c-y+f+h,v+m+x+d,c-y+f+b+h];case 180:return[v-f-b+d,c-y+m+h,v-f+d,c-y+m+x+h];case 270:return[v-m-x+d,c-y-f-b+h,v-m+d,c-y-f+h];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(t,e){const[n,s,l,c]=t,d=l-n,h=c-s;switch(this.rotation){case 0:return[n,e-c,d,h];case 90:return[n,e-s,h,d];case 180:return[l,e-s,d,h];case 270:return[l,e-c,h,d];default:throw new Error("Invalid rotation")}}onceAdded(t){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),this.#g=!0,!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),this.#g=!1,!0):!1}isInEditMode(){return this.#g}shouldGetKeyboardEvents(){return this.#m}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:t,left:e,bottom:n,right:s}=this.getClientDimensions(),{innerHeight:l,innerWidth:c}=window;return e<c&&s>0&&t<l&&n>0}#q(){if(this.#h||!this.div)return;this.#h=new AbortController;const t=this._uiManager.combinedSignal(this.#h);this.div.addEventListener("focusin",this.focusin.bind(this),{signal:t}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:t})}rebuild(){this.#q()}rotate(t){}resize(){}serializeDeleted(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:this._initialData?.popupRef||""}}serialize(t=!1,e=null){qt("An editor must be serializable")}static async deserialize(t,e,n){const s=new this.prototype.constructor({parent:e,id:e.getNextId(),uiManager:n});s.rotation=t.rotation,s.#t=t.accessibilityData,s._isCopy=t.isCopy||!1;const[l,c]=s.pageDimensions,[d,h,f,m]=s.getRectInCurrentCoords(t.rect,c);return s.x=d/l,s.y=h/c,s.width=f/l,s.height=m/c,s}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.#h?.abort(),this.#h=null,this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.#v&&(clearTimeout(this.#v),this.#v=null),this.#U(),this.removeEditToolbar(),this.#A){for(const t of this.#A.values())clearTimeout(t);this.#A=null}this.parent=null,this.#S?.destroy(),this.#S=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#T(),this.#o.classList.remove("hidden"))}get toolbarPosition(){return null}keydown(t){if(!this.isResizable||t.target!==this.div||t.key!=="Enter")return;this._uiManager.setSelected(this),this.#c={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const e=this.#o.children;if(!this.#e){this.#e=Array.from(e);const c=this.#$.bind(this),d=this.#H.bind(this),h=this._uiManager._signal;for(const f of this.#e){const m=f.getAttribute("data-resizer-name");f.setAttribute("role","spinbutton"),f.addEventListener("keydown",c,{signal:h}),f.addEventListener("blur",d,{signal:h}),f.addEventListener("focus",this.#L.bind(this,m),{signal:h}),f.setAttribute("data-l10n-id",pt._l10nResizer[m])}}const n=this.#e[0];let s=0;for(const c of e){if(c===n)break;s++}const l=(360-this.rotation+this.parentRotation)%360/90*(this.#e.length/4);if(l!==s){if(l<s)for(let d=0;d<s-l;d++)this.#o.append(this.#o.firstChild);else if(l>s)for(let d=0;d<l-s;d++)this.#o.firstChild.before(this.#o.lastChild);let c=0;for(const d of e){const f=this.#e[c++].getAttribute("data-resizer-name");d.setAttribute("data-l10n-id",pt._l10nResizer[f])}}this.#j(0),this.#m=!0,this.#o.firstChild.focus({focusVisible:!0}),t.preventDefault(),t.stopImmediatePropagation()}#$(t){pt._resizerKeyboardManager.exec(this,t)}#H(t){this.#m&&t.relatedTarget?.parentNode!==this.#o&&this.#U()}#L(t){this.#u=this.#m?t:""}#j(t){if(this.#e)for(const e of this.#e)e.tabIndex=t}_resizeWithKeyboard(t,e){this.#m&&this.#B(this.#u,{deltaX:t,deltaY:e,fromKeyboard:!0})}#U(){this.#m=!1,this.#j(-1),this.#k()}_stopResizingWithKeyboard(){this.#U(),this.div.focus()}select(){if(!(this.isSelected&&this._editToolbar)){if(this.isSelected=!0,this.makeResizable(),this.div?.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{this.div?.classList.contains("selectedEditor")&&this._editToolbar?.show()});return}this._editToolbar?.show(),this.#i?.toggleAltTextBadge(!1)}}unselect(){this.isSelected&&(this.isSelected=!1,this.#o?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),this._editToolbar?.hide(),this.#i?.toggleAltTextBadge(!0))}updateParams(t,e){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(t){this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.id})}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return this.#p}set isEditing(t){this.#p=t,this.parent&&(t?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(t,e){this.#l=!0;const n=t/e,{style:s}=this.div;s.aspectRatio=n,s.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(t,e=!1){if(e){this.#A||=new Map;const{action:n}=t;let s=this.#A.get(n);s&&clearTimeout(s),s=setTimeout(()=>{this._reportTelemetry(t),this.#A.delete(n),this.#A.size===0&&(this.#A=null)},pt._telemetryTimeout),this.#A.set(n,s);return}t.type||=this.editorType,this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:t}})}show(t=this._isVisible){this.div.classList.toggle("hidden",!t),this._isVisible=t}enable(){this.div&&(this.div.tabIndex=0),this.#n=!1}disable(){this.div&&(this.div.tabIndex=-1),this.#n=!0}renderAnnotationElement(t){let e=t.container.querySelector(".annotationContent");if(!e)e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),t.container.prepend(e);else if(e.nodeName==="CANVAS"){const n=e;e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),n.before(e)}return e}resetAnnotationElement(t){const{firstChild:e}=t.container;e?.nodeName==="DIV"&&e.classList.contains("annotationContent")&&e.remove()}}class P_ extends pt{constructor(t){super(t),this.annotationElementId=t.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const uy=3285377520,Ei=4294901760,Gi=65535;class d0{constructor(t){this.h1=t?t&4294967295:uy,this.h2=t?t&4294967295:uy}update(t){let e,n;if(typeof t=="string"){e=new Uint8Array(t.length*2),n=0;for(let A=0,T=t.length;A<T;A++){const E=t.charCodeAt(A);E<=255?e[n++]=E:(e[n++]=E>>>8,e[n++]=E&255)}}else if(ArrayBuffer.isView(t))e=t.slice(),n=e.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const s=n>>2,l=n-s*4,c=new Uint32Array(e.buffer,0,s);let d=0,h=0,f=this.h1,m=this.h2;const v=3432918353,y=461845907,b=v&Gi,x=y&Gi;for(let A=0;A<s;A++)A&1?(d=c[A],d=d*v&Ei|d*b&Gi,d=d<<15|d>>>17,d=d*y&Ei|d*x&Gi,f^=d,f=f<<13|f>>>19,f=f*5+3864292196):(h=c[A],h=h*v&Ei|h*b&Gi,h=h<<15|h>>>17,h=h*y&Ei|h*x&Gi,m^=h,m=m<<13|m>>>19,m=m*5+3864292196);switch(d=0,l){case 3:d^=e[s*4+2]<<16;case 2:d^=e[s*4+1]<<8;case 1:d^=e[s*4],d=d*v&Ei|d*b&Gi,d=d<<15|d>>>17,d=d*y&Ei|d*x&Gi,s&1?f^=d:m^=d}this.h1=f,this.h2=m}hexdigest(){let t=this.h1,e=this.h2;return t^=e>>>1,t=t*3981806797&Ei|t*36045&Gi,e=e*4283543511&Ei|((e<<16|t>>>16)*2950163797&Ei)>>>16,t^=e>>>1,t=t*444984403&Ei|t*60499&Gi,e=e*3301882366&Ei|((e<<16|t>>>16)*3120437893&Ei)>>>16,t^=e>>>1,(t>>>0).toString(16).padStart(8,"0")+(e>>>0).toString(16).padStart(8,"0")}}const Mh=Object.freeze({map:null,hash:"",transfer:void 0});class mf{#t=!1;#e=null;#i=new Map;constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(t,e){const n=this.#i.get(t);return n===void 0?e:Object.assign(e,n)}getRawValue(t){return this.#i.get(t)}remove(t){if(this.#i.delete(t),this.#i.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const e of this.#i.values())if(e instanceof pt)return;this.onAnnotationEditor(null)}}setValue(t,e){const n=this.#i.get(t);let s=!1;if(n!==void 0)for(const[l,c]of Object.entries(e))n[l]!==c&&(s=!0,n[l]=c);else s=!0,this.#i.set(t,e);s&&this.#n(),e instanceof pt&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(e.constructor._type)}has(t){return this.#i.has(t)}get size(){return this.#i.size}#n(){this.#t||(this.#t=!0,typeof this.onSetModified=="function"&&this.onSetModified())}resetModified(){this.#t&&(this.#t=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new h0(this)}get serializable(){if(this.#i.size===0)return Mh;const t=new Map,e=new d0,n=[],s=Object.create(null);let l=!1;for(const[c,d]of this.#i){const h=d instanceof pt?d.serialize(!1,s):d;h&&(t.set(c,h),e.update(`${c}:${JSON.stringify(h)}`),l||=!!h.bitmap)}if(l)for(const c of t.values())c.bitmap&&n.push(c.bitmap);return t.size>0?{map:t,hash:e.hexdigest(),transfer:n}:Mh}get editorStats(){let t=null;const e=new Map;for(const n of this.#i.values()){if(!(n instanceof pt))continue;const s=n.telemetryFinalData;if(!s)continue;const{type:l}=s;e.has(l)||e.set(l,Object.getPrototypeOf(n).constructor),t||=Object.create(null);const c=t[l]||=new Map;for(const[d,h]of Object.entries(s)){if(d==="type")continue;let f=c.get(d);f||(f=new Map,c.set(d,f));const m=f.get(h)??0;f.set(h,m+1)}}for(const[n,s]of e)t[n]=s.computeTelemetryFinalData(t[n]);return t}resetModifiedIds(){this.#e=null}get modifiedIds(){if(this.#e)return this.#e;const t=[];for(const e of this.#i.values())!(e instanceof pt)||!e.annotationElementId||!e.serialize()||t.push(e.annotationElementId);return this.#e={ids:new Set(t),hash:t.join(",")}}[Symbol.iterator](){return this.#i.entries()}}class h0 extends mf{#t;constructor(t){super();const{map:e,hash:n,transfer:s}=t.serializable,l=structuredClone(e,s?{transfer:s}:null);this.#t={map:l,hash:n,transfer:s}}get print(){qt("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#t}get modifiedIds(){return Nt(this,"modifiedIds",{ids:new Set,hash:""})}}class z_{#t=new Set;constructor({ownerDocument:t=globalThis.document,styleElement:e=null}){this._document=t,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(t){this.nativeFontFaces.add(t),this._document.fonts.add(t)}removeNativeFontFace(t){this.nativeFontFaces.delete(t),this._document.fonts.delete(t)}insertRule(t){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const e=this.styleElement.sheet;e.insertRule(t,e.cssRules.length)}clear(){for(const t of this.nativeFontFaces)this._document.fonts.delete(t);this.nativeFontFaces.clear(),this.#t.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:t,disableFontFace:e,_inspectFont:n}){if(!(!t||this.#t.has(t.loadedName))){if(me(!e,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:s,src:l,style:c}=t,d=new FontFace(s,l,c);this.addNativeFontFace(d);try{await d.load(),this.#t.add(s),n?.(t)}catch{St(`Cannot load system font: ${t.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(d)}return}qt("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(t){if(t.attached||t.missingFile&&!t.systemFontInfo)return;if(t.attached=!0,t.systemFontInfo){await this.loadSystemFont(t);return}if(this.isFontLoadingAPISupported){const n=t.createNativeFontFace();if(n){this.addNativeFontFace(n);try{await n.loaded}catch(s){throw St(`Failed to load font '${n.family}': '${s}'.`),t.disableFontFace=!0,s}}return}const e=t.createFontFaceRule();if(e){if(this.insertRule(e),this.isSyncFontLoadingSupported)return;await new Promise(n=>{const s=this._queueLoadingCallback(n);this._prepareFontLoadEvent(t,s)})}}get isFontLoadingAPISupported(){const t=!!this._document?.fonts;return Nt(this,"isFontLoadingAPISupported",t)}get isSyncFontLoadingSupported(){return Nt(this,"isSyncFontLoadingSupported",Ue||_e.platform.isFirefox)}_queueLoadingCallback(t){function e(){for(me(!s.done,"completeRequest() cannot be called twice."),s.done=!0;n.length>0&&n[0].done;){const l=n.shift();setTimeout(l.callback,0)}}const{loadingRequests:n}=this,s={done:!1,complete:e,callback:t};return n.push(s),s}get _loadTestFont(){const t=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Nt(this,"_loadTestFont",t)}_prepareFontLoadEvent(t,e){function n(N,D){return N.charCodeAt(D)<<24|N.charCodeAt(D+1)<<16|N.charCodeAt(D+2)<<8|N.charCodeAt(D+3)&255}function s(N,D,L,z){const q=N.substring(0,D),$=N.substring(D+L);return q+z+$}let l,c;const d=this._document.createElement("canvas");d.width=1,d.height=1;const h=d.getContext("2d");let f=0;function m(N,D){if(++f>30){St("Load test font never loaded."),D();return}if(h.font="30px "+N,h.fillText(".",0,20),h.getImageData(0,0,1,1).data[3]>0){D();return}setTimeout(m.bind(null,N,D))}const v=`lt${Date.now()}${this.loadTestFontId++}`;let y=this._loadTestFont;y=s(y,976,v.length,v);const x=16,A=1482184792;let T=n(y,x);for(l=0,c=v.length-3;l<c;l+=4)T=T-A+n(v,l)|0;l<v.length&&(T=T-A+n(v+"XXX",l)|0),y=s(y,x,4,__(T));const E=`url(data:font/opentype;base64,${btoa(y)});`,M=`@font-face {font-family:"${v}";src:${E}}`;this.insertRule(M);const R=this._document.createElement("div");R.style.visibility="hidden",R.style.width=R.style.height="10px",R.style.position="absolute",R.style.top=R.style.left="0px";for(const N of[t.loadedName,v]){const D=this._document.createElement("span");D.textContent="Hi",D.style.fontFamily=N,R.append(D)}this._document.body.append(R),m(v,()=>{R.remove(),e.complete()})}}class I_{constructor(t,e=null){this.compiledGlyphs=Object.create(null);for(const n in t)this[n]=t[n];this._inspectFont=e}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let t;if(!this.cssFontInfo)t=new FontFace(this.loadedName,this.data,{});else{const e={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(e.style=`oblique ${this.cssFontInfo.italicAngle}deg`),t=new FontFace(this.cssFontInfo.fontFamily,this.data,e)}return this._inspectFont?.(this),t}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const t=`url(data:${this.mimetype};base64,${r0(this.data)});`;let e;if(!this.cssFontInfo)e=`@font-face {font-family:"${this.loadedName}";src:${t}}`;else{let n=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(n+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),e=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${n}src:${t}}`}return this._inspectFont?.(this,t),e}getPathGenerator(t,e){if(this.compiledGlyphs[e]!==void 0)return this.compiledGlyphs[e];const n=this.loadedName+"_path_"+e;let s;try{s=t.get(n)}catch(c){St(`getPathGenerator - ignoring character: "${c}".`)}const l=new Path2D(s||"");return this.fontExtraProperties||t.delete(n),this.compiledGlyphs[e]=l}}function F_(o){if(o instanceof URL)return o.href;if(typeof o=="string"){if(Ue)return o;const t=URL.parse(o,window.location);if(t)return t.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function B_(o){if(Ue&&typeof Buffer<"u"&&o instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(o instanceof Uint8Array&&o.byteLength===o.buffer.byteLength)return o;if(typeof o=="string")return vo(o);if(o instanceof ArrayBuffer||ArrayBuffer.isView(o)||typeof o=="object"&&!isNaN(o?.length))return new Uint8Array(o);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function Gl(o){if(typeof o!="string")return null;if(o.endsWith("/"))return o;throw new Error(`Invalid factory url: "${o}" must include trailing slash.`)}const Nh=o=>typeof o=="object"&&Number.isInteger(o?.num)&&o.num>=0&&Number.isInteger(o?.gen)&&o.gen>=0,H_=o=>typeof o=="object"&&typeof o?.name=="string",f0=D_.bind(null,Nh,H_);class U_{#t=new Map;#e=Promise.resolve();postMessage(t,e){const n={data:structuredClone(t,e?{transfer:e}:null)};this.#e.then(()=>{for(const[s]of this.#t)s.call(this,n)})}addEventListener(t,e,n=null){let s=null;if(n?.signal instanceof AbortSignal){const{signal:l}=n;if(l.aborted){St("LoopbackPort - cannot use an `aborted` signal.");return}const c=()=>this.removeEventListener(t,e);s=()=>l.removeEventListener("abort",c),l.addEventListener("abort",c)}this.#t.set(e,s)}removeEventListener(t,e){this.#t.get(e)?.(),this.#t.delete(e)}terminate(){for(const[,t]of this.#t)t?.();this.#t.clear()}}const ql={DATA:1,ERROR:2},pe={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function dy(){}function ti(o){if(o instanceof En||o instanceof cc||o instanceof oy||o instanceof oo||o instanceof uh)return o;switch(o instanceof Error||typeof o=="object"&&o!==null||qt('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),o.name){case"AbortException":return new En(o.message);case"InvalidPDFException":return new cc(o.message);case"PasswordException":return new oy(o.message,o.code);case"ResponseException":return new oo(o.message,o.status,o.missing);case"UnknownErrorException":return new uh(o.message,o.details)}return new uh(o.message,o.toString())}class Qr{#t=new AbortController;constructor(t,e,n){this.sourceName=t,this.targetName=e,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),n.addEventListener("message",this.#e.bind(this),{signal:this.#t.signal})}#e({data:t}){if(t.targetName!==this.sourceName)return;if(t.stream){this.#n(t);return}if(t.callback){const n=t.callbackId,s=this.callbackCapabilities[n];if(!s)throw new Error(`Cannot resolve callback ${n}`);if(delete this.callbackCapabilities[n],t.callback===ql.DATA)s.resolve(t.data);else if(t.callback===ql.ERROR)s.reject(ti(t.reason));else throw new Error("Unexpected callback case");return}const e=this.actionHandler[t.action];if(!e)throw new Error(`Unknown action from worker: ${t.action}`);if(t.callbackId){const n=this.sourceName,s=t.sourceName,l=this.comObj;Promise.try(e,t.data).then(function(c){l.postMessage({sourceName:n,targetName:s,callback:ql.DATA,callbackId:t.callbackId,data:c})},function(c){l.postMessage({sourceName:n,targetName:s,callback:ql.ERROR,callbackId:t.callbackId,reason:ti(c)})});return}if(t.streamId){this.#i(t);return}e(t.data)}on(t,e){const n=this.actionHandler;if(n[t])throw new Error(`There is already an actionName called "${t}"`);n[t]=e}send(t,e,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:e},n)}sendWithPromise(t,e,n){const s=this.callbackId++,l=Promise.withResolvers();this.callbackCapabilities[s]=l;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:s,data:e},n)}catch(c){l.reject(c)}return l.promise}sendWithStream(t,e,n,s){const l=this.streamId++,c=this.sourceName,d=this.targetName,h=this.comObj;return new ReadableStream({start:f=>{const m=Promise.withResolvers();return this.streamControllers[l]={controller:f,startCall:m,pullCall:null,cancelCall:null,isClosed:!1},h.postMessage({sourceName:c,targetName:d,action:t,streamId:l,data:e,desiredSize:f.desiredSize},s),m.promise},pull:f=>{const m=Promise.withResolvers();return this.streamControllers[l].pullCall=m,h.postMessage({sourceName:c,targetName:d,stream:pe.PULL,streamId:l,desiredSize:f.desiredSize}),m.promise},cancel:f=>{me(f instanceof Error,"cancel must have a valid reason");const m=Promise.withResolvers();return this.streamControllers[l].cancelCall=m,this.streamControllers[l].isClosed=!0,h.postMessage({sourceName:c,targetName:d,stream:pe.CANCEL,streamId:l,reason:ti(f)}),m.promise}},n)}#i(t){const e=t.streamId,n=this.sourceName,s=t.sourceName,l=this.comObj,c=this,d=this.actionHandler[t.action],h={enqueue(f,m=1,v){if(this.isCancelled)return;const y=this.desiredSize;this.desiredSize-=m,y>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),l.postMessage({sourceName:n,targetName:s,stream:pe.ENQUEUE,streamId:e,chunk:f},v)},close(){this.isCancelled||(this.isCancelled=!0,l.postMessage({sourceName:n,targetName:s,stream:pe.CLOSE,streamId:e}),delete c.streamSinks[e])},error(f){me(f instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,l.postMessage({sourceName:n,targetName:s,stream:pe.ERROR,streamId:e,reason:ti(f)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};h.sinkCapability.resolve(),h.ready=h.sinkCapability.promise,this.streamSinks[e]=h,Promise.try(d,t.data,h).then(function(){l.postMessage({sourceName:n,targetName:s,stream:pe.START_COMPLETE,streamId:e,success:!0})},function(f){l.postMessage({sourceName:n,targetName:s,stream:pe.START_COMPLETE,streamId:e,reason:ti(f)})})}#n(t){const e=t.streamId,n=this.sourceName,s=t.sourceName,l=this.comObj,c=this.streamControllers[e],d=this.streamSinks[e];switch(t.stream){case pe.START_COMPLETE:t.success?c.startCall.resolve():c.startCall.reject(ti(t.reason));break;case pe.PULL_COMPLETE:t.success?c.pullCall.resolve():c.pullCall.reject(ti(t.reason));break;case pe.PULL:if(!d){l.postMessage({sourceName:n,targetName:s,stream:pe.PULL_COMPLETE,streamId:e,success:!0});break}d.desiredSize<=0&&t.desiredSize>0&&d.sinkCapability.resolve(),d.desiredSize=t.desiredSize,Promise.try(d.onPull||dy).then(function(){l.postMessage({sourceName:n,targetName:s,stream:pe.PULL_COMPLETE,streamId:e,success:!0})},function(f){l.postMessage({sourceName:n,targetName:s,stream:pe.PULL_COMPLETE,streamId:e,reason:ti(f)})});break;case pe.ENQUEUE:if(me(c,"enqueue should have stream controller"),c.isClosed)break;c.controller.enqueue(t.chunk);break;case pe.CLOSE:if(me(c,"close should have stream controller"),c.isClosed)break;c.isClosed=!0,c.controller.close(),this.#s(c,e);break;case pe.ERROR:me(c,"error should have stream controller"),c.controller.error(ti(t.reason)),this.#s(c,e);break;case pe.CANCEL_COMPLETE:t.success?c.cancelCall.resolve():c.cancelCall.reject(ti(t.reason)),this.#s(c,e);break;case pe.CANCEL:if(!d)break;const h=ti(t.reason);Promise.try(d.onCancel||dy,h).then(function(){l.postMessage({sourceName:n,targetName:s,stream:pe.CANCEL_COMPLETE,streamId:e,success:!0})},function(f){l.postMessage({sourceName:n,targetName:s,stream:pe.CANCEL_COMPLETE,streamId:e,reason:ti(f)})}),d.sinkCapability.reject(h),d.isCancelled=!0,delete this.streamSinks[e];break;default:throw new Error("Unexpected stream case")}}async#s(t,e){await Promise.allSettled([t.startCall?.promise,t.pullCall?.promise,t.cancelCall?.promise]),delete this.streamControllers[e]}destroy(){this.#t?.abort(),this.#t=null}}class p0{#t=!1;constructor({enableHWA:t=!1}){this.#t=t}create(t,e){if(t<=0||e<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(t,e);return{canvas:n,context:n.getContext("2d",{willReadFrequently:!this.#t})}}reset(t,e,n){if(!t.canvas)throw new Error("Canvas is not specified");if(e<=0||n<=0)throw new Error("Invalid canvas size");t.canvas.width=e,t.canvas.height=n}destroy(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}_createCanvas(t,e){qt("Abstract method `_createCanvas` called.")}}class G_ extends p0{constructor({ownerDocument:t=globalThis.document,enableHWA:e=!1}){super({enableHWA:e}),this._document=t}_createCanvas(t,e){const n=this._document.createElement("canvas");return n.width=t,n.height=e,n}}class m0{constructor({baseUrl:t=null,isCompressed:e=!0}){this.baseUrl=t,this.isCompressed=e}async fetch({name:t}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!t)throw new Error("CMap name must be specified.");const e=this.baseUrl+t+(this.isCompressed?".bcmap":"");return this._fetch(e).then(n=>({cMapData:n,isCompressed:this.isCompressed})).catch(n=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${e}`)})}async _fetch(t){qt("Abstract method `_fetch` called.")}}class hy extends m0{async _fetch(t){const e=await Bs(t,this.isCompressed?"arraybuffer":"text");return e instanceof ArrayBuffer?new Uint8Array(e):vo(e)}}class g0{addFilter(t){return"none"}addHCMFilter(t,e){return"none"}addAlphaFilter(t){return"none"}addLuminosityFilter(t){return"none"}addHighlightHCMFilter(t,e,n,s,l){return"none"}destroy(t=!1){}}class q_ extends g0{#t;#e;#i;#n;#s;#a;#l=0;constructor({docId:t,ownerDocument:e=globalThis.document}){super(),this.#n=t,this.#s=e}get#o(){return this.#e||=new Map}get#d(){return this.#a||=new Map}get#c(){if(!this.#i){const t=this.#s.createElement("div"),{style:e}=t;e.visibility="hidden",e.contain="strict",e.width=e.height=0,e.position="absolute",e.top=e.left=0,e.zIndex=-1;const n=this.#s.createElementNS(mn,"svg");n.setAttribute("width",0),n.setAttribute("height",0),this.#i=this.#s.createElementNS(mn,"defs"),t.append(n),n.append(this.#i),this.#s.body.append(t)}return this.#i}#h(t){if(t.length===1){const h=t[0],f=new Array(256);for(let v=0;v<256;v++)f[v]=h[v]/255;const m=f.join(",");return[m,m,m]}const[e,n,s]=t,l=new Array(256),c=new Array(256),d=new Array(256);for(let h=0;h<256;h++)l[h]=e[h]/255,c[h]=n[h]/255,d[h]=s[h]/255;return[l.join(","),c.join(","),d.join(",")]}#u(t){if(this.#t===void 0){this.#t="";const e=this.#s.URL;e!==this.#s.baseURI&&(bo(e)?St('#createUrl: ignore "data:"-URL for performance reasons.'):this.#t=lf(e,""))}return`url(${this.#t}#${t})`}addFilter(t){if(!t)return"none";let e=this.#o.get(t);if(e)return e;const[n,s,l]=this.#h(t),c=t.length===1?n:`${n}${s}${l}`;if(e=this.#o.get(c),e)return this.#o.set(t,e),e;const d=`g_${this.#n}_transfer_map_${this.#l++}`,h=this.#u(d);this.#o.set(t,h),this.#o.set(c,h);const f=this.#p(d);return this.#m(n,s,l,f),h}addHCMFilter(t,e){const n=`${t}-${e}`,s="base";let l=this.#d.get(s);if(l?.key===n||(l?(l.filter?.remove(),l.key=n,l.url="none",l.filter=null):(l={key:n,url:"none",filter:null},this.#d.set(s,l)),!t||!e))return l.url;const c=this.#y(t);t=ct.makeHexColor(...c);const d=this.#y(e);if(e=ct.makeHexColor(...d),this.#c.style.color="",t==="#000000"&&e==="#ffffff"||t===e)return l.url;const h=new Array(256);for(let b=0;b<=255;b++){const x=b/255;h[b]=x<=.03928?x/12.92:((x+.055)/1.055)**2.4}const f=h.join(","),m=`g_${this.#n}_hcm_filter`,v=l.filter=this.#p(m);this.#m(f,f,f,v),this.#r(v);const y=(b,x)=>{const A=c[b]/255,T=d[b]/255,E=new Array(x+1);for(let M=0;M<=x;M++)E[M]=A+M/x*(T-A);return E.join(",")};return this.#m(y(0,5),y(1,5),y(2,5),v),l.url=this.#u(m),l.url}addAlphaFilter(t){let e=this.#o.get(t);if(e)return e;const[n]=this.#h([t]),s=`alpha_${n}`;if(e=this.#o.get(s),e)return this.#o.set(t,e),e;const l=`g_${this.#n}_alpha_map_${this.#l++}`,c=this.#u(l);this.#o.set(t,c),this.#o.set(s,c);const d=this.#p(l);return this.#v(n,d),c}addLuminosityFilter(t){let e=this.#o.get(t||"luminosity");if(e)return e;let n,s;if(t?([n]=this.#h([t]),s=`luminosity_${n}`):s="luminosity",e=this.#o.get(s),e)return this.#o.set(t,e),e;const l=`g_${this.#n}_luminosity_map_${this.#l++}`,c=this.#u(l);this.#o.set(t,c),this.#o.set(s,c);const d=this.#p(l);return this.#f(d),t&&this.#v(n,d),c}addHighlightHCMFilter(t,e,n,s,l){const c=`${e}-${n}-${s}-${l}`;let d=this.#d.get(t);if(d?.key===c||(d?(d.filter?.remove(),d.key=c,d.url="none",d.filter=null):(d={key:c,url:"none",filter:null},this.#d.set(t,d)),!e||!n))return d.url;const[h,f]=[e,n].map(this.#y.bind(this));let m=Math.round(.2126*h[0]+.7152*h[1]+.0722*h[2]),v=Math.round(.2126*f[0]+.7152*f[1]+.0722*f[2]),[y,b]=[s,l].map(this.#y.bind(this));v<m&&([m,v,y,b]=[v,m,b,y]),this.#c.style.color="";const x=(E,M,R)=>{const N=new Array(256),D=(v-m)/R,L=E/255,z=(M-E)/(255*R);let q=0;for(let $=0;$<=R;$++){const W=Math.round(m+$*D),J=L+$*z;for(let nt=q;nt<=W;nt++)N[nt]=J;q=W+1}for(let $=q;$<256;$++)N[$]=N[q-1];return N.join(",")},A=`g_${this.#n}_hcm_${t}_filter`,T=d.filter=this.#p(A);return this.#r(T),this.#m(x(y[0],b[0],5),x(y[1],b[1],5),x(y[2],b[2],5),T),d.url=this.#u(A),d.url}destroy(t=!1){t&&this.#a?.size||(this.#i?.parentNode.parentNode.remove(),this.#i=null,this.#e?.clear(),this.#e=null,this.#a?.clear(),this.#a=null,this.#l=0)}#f(t){const e=this.#s.createElementNS(mn,"feColorMatrix");e.setAttribute("type","matrix"),e.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(e)}#r(t){const e=this.#s.createElementNS(mn,"feColorMatrix");e.setAttribute("type","matrix"),e.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(e)}#p(t){const e=this.#s.createElementNS(mn,"filter");return e.setAttribute("color-interpolation-filters","sRGB"),e.setAttribute("id",t),this.#c.append(e),e}#g(t,e,n){const s=this.#s.createElementNS(mn,e);s.setAttribute("type","discrete"),s.setAttribute("tableValues",n),t.append(s)}#m(t,e,n,s){const l=this.#s.createElementNS(mn,"feComponentTransfer");s.append(l),this.#g(l,"feFuncR",t),this.#g(l,"feFuncG",e),this.#g(l,"feFuncB",n)}#v(t,e){const n=this.#s.createElementNS(mn,"feComponentTransfer");e.append(n),this.#g(n,"feFuncA",t)}#y(t){return this.#c.style.color=t,hf(getComputedStyle(this.#c).getPropertyValue("color"))}}class v0{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!t)throw new Error("Font filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(n=>{throw new Error(`Unable to load font data at: ${e}`)})}async _fetch(t){qt("Abstract method `_fetch` called.")}}class fy extends v0{async _fetch(t){const e=await Bs(t,"arraybuffer");return new Uint8Array(e)}}class y0{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!t)throw new Error("Wasm filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(n=>{throw new Error(`Unable to load wasm data at: ${e}`)})}async _fetch(t){qt("Abstract method `_fetch` called.")}}class py extends y0{async _fetch(t){const e=await Bs(t,"arraybuffer");return new Uint8Array(e)}}Ue&&St("Please use the `legacy` build in Node.js environments.");async function gf(o){const e=await process.getBuiltinModule("fs").promises.readFile(o);return new Uint8Array(e)}class $_ extends g0{}class V_ extends p0{_createCanvas(t,e){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(t,e)}}class Y_ extends m0{async _fetch(t){return gf(t)}}class X_ extends v0{async _fetch(t){return gf(t)}}class K_ extends y0{async _fetch(t){return gf(t)}}const Ne={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function Oh(o,t){if(!t)return;const e=t[2]-t[0],n=t[3]-t[1],s=new Path2D;s.rect(t[0],t[1],e,n),o.clip(s)}class vf{isModifyingCurrentTransform(){return!1}getPattern(){qt("Abstract method `getPattern` called.")}}class W_ extends vf{constructor(t){super(),this._type=t[1],this._bbox=t[2],this._colorStops=t[3],this._p0=t[4],this._p1=t[5],this._r0=t[6],this._r1=t[7],this.matrix=null}_createGradient(t){let e;this._type==="axial"?e=t.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(e=t.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const n of this._colorStops)e.addColorStop(n[0],n[1]);return e}getPattern(t,e,n,s){let l;if(s===Ne.STROKE||s===Ne.FILL){const c=e.current.getClippedPathBoundingBox(s,Jt(t))||[0,0,0,0],d=Math.ceil(c[2]-c[0])||1,h=Math.ceil(c[3]-c[1])||1,f=e.cachedCanvases.getCanvas("pattern",d,h),m=f.context;m.clearRect(0,0,m.canvas.width,m.canvas.height),m.beginPath(),m.rect(0,0,m.canvas.width,m.canvas.height),m.translate(-c[0],-c[1]),n=ct.transform(n,[1,0,0,1,c[0],c[1]]),m.transform(...e.baseTransform),this.matrix&&m.transform(...this.matrix),Oh(m,this._bbox),m.fillStyle=this._createGradient(m),m.fill(),l=t.createPattern(f.canvas,"no-repeat");const v=new DOMMatrix(n);l.setTransform(v)}else Oh(t,this._bbox),l=this._createGradient(t);return l}}function fh(o,t,e,n,s,l,c,d){const h=t.coords,f=t.colors,m=o.data,v=o.width*4;let y;h[e+1]>h[n+1]&&(y=e,e=n,n=y,y=l,l=c,c=y),h[n+1]>h[s+1]&&(y=n,n=s,s=y,y=c,c=d,d=y),h[e+1]>h[n+1]&&(y=e,e=n,n=y,y=l,l=c,c=y);const b=(h[e]+t.offsetX)*t.scaleX,x=(h[e+1]+t.offsetY)*t.scaleY,A=(h[n]+t.offsetX)*t.scaleX,T=(h[n+1]+t.offsetY)*t.scaleY,E=(h[s]+t.offsetX)*t.scaleX,M=(h[s+1]+t.offsetY)*t.scaleY;if(x>=M)return;const R=f[l],N=f[l+1],D=f[l+2],L=f[c],z=f[c+1],q=f[c+2],$=f[d],W=f[d+1],J=f[d+2],nt=Math.round(x),dt=Math.round(M);let at,ht,P,G,tt,ut,k,Y;for(let Z=nt;Z<=dt;Z++){if(Z<T){const _t=Z<x?0:(x-Z)/(x-T);at=b-(b-A)*_t,ht=R-(R-L)*_t,P=N-(N-z)*_t,G=D-(D-q)*_t}else{let _t;Z>M?_t=1:T===M?_t=0:_t=(T-Z)/(T-M),at=A-(A-E)*_t,ht=L-(L-$)*_t,P=z-(z-W)*_t,G=q-(q-J)*_t}let Q;Z<x?Q=0:Z>M?Q=1:Q=(x-Z)/(x-M),tt=b-(b-E)*Q,ut=R-(R-$)*Q,k=N-(N-W)*Q,Y=D-(D-J)*Q;const et=Math.round(Math.min(at,tt)),ft=Math.round(Math.max(at,tt));let ot=v*Z+et*4;for(let _t=et;_t<=ft;_t++)Q=(at-_t)/(at-tt),Q<0?Q=0:Q>1&&(Q=1),m[ot++]=ht-(ht-ut)*Q|0,m[ot++]=P-(P-k)*Q|0,m[ot++]=G-(G-Y)*Q|0,m[ot++]=255}}function Q_(o,t,e){const n=t.coords,s=t.colors;let l,c;switch(t.type){case"lattice":const d=t.verticesPerRow,h=Math.floor(n.length/d)-1,f=d-1;for(l=0;l<h;l++){let m=l*d;for(let v=0;v<f;v++,m++)fh(o,e,n[m],n[m+1],n[m+d],s[m],s[m+1],s[m+d]),fh(o,e,n[m+d+1],n[m+1],n[m+d],s[m+d+1],s[m+1],s[m+d])}break;case"triangles":for(l=0,c=n.length;l<c;l+=3)fh(o,e,n[l],n[l+1],n[l+2],s[l],s[l+1],s[l+2]);break;default:throw new Error("illegal figure")}}class Z_ extends vf{constructor(t){super(),this._coords=t[2],this._colors=t[3],this._figures=t[4],this._bounds=t[5],this._bbox=t[6],this._background=t[7],this.matrix=null}_createMeshCanvas(t,e,n){const d=Math.floor(this._bounds[0]),h=Math.floor(this._bounds[1]),f=Math.ceil(this._bounds[2])-d,m=Math.ceil(this._bounds[3])-h,v=Math.min(Math.ceil(Math.abs(f*t[0]*1.1)),3e3),y=Math.min(Math.ceil(Math.abs(m*t[1]*1.1)),3e3),b=f/v,x=m/y,A={coords:this._coords,colors:this._colors,offsetX:-d,offsetY:-h,scaleX:1/b,scaleY:1/x},T=v+2*2,E=y+2*2,M=n.getCanvas("mesh",T,E),R=M.context,N=R.createImageData(v,y);if(e){const L=N.data;for(let z=0,q=L.length;z<q;z+=4)L[z]=e[0],L[z+1]=e[1],L[z+2]=e[2],L[z+3]=255}for(const L of this._figures)Q_(N,L,A);return R.putImageData(N,2,2),{canvas:M.canvas,offsetX:d-2*b,offsetY:h-2*x,scaleX:b,scaleY:x}}isModifyingCurrentTransform(){return!0}getPattern(t,e,n,s){Oh(t,this._bbox);const l=new Float32Array(2);if(s===Ne.SHADING)ct.singularValueDecompose2dScale(Jt(t),l);else if(this.matrix){ct.singularValueDecompose2dScale(this.matrix,l);const[d,h]=l;ct.singularValueDecompose2dScale(e.baseTransform,l),l[0]*=d,l[1]*=h}else ct.singularValueDecompose2dScale(e.baseTransform,l);const c=this._createMeshCanvas(l,s===Ne.SHADING?null:this._background,e.cachedCanvases);return s!==Ne.SHADING&&(t.setTransform(...e.baseTransform),this.matrix&&t.transform(...this.matrix)),t.translate(c.offsetX,c.offsetY),t.scale(c.scaleX,c.scaleY),t.createPattern(c.canvas,"no-repeat")}}class J_ extends vf{getPattern(){return"hotpink"}}function tT(o){switch(o[0]){case"RadialAxial":return new W_(o);case"Mesh":return new Z_(o);case"Dummy":return new J_}throw new Error(`Unknown IR type: ${o[0]}`)}const my={COLORED:1,UNCOLORED:2};class yf{static MAX_PATTERN_SIZE=3e3;constructor(t,e,n,s){this.color=t[1],this.operatorList=t[2],this.matrix=t[3],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.ctx=e,this.canvasGraphicsFactory=n,this.baseTransform=s}createPatternCanvas(t){const{bbox:e,operatorList:n,paintType:s,tilingType:l,color:c,canvasGraphicsFactory:d}=this;let{xstep:h,ystep:f}=this;h=Math.abs(h),f=Math.abs(f),_c("TilingType: "+l);const m=e[0],v=e[1],y=e[2],b=e[3],x=y-m,A=b-v,T=new Float32Array(2);ct.singularValueDecompose2dScale(this.matrix,T);const[E,M]=T;ct.singularValueDecompose2dScale(this.baseTransform,T);const R=E*T[0],N=M*T[1];let D=x,L=A,z=!1,q=!1;const $=Math.ceil(h*R),W=Math.ceil(f*N),J=Math.ceil(x*R),nt=Math.ceil(A*N);$>=J?D=h:z=!0,W>=nt?L=f:q=!0;const dt=this.getSizeAndScale(D,this.ctx.canvas.width,R),at=this.getSizeAndScale(L,this.ctx.canvas.height,N),ht=t.cachedCanvases.getCanvas("pattern",dt.size,at.size),P=ht.context,G=d.createCanvasGraphics(P);if(G.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext(G,s,c),P.translate(-dt.scale*m,-at.scale*v),G.transform(dt.scale,0,0,at.scale,0,0),P.save(),this.clipBbox(G,m,v,y,b),G.baseTransform=Jt(G.ctx),G.executeOperatorList(n),G.endDrawing(),P.restore(),z||q){const tt=ht.canvas;z&&(D=h),q&&(L=f);const ut=this.getSizeAndScale(D,this.ctx.canvas.width,R),k=this.getSizeAndScale(L,this.ctx.canvas.height,N),Y=ut.size,Z=k.size,Q=t.cachedCanvases.getCanvas("pattern-workaround",Y,Z),et=Q.context,ft=z?Math.floor(x/h):0,ot=q?Math.floor(A/f):0;for(let _t=0;_t<=ft;_t++)for(let Lt=0;Lt<=ot;Lt++)et.drawImage(tt,Y*_t,Z*Lt,Y,Z,0,0,Y,Z);return{canvas:Q.canvas,scaleX:ut.scale,scaleY:k.scale,offsetX:m,offsetY:v}}return{canvas:ht.canvas,scaleX:dt.scale,scaleY:at.scale,offsetX:m,offsetY:v}}getSizeAndScale(t,e,n){const s=Math.max(yf.MAX_PATTERN_SIZE,e);let l=Math.ceil(t*n);return l>=s?l=s:n=l/t,{scale:n,size:l}}clipBbox(t,e,n,s,l){const c=s-e,d=l-n;t.ctx.rect(e,n,c,d),ct.axialAlignedBoundingBox([e,n,s,l],Jt(t.ctx),t.current.minMax),t.clip(),t.endPath()}setFillAndStrokeStyleToContext(t,e,n){const s=t.ctx,l=t.current;switch(e){case my.COLORED:const{fillStyle:c,strokeStyle:d}=this.ctx;s.fillStyle=l.fillColor=c,s.strokeStyle=l.strokeColor=d;break;case my.UNCOLORED:s.fillStyle=s.strokeStyle=n,l.fillColor=l.strokeColor=n;break;default:throw new E_(`Unsupported paint type: ${e}`)}}isModifyingCurrentTransform(){return!1}getPattern(t,e,n,s){let l=n;s!==Ne.SHADING&&(l=ct.transform(l,e.baseTransform),this.matrix&&(l=ct.transform(l,this.matrix)));const c=this.createPatternCanvas(e);let d=new DOMMatrix(l);d=d.translate(c.offsetX,c.offsetY),d=d.scale(1/c.scaleX,1/c.scaleY);const h=t.createPattern(c.canvas,"repeat");return h.setTransform(d),h}}function eT({src:o,srcPos:t=0,dest:e,width:n,height:s,nonBlackColor:l=4294967295,inverseDecode:c=!1}){const d=_e.isLittleEndian?4278190080:255,[h,f]=c?[l,d]:[d,l],m=n>>3,v=n&7,y=o.length;e=new Uint32Array(e.buffer);let b=0;for(let x=0;x<s;x++){for(const T=t+m;t<T;t++){const E=t<y?o[t]:255;e[b++]=E&128?f:h,e[b++]=E&64?f:h,e[b++]=E&32?f:h,e[b++]=E&16?f:h,e[b++]=E&8?f:h,e[b++]=E&4?f:h,e[b++]=E&2?f:h,e[b++]=E&1?f:h}if(v===0)continue;const A=t<y?o[t++]:255;for(let T=0;T<v;T++)e[b++]=A&1<<7-T?f:h}return{srcPos:t,destPos:b}}const gy=16,vy=100,iT=15,yy=10,ei=16,ph=new DOMMatrix,fi=new Float32Array(2),Ms=new Float32Array([1/0,1/0,-1/0,-1/0]);function nT(o,t){if(o._removeMirroring)throw new Error("Context is already forwarding operations.");o.__originalSave=o.save,o.__originalRestore=o.restore,o.__originalRotate=o.rotate,o.__originalScale=o.scale,o.__originalTranslate=o.translate,o.__originalTransform=o.transform,o.__originalSetTransform=o.setTransform,o.__originalResetTransform=o.resetTransform,o.__originalClip=o.clip,o.__originalMoveTo=o.moveTo,o.__originalLineTo=o.lineTo,o.__originalBezierCurveTo=o.bezierCurveTo,o.__originalRect=o.rect,o.__originalClosePath=o.closePath,o.__originalBeginPath=o.beginPath,o._removeMirroring=()=>{o.save=o.__originalSave,o.restore=o.__originalRestore,o.rotate=o.__originalRotate,o.scale=o.__originalScale,o.translate=o.__originalTranslate,o.transform=o.__originalTransform,o.setTransform=o.__originalSetTransform,o.resetTransform=o.__originalResetTransform,o.clip=o.__originalClip,o.moveTo=o.__originalMoveTo,o.lineTo=o.__originalLineTo,o.bezierCurveTo=o.__originalBezierCurveTo,o.rect=o.__originalRect,o.closePath=o.__originalClosePath,o.beginPath=o.__originalBeginPath,delete o._removeMirroring},o.save=function(){t.save(),this.__originalSave()},o.restore=function(){t.restore(),this.__originalRestore()},o.translate=function(e,n){t.translate(e,n),this.__originalTranslate(e,n)},o.scale=function(e,n){t.scale(e,n),this.__originalScale(e,n)},o.transform=function(e,n,s,l,c,d){t.transform(e,n,s,l,c,d),this.__originalTransform(e,n,s,l,c,d)},o.setTransform=function(e,n,s,l,c,d){t.setTransform(e,n,s,l,c,d),this.__originalSetTransform(e,n,s,l,c,d)},o.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},o.rotate=function(e){t.rotate(e),this.__originalRotate(e)},o.clip=function(e){t.clip(e),this.__originalClip(e)},o.moveTo=function(e,n){t.moveTo(e,n),this.__originalMoveTo(e,n)},o.lineTo=function(e,n){t.lineTo(e,n),this.__originalLineTo(e,n)},o.bezierCurveTo=function(e,n,s,l,c,d){t.bezierCurveTo(e,n,s,l,c,d),this.__originalBezierCurveTo(e,n,s,l,c,d)},o.rect=function(e,n,s,l){t.rect(e,n,s,l),this.__originalRect(e,n,s,l)},o.closePath=function(){t.closePath(),this.__originalClosePath()},o.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}class aT{constructor(t){this.canvasFactory=t,this.cache=Object.create(null)}getCanvas(t,e,n){let s;return this.cache[t]!==void 0?(s=this.cache[t],this.canvasFactory.reset(s,e,n)):(s=this.canvasFactory.create(e,n),this.cache[t]=s),s}delete(t){delete this.cache[t]}clear(){for(const t in this.cache){const e=this.cache[t];this.canvasFactory.destroy(e),delete this.cache[t]}}}function $l(o,t,e,n,s,l,c,d,h,f){const[m,v,y,b,x,A]=Jt(o);if(v===0&&y===0){const M=c*m+x,R=Math.round(M),N=d*b+A,D=Math.round(N),L=(c+h)*m+x,z=Math.abs(Math.round(L)-R)||1,q=(d+f)*b+A,$=Math.abs(Math.round(q)-D)||1;return o.setTransform(Math.sign(m),0,0,Math.sign(b),R,D),o.drawImage(t,e,n,s,l,0,0,z,$),o.setTransform(m,v,y,b,x,A),[z,$]}if(m===0&&b===0){const M=d*y+x,R=Math.round(M),N=c*v+A,D=Math.round(N),L=(d+f)*y+x,z=Math.abs(Math.round(L)-R)||1,q=(c+h)*v+A,$=Math.abs(Math.round(q)-D)||1;return o.setTransform(0,Math.sign(v),Math.sign(y),0,R,D),o.drawImage(t,e,n,s,l,0,0,$,z),o.setTransform(m,v,y,b,x,A),[$,z]}o.drawImage(t,e,n,s,l,c,d,h,f);const T=Math.hypot(m,v),E=Math.hypot(y,b);return[T*h,E*f]}class by{alphaIsShape=!1;fontSize=0;fontSizeScale=1;textMatrix=null;textMatrixScale=1;fontMatrix=Dh;leading=0;x=0;y=0;lineX=0;lineY=0;charSpacing=0;wordSpacing=0;textHScale=1;textRenderingMode=Pe.FILL;textRise=0;fillColor="#000000";strokeColor="#000000";patternFill=!1;patternStroke=!1;fillAlpha=1;strokeAlpha=1;lineWidth=1;activeSMask=null;transferMaps="none";constructor(t,e){this.clipBox=new Float32Array([0,0,t,e]),this.minMax=Ms.slice()}clone(){const t=Object.create(this);return t.clipBox=this.clipBox.slice(),t.minMax=this.minMax.slice(),t}getPathBoundingBox(t=Ne.FILL,e=null){const n=this.minMax.slice();if(t===Ne.STROKE){e||qt("Stroke bounding box must include transform."),ct.singularValueDecompose2dScale(e,fi);const s=fi[0]*this.lineWidth/2,l=fi[1]*this.lineWidth/2;n[0]-=s,n[1]-=l,n[2]+=s,n[3]+=l}return n}updateClipFromPath(){const t=ct.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(t||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(t){this.clipBox.set(t,0),this.minMax.set(Ms,0)}getClippedPathBoundingBox(t=Ne.FILL,e=null){return ct.intersect(this.clipBox,this.getPathBoundingBox(t,e))}}function xy(o,t){if(t instanceof ImageData){o.putImageData(t,0,0);return}const e=t.height,n=t.width,s=e%ei,l=(e-s)/ei,c=s===0?l:l+1,d=o.createImageData(n,ei);let h=0,f;const m=t.data,v=d.data;let y,b,x,A;if(t.kind===Jr.GRAYSCALE_1BPP){const T=m.byteLength,E=new Uint32Array(v.buffer,0,v.byteLength>>2),M=E.length,R=n+7>>3,N=4294967295,D=_e.isLittleEndian?4278190080:255;for(y=0;y<c;y++){for(x=y<l?ei:s,f=0,b=0;b<x;b++){const L=T-h;let z=0;const q=L>R?n:L*8-7,$=q&-8;let W=0,J=0;for(;z<$;z+=8)J=m[h++],E[f++]=J&128?N:D,E[f++]=J&64?N:D,E[f++]=J&32?N:D,E[f++]=J&16?N:D,E[f++]=J&8?N:D,E[f++]=J&4?N:D,E[f++]=J&2?N:D,E[f++]=J&1?N:D;for(;z<q;z++)W===0&&(J=m[h++],W=128),E[f++]=J&W?N:D,W>>=1}for(;f<M;)E[f++]=0;o.putImageData(d,0,y*ei)}}else if(t.kind===Jr.RGBA_32BPP){for(b=0,A=n*ei*4,y=0;y<l;y++)v.set(m.subarray(h,h+A)),h+=A,o.putImageData(d,0,b),b+=ei;y<c&&(A=n*s*4,v.set(m.subarray(h,h+A)),o.putImageData(d,0,b))}else if(t.kind===Jr.RGB_24BPP)for(x=ei,A=n*x,y=0;y<c;y++){for(y>=l&&(x=s,A=n*x),f=0,b=A;b--;)v[f++]=m[h++],v[f++]=m[h++],v[f++]=m[h++],v[f++]=255;o.putImageData(d,0,y*ei)}else throw new Error(`bad image kind: ${t.kind}`)}function Ay(o,t){if(t.bitmap){o.drawImage(t.bitmap,0,0);return}const e=t.height,n=t.width,s=e%ei,l=(e-s)/ei,c=s===0?l:l+1,d=o.createImageData(n,ei);let h=0;const f=t.data,m=d.data;for(let v=0;v<c;v++){const y=v<l?ei:s;({srcPos:h}=eT({src:f,srcPos:h,dest:m,width:n,height:y,nonBlackColor:0})),o.putImageData(d,0,v*ei)}}function $r(o,t){const e=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const n of e)o[n]!==void 0&&(t[n]=o[n]);o.setLineDash!==void 0&&(t.setLineDash(o.getLineDash()),t.lineDashOffset=o.lineDashOffset)}function Vl(o){o.strokeStyle=o.fillStyle="#000000",o.fillRule="nonzero",o.globalAlpha=1,o.lineWidth=1,o.lineCap="butt",o.lineJoin="miter",o.miterLimit=10,o.globalCompositeOperation="source-over",o.font="10px sans-serif",o.setLineDash!==void 0&&(o.setLineDash([]),o.lineDashOffset=0);const{filter:t}=o;t!=="none"&&t!==""&&(o.filter="none")}function wy(o,t){if(t)return!0;ct.singularValueDecompose2dScale(o,fi);const e=Math.fround(Oi.pixelRatio*Oa.PDF_TO_CSS_UNITS);return fi[0]<=e&&fi[1]<=e}const sT=["butt","round","square"],rT=["miter","round","bevel"],oT={},Sy={};class Os{constructor(t,e,n,s,l,{optionalContentConfig:c,markedContentStack:d=null},h,f){this.ctx=t,this.current=new by(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=e,this.objs=n,this.canvasFactory=s,this.filterFactory=l,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=d||[],this.optionalContentConfig=c,this.cachedCanvases=new aT(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=h,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=f,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(t,e=null){return typeof t=="string"?t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t):e}beginDrawing({transform:t,viewport:e,transparency:n=!1,background:s=null}){const l=this.ctx.canvas.width,c=this.ctx.canvas.height,d=this.ctx.fillStyle;if(this.ctx.fillStyle=s||"#ffffff",this.ctx.fillRect(0,0,l,c),this.ctx.fillStyle=d,n){const h=this.cachedCanvases.getCanvas("transparent",l,c);this.compositeCtx=this.ctx,this.transparentCanvas=h.canvas,this.ctx=h.context,this.ctx.save(),this.ctx.transform(...Jt(this.compositeCtx))}this.ctx.save(),Vl(this.ctx),t&&(this.ctx.transform(...t),this.outputScaleX=t[0],this.outputScaleY=t[0]),this.ctx.transform(...e.transform),this.viewportScale=e.scale,this.baseTransform=Jt(this.ctx)}executeOperatorList(t,e,n,s){const l=t.argsArray,c=t.fnArray;let d=e||0;const h=l.length;if(h===d)return d;const f=h-d>yy&&typeof n=="function",m=f?Date.now()+iT:0;let v=0;const y=this.commonObjs,b=this.objs;let x;for(;;){if(s!==void 0&&d===s.nextBreakPoint)return s.breakIt(d,n),d;if(x=c[d],x!==ro.dependency)this[x].apply(this,l[d]);else for(const A of l[d]){const T=A.startsWith("g_")?y:b;if(!T.has(A))return T.get(A,n),d}if(d++,d===h)return d;if(f&&++v>yy){if(Date.now()>m)return n(),d;v=0}}}#t(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#t(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const t of this._cachedBitmapsMap.values()){for(const e of t.values())typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement&&(e.width=e.height=0);t.clear()}this._cachedBitmapsMap.clear(),this.#e()}#e(){if(this.pageColors){const t=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(t!=="none"){const e=this.ctx.filter;this.ctx.filter=t,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=e}}}_scaleImage(t,e){const n=t.width??t.displayWidth,s=t.height??t.displayHeight;let l=Math.max(Math.hypot(e[0],e[1]),1),c=Math.max(Math.hypot(e[2],e[3]),1),d=n,h=s,f="prescale1",m,v;for(;l>2&&d>1||c>2&&h>1;){let y=d,b=h;l>2&&d>1&&(y=d>=16384?Math.floor(d/2)-1||1:Math.ceil(d/2),l/=d/y),c>2&&h>1&&(b=h>=16384?Math.floor(h/2)-1||1:Math.ceil(h)/2,c/=h/b),m=this.cachedCanvases.getCanvas(f,y,b),v=m.context,v.clearRect(0,0,y,b),v.drawImage(t,0,0,d,h,0,0,y,b),t=m.canvas,d=y,h=b,f=f==="prescale1"?"prescale2":"prescale1"}return{img:t,paintWidth:d,paintHeight:h}}_createMaskCanvas(t){const e=this.ctx,{width:n,height:s}=t,l=this.current.fillColor,c=this.current.patternFill,d=Jt(e);let h,f,m,v;if((t.bitmap||t.data)&&t.count>1){const $=t.bitmap||t.data.buffer;f=JSON.stringify(c?d:[d.slice(0,4),l]),h=this._cachedBitmapsMap.get($),h||(h=new Map,this._cachedBitmapsMap.set($,h));const W=h.get(f);if(W&&!c){const J=Math.round(Math.min(d[0],d[2])+d[4]),nt=Math.round(Math.min(d[1],d[3])+d[5]);return{canvas:W,offsetX:J,offsetY:nt}}m=W}m||(v=this.cachedCanvases.getCanvas("maskCanvas",n,s),Ay(v.context,t));let y=ct.transform(d,[1/n,0,0,-1/s,0,0]);y=ct.transform(y,[1,0,0,1,0,-s]);const b=Ms.slice();ct.axialAlignedBoundingBox([0,0,n,s],y,b);const[x,A,T,E]=b,M=Math.round(T-x)||1,R=Math.round(E-A)||1,N=this.cachedCanvases.getCanvas("fillCanvas",M,R),D=N.context,L=x,z=A;D.translate(-L,-z),D.transform(...y),m||(m=this._scaleImage(v.canvas,Ui(D)),m=m.img,h&&c&&h.set(f,m)),D.imageSmoothingEnabled=wy(Jt(D),t.interpolate),$l(D,m,0,0,m.width,m.height,0,0,n,s),D.globalCompositeOperation="source-in";const q=ct.transform(Ui(D),[1,0,0,1,-L,-z]);return D.fillStyle=c?l.getPattern(e,this,q,Ne.FILL):l,D.fillRect(0,0,n,s),h&&!c&&(this.cachedCanvases.delete("fillCanvas"),h.set(f,N.canvas)),{canvas:N.canvas,offsetX:Math.round(L),offsetY:Math.round(z)}}setLineWidth(t){t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(t){this.ctx.lineCap=sT[t]}setLineJoin(t){this.ctx.lineJoin=rT[t]}setMiterLimit(t){this.ctx.miterLimit=t}setDash(t,e){const n=this.ctx;n.setLineDash!==void 0&&(n.setLineDash(t),n.lineDashOffset=e)}setRenderingIntent(t){}setFlatness(t){}setGState(t){for(const[e,n]of t)switch(e){case"LW":this.setLineWidth(n);break;case"LC":this.setLineCap(n);break;case"LJ":this.setLineJoin(n);break;case"ML":this.setMiterLimit(n);break;case"D":this.setDash(n[0],n[1]);break;case"RI":this.setRenderingIntent(n);break;case"FL":this.setFlatness(n);break;case"Font":this.setFont(n[0],n[1]);break;case"CA":this.current.strokeAlpha=n;break;case"ca":this.ctx.globalAlpha=this.current.fillAlpha=n;break;case"BM":this.ctx.globalCompositeOperation=n;break;case"SMask":this.current.activeSMask=n?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(n);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const t=this.inSMaskMode;this.current.activeSMask&&!t?this.beginSMaskMode():!this.current.activeSMask&&t&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const t=this.ctx.canvas.width,e=this.ctx.canvas.height,n="smaskGroupAt"+this.groupLevel,s=this.cachedCanvases.getCanvas(n,t,e);this.suspendedCtx=this.ctx;const l=this.ctx=s.context;l.setTransform(this.suspendedCtx.getTransform()),$r(this.suspendedCtx,l),nT(l,this.suspendedCtx),this.setGState([["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),$r(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(t){if(!this.current.activeSMask)return;t?(t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.ceil(t[2]),t[3]=Math.ceil(t[3])):t=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const e=this.current.activeSMask,n=this.suspendedCtx;this.composeSMask(n,e,this.ctx,t),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(t,e,n,s){const l=s[0],c=s[1],d=s[2]-l,h=s[3]-c;d===0||h===0||(this.genericComposeSMask(e.context,n,d,h,e.subtype,e.backdrop,e.transferMap,l,c,e.offsetX,e.offsetY),t.save(),t.globalAlpha=1,t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0),t.drawImage(n.canvas,0,0),t.restore())}genericComposeSMask(t,e,n,s,l,c,d,h,f,m,v){let y=t.canvas,b=h-m,x=f-v;if(c)if(b<0||x<0||b+n>y.width||x+s>y.height){const T=this.cachedCanvases.getCanvas("maskExtension",n,s),E=T.context;E.drawImage(y,-b,-x),E.globalCompositeOperation="destination-atop",E.fillStyle=c,E.fillRect(0,0,n,s),E.globalCompositeOperation="source-over",y=T.canvas,b=x=0}else{t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0);const T=new Path2D;T.rect(b,x,n,s),t.clip(T),t.globalCompositeOperation="destination-atop",t.fillStyle=c,t.fillRect(b,x,n,s),t.restore()}e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0),l==="Alpha"&&d?e.filter=this.filterFactory.addAlphaFilter(d):l==="Luminosity"&&(e.filter=this.filterFactory.addLuminosityFilter(d));const A=new Path2D;A.rect(h,f,n,s),e.clip(A),e.globalCompositeOperation="destination-in",e.drawImage(y,b,x,n,s,h,f,n,s),e.restore()}save(){this.inSMaskMode&&$r(this.ctx,this.suspendedCtx),this.ctx.save();const t=this.current;this.stateStack.push(t),this.current=t.clone()}restore(){if(this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&$r(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(t,e,n,s,l,c){this.ctx.transform(t,e,n,s,l,c),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(t,e,n){let[s]=e;if(!n){s||=e[0]=new Path2D,this[t](s);return}if(!(s instanceof Path2D)){const l=e[0]=new Path2D;for(let c=0,d=s.length;c<d;)switch(s[c++]){case Ul.moveTo:l.moveTo(s[c++],s[c++]);break;case Ul.lineTo:l.lineTo(s[c++],s[c++]);break;case Ul.curveTo:l.bezierCurveTo(s[c++],s[c++],s[c++],s[c++],s[c++],s[c++]);break;case Ul.closePath:l.closePath();break;default:St(`Unrecognized drawing path operator: ${s[c-1]}`);break}s=l}ct.axialAlignedBoundingBox(n,Jt(this.ctx),this.current.minMax),this[t](s)}closePath(){this.ctx.closePath()}stroke(t,e=!0){const n=this.ctx,s=this.current.strokeColor;if(n.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof s=="object"&&s?.getPattern){const l=s.isModifyingCurrentTransform()?n.getTransform():null;if(n.save(),n.strokeStyle=s.getPattern(n,this,Ui(n),Ne.STROKE),l){const c=new Path2D;c.addPath(t,n.getTransform().invertSelf().multiplySelf(l)),t=c}this.rescaleAndStroke(t,!1),n.restore()}else this.rescaleAndStroke(t,!0);e&&this.consumePath(t,this.current.getClippedPathBoundingBox(Ne.STROKE,Jt(this.ctx))),n.globalAlpha=this.current.fillAlpha}closeStroke(t){this.stroke(t)}fill(t,e=!0){const n=this.ctx,s=this.current.fillColor,l=this.current.patternFill;let c=!1;if(l){const h=s.isModifyingCurrentTransform()?n.getTransform():null;if(n.save(),n.fillStyle=s.getPattern(n,this,Ui(n),Ne.FILL),h){const f=new Path2D;f.addPath(t,n.getTransform().invertSelf().multiplySelf(h)),t=f}c=!0}const d=this.current.getClippedPathBoundingBox();this.contentVisible&&d!==null&&(this.pendingEOFill?(n.fill(t,"evenodd"),this.pendingEOFill=!1):n.fill(t)),c&&n.restore(),e&&this.consumePath(t,d)}eoFill(t){this.pendingEOFill=!0,this.fill(t)}fillStroke(t){this.fill(t,!1),this.stroke(t,!1),this.consumePath(t)}eoFillStroke(t){this.pendingEOFill=!0,this.fillStroke(t)}closeFillStroke(t){this.fillStroke(t)}closeEOFillStroke(t){this.pendingEOFill=!0,this.fillStroke(t)}endPath(t){this.consumePath(t)}rawFillPath(t){this.ctx.fill(t)}clip(){this.pendingClip=oT}eoClip(){this.pendingClip=Sy}beginText(){this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const t=this.pendingTextPaths,e=this.ctx;if(t===void 0)return;const n=new Path2D,s=e.getTransform().invertSelf();for(const{transform:l,x:c,y:d,fontSize:h,path:f}of t)n.addPath(f,new DOMMatrix(l).preMultiplySelf(s).translate(c,d).scale(h,-h));e.clip(n),delete this.pendingTextPaths}setCharSpacing(t){this.current.charSpacing=t}setWordSpacing(t){this.current.wordSpacing=t}setHScale(t){this.current.textHScale=t/100}setLeading(t){this.current.leading=-t}setFont(t,e){const n=this.commonObjs.get(t),s=this.current;if(!n)throw new Error(`Can't find font for ${t}`);if(s.fontMatrix=n.fontMatrix||Dh,(s.fontMatrix[0]===0||s.fontMatrix[3]===0)&&St("Invalid font matrix for font "+t),e<0?(e=-e,s.fontDirection=-1):s.fontDirection=1,this.current.font=n,this.current.fontSize=e,n.isType3Font)return;const l=n.loadedName||"sans-serif",c=n.systemFontInfo?.css||`"${l}", ${n.fallbackName}`;let d="normal";n.black?d="900":n.bold&&(d="bold");const h=n.italic?"italic":"normal";let f=e;e<gy?f=gy:e>vy&&(f=vy),this.current.fontSizeScale=e/f,this.ctx.font=`${h} ${d} ${f}px ${c}`}setTextRenderingMode(t){this.current.textRenderingMode=t}setTextRise(t){this.current.textRise=t}moveText(t,e){this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=e}setLeadingMoveText(t,e){this.setLeading(-e),this.moveText(t,e)}setTextMatrix(t){const{current:e}=this;e.textMatrix=t,e.textMatrixScale=Math.hypot(t[0],t[1]),e.x=e.lineX=0,e.y=e.lineY=0}nextLine(){this.moveText(0,this.current.leading)}#i(t,e,n){const s=new Path2D;return s.addPath(t,new DOMMatrix(n).invertSelf().multiplySelf(e)),s}paintChar(t,e,n,s,l){const c=this.ctx,d=this.current,h=d.font,f=d.textRenderingMode,m=d.fontSize/d.fontSizeScale,v=f&Pe.FILL_STROKE_MASK,y=!!(f&Pe.ADD_TO_PATH_FLAG),b=d.patternFill&&!h.missingFile,x=d.patternStroke&&!h.missingFile;let A;if((h.disableFontFace||y||b||x)&&(A=h.getPathGenerator(this.commonObjs,t)),h.disableFontFace||b||x){c.save(),c.translate(e,n),c.scale(m,-m);let T;if((v===Pe.FILL||v===Pe.FILL_STROKE)&&(s?(T=c.getTransform(),c.setTransform(...s),c.fill(this.#i(A,T,s))):c.fill(A)),v===Pe.STROKE||v===Pe.FILL_STROKE)if(l){T||=c.getTransform(),c.setTransform(...l);const{a:E,b:M,c:R,d:N}=T,D=ct.inverseTransform(l),L=ct.transform([E,M,R,N,0,0],D);ct.singularValueDecompose2dScale(L,fi),c.lineWidth*=Math.max(fi[0],fi[1])/m,c.stroke(this.#i(A,T,l))}else c.lineWidth/=m,c.stroke(A);c.restore()}else(v===Pe.FILL||v===Pe.FILL_STROKE)&&c.fillText(t,e,n),(v===Pe.STROKE||v===Pe.FILL_STROKE)&&c.strokeText(t,e,n);y&&(this.pendingTextPaths||=[]).push({transform:Jt(c),x:e,y:n,fontSize:m,path:A})}get isFontSubpixelAAEnabled(){const{context:t}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);t.scale(1.5,1),t.fillText("I",0,10);const e=t.getImageData(0,0,10,10).data;let n=!1;for(let s=3;s<e.length;s+=4)if(e[s]>0&&e[s]<255){n=!0;break}return Nt(this,"isFontSubpixelAAEnabled",n)}showText(t){const e=this.current,n=e.font;if(n.isType3Font)return this.showType3Text(t);const s=e.fontSize;if(s===0)return;const l=this.ctx,c=e.fontSizeScale,d=e.charSpacing,h=e.wordSpacing,f=e.fontDirection,m=e.textHScale*f,v=t.length,y=n.vertical,b=y?1:-1,x=n.defaultVMetrics,A=s*e.fontMatrix[0],T=e.textRenderingMode===Pe.FILL&&!n.disableFontFace&&!e.patternFill;l.save(),e.textMatrix&&l.transform(...e.textMatrix),l.translate(e.x,e.y+e.textRise),f>0?l.scale(m,-1):l.scale(m,1);let E,M;if(e.patternFill){l.save();const z=e.fillColor.getPattern(l,this,Ui(l),Ne.FILL);E=Jt(l),l.restore(),l.fillStyle=z}if(e.patternStroke){l.save();const z=e.strokeColor.getPattern(l,this,Ui(l),Ne.STROKE);M=Jt(l),l.restore(),l.strokeStyle=z}let R=e.lineWidth;const N=e.textMatrixScale;if(N===0||R===0){const z=e.textRenderingMode&Pe.FILL_STROKE_MASK;(z===Pe.STROKE||z===Pe.FILL_STROKE)&&(R=this.getSinglePixelWidth())}else R/=N;if(c!==1&&(l.scale(c,c),R/=c),l.lineWidth=R,n.isInvalidPDFjsFont){const z=[];let q=0;for(const $ of t)z.push($.unicode),q+=$.width;l.fillText(z.join(""),0,0),e.x+=q*A*m,l.restore(),this.compose();return}let D=0,L;for(L=0;L<v;++L){const z=t[L];if(typeof z=="number"){D+=b*z*s/1e3;continue}let q=!1;const $=(z.isSpace?h:0)+d,W=z.fontChar,J=z.accent;let nt,dt,at=z.width;if(y){const P=z.vmetric||x,G=-(z.vmetric?P[1]:at*.5)*A,tt=P[2]*A;at=P?-P[0]:at,nt=G/c,dt=(D+tt)/c}else nt=D/c,dt=0;if(n.remeasure&&at>0){const P=l.measureText(W).width*1e3/s*c;if(at<P&&this.isFontSubpixelAAEnabled){const G=at/P;q=!0,l.save(),l.scale(G,1),nt/=G}else at!==P&&(nt+=(at-P)/2e3*s/c)}if(this.contentVisible&&(z.isInFont||n.missingFile)){if(T&&!J)l.fillText(W,nt,dt);else if(this.paintChar(W,nt,dt,E,M),J){const P=nt+s*J.offset.x/c,G=dt-s*J.offset.y/c;this.paintChar(J.fontChar,P,G,E,M)}}const ht=y?at*A-$*f:at*A+$*f;D+=ht,q&&l.restore()}y?e.y-=D:e.x+=D*m,l.restore(),this.compose()}showType3Text(t){const e=this.ctx,n=this.current,s=n.font,l=n.fontSize,c=n.fontDirection,d=s.vertical?1:-1,h=n.charSpacing,f=n.wordSpacing,m=n.textHScale*c,v=n.fontMatrix||Dh,y=t.length,b=n.textRenderingMode===Pe.INVISIBLE;let x,A,T,E;if(!(b||l===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,e.save(),n.textMatrix&&e.transform(...n.textMatrix),e.translate(n.x,n.y+n.textRise),e.scale(m,c),x=0;x<y;++x){if(A=t[x],typeof A=="number"){E=d*A*l/1e3,this.ctx.translate(E,0),n.x+=E*m;continue}const M=(A.isSpace?f:0)+h,R=s.charProcOperatorList[A.operatorListId];R?this.contentVisible&&(this.save(),e.scale(l,l),e.transform(...v),this.executeOperatorList(R),this.restore()):St(`Type3 character "${A.operatorListId}" is not available.`);const N=[A.width,0];ct.applyTransform(N,v),T=N[0]*l+M,e.translate(T,0),n.x+=T*m}e.restore()}}setCharWidth(t,e){}setCharWidthAndBounds(t,e,n,s,l,c){const d=new Path2D;d.rect(n,s,l-n,c-s),this.ctx.clip(d),this.endPath()}getColorN_Pattern(t){let e;if(t[0]==="TilingPattern"){const n=this.baseTransform||Jt(this.ctx),s={createCanvasGraphics:l=>new Os(l,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};e=new yf(t,this.ctx,s,n)}else e=this._getPattern(t[1],t[2]);return e}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments),this.current.patternStroke=!0}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(t){this.ctx.strokeStyle=this.current.strokeColor=t,this.current.patternStroke=!1}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(t){this.ctx.fillStyle=this.current.fillColor=t,this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(t,e=null){let n;return this.cachedPatterns.has(t)?n=this.cachedPatterns.get(t):(n=tT(this.getObject(t)),this.cachedPatterns.set(t,n)),e&&(n.matrix=e),n}shadingFill(t){if(!this.contentVisible)return;const e=this.ctx;this.save();const n=this._getPattern(t);e.fillStyle=n.getPattern(e,this,Ui(e),Ne.SHADING);const s=Ui(e);if(s){const{width:l,height:c}=e.canvas,d=Ms.slice();ct.axialAlignedBoundingBox([0,0,l,c],s,d);const[h,f,m,v]=d;this.ctx.fillRect(h,f,m-h,v-f)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){qt("Should not call beginInlineImage")}beginImageData(){qt("Should not call beginImageData")}paintFormXObjectBegin(t,e){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),t&&this.transform(...t),this.baseTransform=Jt(this.ctx),e)){ct.axialAlignedBoundingBox(e,this.baseTransform,this.current.minMax);const[n,s,l,c]=e,d=new Path2D;d.rect(n,s,l-n,c-s),this.ctx.clip(d),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(t){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const e=this.ctx;t.isolated||_c("TODO: Support non-isolated groups."),t.knockout&&St("Knockout groups not supported.");const n=Jt(e);if(t.matrix&&e.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let s=Ms.slice();ct.axialAlignedBoundingBox(t.bbox,Jt(e),s);const l=[0,0,e.canvas.width,e.canvas.height];s=ct.intersect(s,l)||[0,0,0,0];const c=Math.floor(s[0]),d=Math.floor(s[1]),h=Math.max(Math.ceil(s[2])-c,1),f=Math.max(Math.ceil(s[3])-d,1);this.current.startNewPathAndClipBox([0,0,h,f]);let m="groupAt"+this.groupLevel;t.smask&&(m+="_smask_"+this.smaskCounter++%2);const v=this.cachedCanvases.getCanvas(m,h,f),y=v.context;y.translate(-c,-d),y.transform(...n);let b=new Path2D;const[x,A,T,E]=t.bbox;if(b.rect(x,A,T-x,E-A),t.matrix){const M=new Path2D;M.addPath(b,new DOMMatrix(t.matrix)),b=M}y.clip(b),t.smask?this.smaskStack.push({canvas:v.canvas,context:y,offsetX:c,offsetY:d,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}):(e.setTransform(1,0,0,1,0,0),e.translate(c,d),e.save()),$r(e,y),this.ctx=y,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(e),this.groupLevel++}endGroup(t){if(!this.contentVisible)return;this.groupLevel--;const e=this.ctx,n=this.groupStack.pop();if(this.ctx=n,this.ctx.imageSmoothingEnabled=!1,t.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const s=Jt(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...s);const l=Ms.slice();ct.axialAlignedBoundingBox([0,0,e.canvas.width,e.canvas.height],s,l),this.ctx.drawImage(e.canvas,0,0),this.ctx.restore(),this.compose(l)}}beginAnnotation(t,e,n,s,l){if(this.#t(),Vl(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),e){const c=e[2]-e[0],d=e[3]-e[1];if(l&&this.annotationCanvasMap){n=n.slice(),n[4]-=e[0],n[5]-=e[1],e=e.slice(),e[0]=e[1]=0,e[2]=c,e[3]=d,ct.singularValueDecompose2dScale(Jt(this.ctx),fi);const{viewportScale:h}=this,f=Math.ceil(c*this.outputScaleX*h),m=Math.ceil(d*this.outputScaleY*h);this.annotationCanvas=this.canvasFactory.create(f,m);const{canvas:v,context:y}=this.annotationCanvas;this.annotationCanvasMap.set(t,v),this.annotationCanvas.savedCtx=this.ctx,this.ctx=y,this.ctx.save(),this.ctx.setTransform(fi[0],0,0,-fi[1],0,d*fi[1]),Vl(this.ctx)}else{Vl(this.ctx),this.endPath();const h=new Path2D;h.rect(e[0],e[1],c,d),this.ctx.clip(h)}}this.current=new by(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...n),this.transform(...s)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),this.#e(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(t){if(!this.contentVisible)return;const e=t.count;t=this.getObject(t.data,t),t.count=e;const n=this.ctx,s=this._createMaskCanvas(t),l=s.canvas;n.save(),n.setTransform(1,0,0,1,0,0),n.drawImage(l,s.offsetX,s.offsetY),n.restore(),this.compose()}paintImageMaskXObjectRepeat(t,e,n=0,s=0,l,c){if(!this.contentVisible)return;t=this.getObject(t.data,t);const d=this.ctx;d.save();const h=Jt(d);d.transform(e,n,s,l,0,0);const f=this._createMaskCanvas(t);d.setTransform(1,0,0,1,f.offsetX-h[4],f.offsetY-h[5]);for(let m=0,v=c.length;m<v;m+=2){const y=ct.transform(h,[e,n,s,l,c[m],c[m+1]]);d.drawImage(f.canvas,y[4],y[5])}d.restore(),this.compose()}paintImageMaskXObjectGroup(t){if(!this.contentVisible)return;const e=this.ctx,n=this.current.fillColor,s=this.current.patternFill;for(const l of t){const{data:c,width:d,height:h,transform:f}=l,m=this.cachedCanvases.getCanvas("maskCanvas",d,h),v=m.context;v.save();const y=this.getObject(c,l);Ay(v,y),v.globalCompositeOperation="source-in",v.fillStyle=s?n.getPattern(v,this,Ui(e),Ne.FILL):n,v.fillRect(0,0,d,h),v.restore(),e.save(),e.transform(...f),e.scale(1,-1),$l(e,m.canvas,0,0,d,h,0,-1,1,1),e.restore()}this.compose()}paintImageXObject(t){if(!this.contentVisible)return;const e=this.getObject(t);if(!e){St("Dependent image isn't ready yet");return}this.paintInlineImageXObject(e)}paintImageXObjectRepeat(t,e,n,s){if(!this.contentVisible)return;const l=this.getObject(t);if(!l){St("Dependent image isn't ready yet");return}const c=l.width,d=l.height,h=[];for(let f=0,m=s.length;f<m;f+=2)h.push({transform:[e,0,0,n,s[f],s[f+1]],x:0,y:0,w:c,h:d});this.paintInlineImageXObjectGroup(l,h)}applyTransferMapsToCanvas(t){return this.current.transferMaps!=="none"&&(t.filter=this.current.transferMaps,t.drawImage(t.canvas,0,0),t.filter="none"),t.canvas}applyTransferMapsToBitmap(t){if(this.current.transferMaps==="none")return t.bitmap;const{bitmap:e,width:n,height:s}=t,l=this.cachedCanvases.getCanvas("inlineImage",n,s),c=l.context;return c.filter=this.current.transferMaps,c.drawImage(e,0,0),c.filter="none",l.canvas}paintInlineImageXObject(t){if(!this.contentVisible)return;const e=t.width,n=t.height,s=this.ctx;this.save();const{filter:l}=s;l!=="none"&&l!==""&&(s.filter="none"),s.scale(1/e,-1/n);let c;if(t.bitmap)c=this.applyTransferMapsToBitmap(t);else if(typeof HTMLElement=="function"&&t instanceof HTMLElement||!t.data)c=t;else{const f=this.cachedCanvases.getCanvas("inlineImage",e,n).context;xy(f,t),c=this.applyTransferMapsToCanvas(f)}const d=this._scaleImage(c,Ui(s));s.imageSmoothingEnabled=wy(Jt(s),t.interpolate),$l(s,d.img,0,0,d.paintWidth,d.paintHeight,0,-n,e,n),this.compose(),this.restore()}paintInlineImageXObjectGroup(t,e){if(!this.contentVisible)return;const n=this.ctx;let s;if(t.bitmap)s=t.bitmap;else{const l=t.width,c=t.height,h=this.cachedCanvases.getCanvas("inlineImage",l,c).context;xy(h,t),s=this.applyTransferMapsToCanvas(h)}for(const l of e)n.save(),n.transform(...l.transform),n.scale(1,-1),$l(n,s,l.x,l.y,l.w,l.h,0,-1,1,1),n.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(t){}markPointProps(t,e){}beginMarkedContent(t){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(t,e){t==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(e)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(t,e){const n=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const s=this.ctx;this.pendingClip&&(n||(this.pendingClip===Sy?s.clip(t,"evenodd"):s.clip(t)),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const t=Jt(this.ctx);if(t[1]===0&&t[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(t[0]),Math.abs(t[3]));else{const e=Math.abs(t[0]*t[3]-t[2]*t[1]),n=Math.hypot(t[0],t[2]),s=Math.hypot(t[1],t[3]);this._cachedGetSinglePixelWidth=Math.max(n,s)/e}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:t}=this.current,{a:e,b:n,c:s,d:l}=this.ctx.getTransform();let c,d;if(n===0&&s===0){const h=Math.abs(e),f=Math.abs(l);if(h===f)if(t===0)c=d=1/h;else{const m=h*t;c=d=m<1?1/m:1}else if(t===0)c=1/h,d=1/f;else{const m=h*t,v=f*t;c=m<1?1/m:1,d=v<1?1/v:1}}else{const h=Math.abs(e*l-n*s),f=Math.hypot(e,n),m=Math.hypot(s,l);if(t===0)c=m/h,d=f/h;else{const v=t*h;c=m>v?m/v:1,d=f>v?f/v:1}}this._cachedScaleForStroking[0]=c,this._cachedScaleForStroking[1]=d}return this._cachedScaleForStroking}rescaleAndStroke(t,e){const{ctx:n,current:{lineWidth:s}}=this,[l,c]=this.getScaleForStroking();if(l===c){n.lineWidth=(s||1)*l,n.stroke(t);return}const d=n.getLineDash();e&&n.save(),n.scale(l,c),ph.a=1/l,ph.d=1/c;const h=new Path2D;if(h.addPath(t,ph),d.length>0){const f=Math.max(l,c);n.setLineDash(d.map(m=>m/f)),n.lineDashOffset/=f}n.lineWidth=s||1,n.stroke(h),e&&n.restore()}isContentVisible(){for(let t=this.markedContentStack.length-1;t>=0;t--)if(!this.markedContentStack[t].visible)return!1;return!0}}for(const o in ro)Os.prototype[o]!==void 0&&(Os.prototype[ro[o]]=Os.prototype[o]);class Na{static#t=null;static#e="";static get workerPort(){return this.#t}static set workerPort(t){if(!(typeof Worker<"u"&&t instanceof Worker)&&t!==null)throw new Error("Invalid `workerPort` type.");this.#t=t}static get workerSrc(){return this.#e}static set workerSrc(t){if(typeof t!="string")throw new Error("Invalid `workerSrc` type.");this.#e=t}}class lT{#t;#e;constructor({parsedData:t,rawData:e}){this.#t=t,this.#e=e}getRaw(){return this.#e}get(t){return this.#t.get(t)??null}[Symbol.iterator](){return this.#t.entries()}}const Cs=Symbol("INTERNAL");class cT{#t=!1;#e=!1;#i=!1;#n=!0;constructor(t,{name:e,intent:n,usage:s,rbGroups:l}){this.#t=!!(t&di.DISPLAY),this.#e=!!(t&di.PRINT),this.name=e,this.intent=n,this.usage=s,this.rbGroups=l}get visible(){if(this.#i)return this.#n;if(!this.#n)return!1;const{print:t,view:e}=this.usage;return this.#t?e?.viewState!=="OFF":this.#e?t?.printState!=="OFF":!0}_setVisible(t,e,n=!1){t!==Cs&&qt("Internal method `_setVisible` called."),this.#i=n,this.#n=e}}class uT{#t=null;#e=new Map;#i=null;#n=null;constructor(t,e=di.DISPLAY){if(this.renderingIntent=e,this.name=null,this.creator=null,t!==null){this.name=t.name,this.creator=t.creator,this.#n=t.order;for(const n of t.groups)this.#e.set(n.id,new cT(e,n));if(t.baseState==="OFF")for(const n of this.#e.values())n._setVisible(Cs,!1);for(const n of t.on)this.#e.get(n)._setVisible(Cs,!0);for(const n of t.off)this.#e.get(n)._setVisible(Cs,!1);this.#i=this.getHash()}}#s(t){const e=t.length;if(e<2)return!0;const n=t[0];for(let s=1;s<e;s++){const l=t[s];let c;if(Array.isArray(l))c=this.#s(l);else if(this.#e.has(l))c=this.#e.get(l).visible;else return St(`Optional content group not found: ${l}`),!0;switch(n){case"And":if(!c)return!1;break;case"Or":if(c)return!0;break;case"Not":return!c;default:return!0}}return n==="And"}isVisible(t){if(this.#e.size===0)return!0;if(!t)return _c("Optional content group not defined."),!0;if(t.type==="OCG")return this.#e.has(t.id)?this.#e.get(t.id).visible:(St(`Optional content group not found: ${t.id}`),!0);if(t.type==="OCMD"){if(t.expression)return this.#s(t.expression);if(!t.policy||t.policy==="AnyOn"){for(const e of t.ids){if(!this.#e.has(e))return St(`Optional content group not found: ${e}`),!0;if(this.#e.get(e).visible)return!0}return!1}else if(t.policy==="AllOn"){for(const e of t.ids){if(!this.#e.has(e))return St(`Optional content group not found: ${e}`),!0;if(!this.#e.get(e).visible)return!1}return!0}else if(t.policy==="AnyOff"){for(const e of t.ids){if(!this.#e.has(e))return St(`Optional content group not found: ${e}`),!0;if(!this.#e.get(e).visible)return!0}return!1}else if(t.policy==="AllOff"){for(const e of t.ids){if(!this.#e.has(e))return St(`Optional content group not found: ${e}`),!0;if(this.#e.get(e).visible)return!1}return!0}return St(`Unknown optional content policy ${t.policy}.`),!0}return St(`Unknown group type ${t.type}.`),!0}setVisibility(t,e=!0,n=!0){const s=this.#e.get(t);if(!s){St(`Optional content group not found: ${t}`);return}if(n&&e&&s.rbGroups.length)for(const l of s.rbGroups)for(const c of l)c!==t&&this.#e.get(c)?._setVisible(Cs,!1,!0);s._setVisible(Cs,!!e,!0),this.#t=null}setOCGState({state:t,preserveRB:e}){let n;for(const s of t){switch(s){case"ON":case"OFF":case"Toggle":n=s;continue}const l=this.#e.get(s);if(l)switch(n){case"ON":this.setVisibility(s,!0,e);break;case"OFF":this.setVisibility(s,!1,e);break;case"Toggle":this.setVisibility(s,!l.visible,e);break}}this.#t=null}get hasInitialVisibility(){return this.#i===null||this.getHash()===this.#i}getOrder(){return this.#e.size?this.#n?this.#n.slice():[...this.#e.keys()]:null}getGroup(t){return this.#e.get(t)||null}getHash(){if(this.#t!==null)return this.#t;const t=new d0;for(const[e,n]of this.#e)t.update(`${e}:${n.visible}`);return this.#t=t.hexdigest()}[Symbol.iterator](){return this.#e.entries()}}class dT{constructor(t,{disableRange:e=!1,disableStream:n=!1}){me(t,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:s,initialData:l,progressiveDone:c,contentDispositionFilename:d}=t;if(this._queuedChunks=[],this._progressiveDone=c,this._contentDispositionFilename=d,l?.length>0){const h=l instanceof Uint8Array&&l.byteLength===l.buffer.byteLength?l.buffer:new Uint8Array(l).buffer;this._queuedChunks.push(h)}this._pdfDataRangeTransport=t,this._isStreamingSupported=!n,this._isRangeSupported=!e,this._contentLength=s,this._fullRequestReader=null,this._rangeReaders=[],t.addRangeListener((h,f)=>{this._onReceiveData({begin:h,chunk:f})}),t.addProgressListener((h,f)=>{this._onProgress({loaded:h,total:f})}),t.addProgressiveReadListener(h=>{this._onReceiveData({chunk:h})}),t.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),t.transportReady()}_onReceiveData({begin:t,chunk:e}){const n=e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength?e.buffer:new Uint8Array(e).buffer;if(t===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(n):this._queuedChunks.push(n);else{const s=this._rangeReaders.some(function(l){return l._begin!==t?!1:(l._enqueue(n),!0)});me(s,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(t){t.total===void 0?this._rangeReaders[0]?.onProgress?.({loaded:t.loaded}):this._fullRequestReader?.onProgress?.({loaded:t.loaded,total:t.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(t){const e=this._rangeReaders.indexOf(t);e>=0&&this._rangeReaders.splice(e,1)}getFullReader(){me(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const t=this._queuedChunks;return this._queuedChunks=null,new hT(this,t,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=new fT(this,t,e);return this._pdfDataRangeTransport.requestDataRange(t,e),this._rangeReaders.push(n),n}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeReaders.slice(0))e.cancel(t);this._pdfDataRangeTransport.abort()}}class hT{constructor(t,e,n=!1,s=null){this._stream=t,this._done=n||!1,this._filename=Cc(s)?s:null,this._queuedChunks=e||[],this._loaded=0;for(const l of this._queuedChunks)this._loaded+=l.byteLength;this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}_enqueue(t){this._done||(this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunks.push(t),this._loaded+=t.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class fT{constructor(t,e,n){this._stream=t,this._begin=e,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(t){if(!this._done){if(this._requests.length===0)this._queuedChunk=t;else{this._requests.shift().resolve({value:t,done:!1});for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function pT(o){let t=!0,e=n("filename\\*","i").exec(o);if(e){e=e[1];let m=d(e);return m=unescape(m),m=h(m),m=f(m),l(m)}if(e=c(o),e){const m=f(e);return l(m)}if(e=n("filename","i").exec(o),e){e=e[1];let m=d(e);return m=f(m),l(m)}function n(m,v){return new RegExp("(?:^|;)\\s*"+m+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',v)}function s(m,v){if(m){if(!/^[\x00-\xFF]+$/.test(v))return v;try{const y=new TextDecoder(m,{fatal:!0}),b=vo(v);v=y.decode(b),t=!1}catch{}}return v}function l(m){return t&&/[\x80-\xff]/.test(m)&&(m=s("utf-8",m),t&&(m=s("iso-8859-1",m))),m}function c(m){const v=[];let y;const b=n("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(y=b.exec(m))!==null;){let[,A,T,E]=y;if(A=parseInt(A,10),A in v){if(A===0)break;continue}v[A]=[T,E]}const x=[];for(let A=0;A<v.length&&A in v;++A){let[T,E]=v[A];E=d(E),T&&(E=unescape(E),A===0&&(E=h(E))),x.push(E)}return x.join("")}function d(m){if(m.startsWith('"')){const v=m.slice(1).split('\\"');for(let y=0;y<v.length;++y){const b=v[y].indexOf('"');b!==-1&&(v[y]=v[y].slice(0,b),v.length=y+1),v[y]=v[y].replaceAll(/\\(.)/g,"$1")}m=v.join('"')}return m}function h(m){const v=m.indexOf("'");if(v===-1)return m;const y=m.slice(0,v),x=m.slice(v+1).replace(/^[^']*'/,"");return s(y,x)}function f(m){return!m.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(m)?m:m.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(v,y,b,x){if(b==="q"||b==="Q")return x=x.replaceAll("_"," "),x=x.replaceAll(/=([0-9a-fA-F]{2})/g,function(A,T){return String.fromCharCode(parseInt(T,16))}),s(y,x);try{x=atob(x)}catch{}return s(y,x)})}return""}function b0(o,t){const e=new Headers;if(!o||!t||typeof t!="object")return e;for(const n in t){const s=t[n];s!==void 0&&e.append(n,s)}return e}function Rc(o){return URL.parse(o)?.origin??null}function x0({responseHeaders:o,isHttp:t,rangeChunkSize:e,disableRange:n}){const s={allowRangeRequests:!1,suggestedLength:void 0},l=parseInt(o.get("Content-Length"),10);return!Number.isInteger(l)||(s.suggestedLength=l,l<=2*e)||n||!t||o.get("Accept-Ranges")!=="bytes"||(o.get("Content-Encoding")||"identity")!=="identity"||(s.allowRangeRequests=!0),s}function A0(o){const t=o.get("Content-Disposition");if(t){let e=pT(t);if(e.includes("%"))try{e=decodeURIComponent(e)}catch{}if(Cc(e))return e}return null}function wo(o,t){return new oo(`Unexpected server response (${o}) while retrieving PDF "${t}".`,o,o===404||o===0&&t.startsWith("file:"))}function w0(o){return o===200||o===206}function S0(o,t,e){return{method:"GET",headers:o,signal:e.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function E0(o){return o instanceof Uint8Array?o.buffer:o instanceof ArrayBuffer?o:(St(`getArrayBuffer - unexpected data format: ${o}`),new Uint8Array(o).buffer)}class mT{_responseOrigin=null;constructor(t){this.source=t,this.isHttp=/^https?:/i.test(t.url),this.headers=b0(this.isHttp,t.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return me(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new gT(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=new vT(this,t,e);return this._rangeRequestReaders.push(n),n}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeRequestReaders.slice(0))e.cancel(t)}}class gT{constructor(t){this._stream=t,this._reader=null,this._loaded=0,this._filename=null;const e=t.source;this._withCredentials=e.withCredentials||!1,this._contentLength=e.length,this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange;const n=new Headers(t.headers),s=e.url;fetch(s,S0(n,this._withCredentials,this._abortController)).then(l=>{if(t._responseOrigin=Rc(l.url),!w0(l.status))throw wo(l.status,s);this._reader=l.body.getReader(),this._headersCapability.resolve();const c=l.headers,{allowRangeRequests:d,suggestedLength:h}=x0({responseHeaders:c,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=d,this._contentLength=h||this._contentLength,this._filename=A0(c),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new En("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:E0(t),done:!1})}cancel(t){this._reader?.cancel(t),this._abortController.abort()}}class vT{constructor(t,e,n){this._stream=t,this._reader=null,this._loaded=0;const s=t.source;this._withCredentials=s.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!s.disableStream,this._abortController=new AbortController;const l=new Headers(t.headers);l.append("Range",`bytes=${e}-${n-1}`);const c=s.url;fetch(c,S0(l,this._withCredentials,this._abortController)).then(d=>{const h=Rc(d.url);if(h!==t._responseOrigin)throw new Error(`Expected range response-origin "${h}" to match "${t._responseOrigin}".`);if(!w0(d.status))throw wo(d.status,c);this._readCapability.resolve(),this._reader=d.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,this.onProgress?.({loaded:this._loaded}),{value:E0(t),done:!1})}cancel(t){this._reader?.cancel(t),this._abortController.abort()}}const mh=200,gh=206;function yT(o){const t=o.response;return typeof t!="string"?t:vo(t).buffer}class bT{_responseOrigin=null;constructor({url:t,httpHeaders:e,withCredentials:n}){this.url=t,this.isHttp=/^https?:/i.test(t),this.headers=b0(this.isHttp,e),this.withCredentials=n||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(t){const e=new XMLHttpRequest,n=this.currXhrId++,s=this.pendingRequests[n]={xhr:e};e.open("GET",this.url),e.withCredentials=this.withCredentials;for(const[l,c]of this.headers)e.setRequestHeader(l,c);return this.isHttp&&"begin"in t&&"end"in t?(e.setRequestHeader("Range",`bytes=${t.begin}-${t.end-1}`),s.expectedStatus=gh):s.expectedStatus=mh,e.responseType="arraybuffer",me(t.onError,"Expected `onError` callback to be provided."),e.onerror=()=>{t.onError(e.status)},e.onreadystatechange=this.onStateChange.bind(this,n),e.onprogress=this.onProgress.bind(this,n),s.onHeadersReceived=t.onHeadersReceived,s.onDone=t.onDone,s.onError=t.onError,s.onProgress=t.onProgress,e.send(null),n}onProgress(t,e){const n=this.pendingRequests[t];n&&n.onProgress?.(e)}onStateChange(t,e){const n=this.pendingRequests[t];if(!n)return;const s=n.xhr;if(s.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),s.readyState!==4||!(t in this.pendingRequests))return;if(delete this.pendingRequests[t],s.status===0&&this.isHttp){n.onError(s.status);return}const l=s.status||mh;if(!(l===mh&&n.expectedStatus===gh)&&l!==n.expectedStatus){n.onError(s.status);return}const d=yT(s);if(l===gh){const h=s.getResponseHeader("Content-Range"),f=/bytes (\d+)-(\d+)\/(\d+)/.exec(h);f?n.onDone({begin:parseInt(f[1],10),chunk:d}):(St('Missing or invalid "Content-Range" header.'),n.onError(0))}else d?n.onDone({begin:0,chunk:d}):n.onError(s.status)}getRequestXhr(t){return this.pendingRequests[t].xhr}isPendingRequest(t){return t in this.pendingRequests}abortRequest(t){const e=this.pendingRequests[t].xhr;delete this.pendingRequests[t],e.abort()}}class xT{constructor(t){this._source=t,this._manager=new bT(t),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(t){const e=this._rangeRequestReaders.indexOf(t);e>=0&&this._rangeRequestReaders.splice(e,1)}getFullReader(){return me(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new AT(this._manager,this._source),this._fullRequestReader}getRangeReader(t,e){const n=new wT(this._manager,t,e);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeRequestReaders.slice(0))e.cancel(t)}}class AT{constructor(t,e){this._manager=t,this._url=e.url,this._fullRequestId=t.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._contentLength=e.length,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const t=this._fullRequestId,e=this._manager.getRequestXhr(t);this._manager._responseOrigin=Rc(e.responseURL);const n=e.getAllResponseHeaders(),s=new Headers(n?n.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(d=>{const[h,...f]=d.split(": ");return[h,f.join(": ")]}):[]),{allowRangeRequests:l,suggestedLength:c}=x0({responseHeaders:s,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});l&&(this._isRangeSupported=!0),this._contentLength=c||this._contentLength,this._filename=A0(s),this._isRangeSupported&&this._manager.abortRequest(t),this._headersCapability.resolve()}_onDone(t){if(t&&(this._requests.length>0?this._requests.shift().resolve({value:t.chunk,done:!1}):this._cachedChunks.push(t.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(t){this._storedError=wo(t,this._url),this._headersCapability.reject(this._storedError);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(t){this.onProgress?.({loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0,this._headersCapability.reject(t);for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class wT{constructor(t,e,n){this._manager=t,this._url=t.url,this._requestId=t.request({begin:e,end:n,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){const t=Rc(this._manager.getRequestXhr(this._requestId)?.responseURL);t!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${t}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){this.onClosed?.(this)}_onDone(t){const e=t.chunk;this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunk=e,this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(t){this._storedError??=wo(t,this._url);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(t){this.isStreamingSupported||this.onProgress?.({loaded:t.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const ST=/^[a-z][a-z0-9\-+.]+:/i;function ET(o){if(ST.test(o))return new URL(o);const t=process.getBuiltinModule("url");return new URL(t.pathToFileURL(o))}class _T{constructor(t){this.source=t,this.url=ET(t.url),me(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return me(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new TT(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=new CT(this,t,e);return this._rangeRequestReaders.push(n),n}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeRequestReaders.slice(0))e.cancel(t)}}class TT{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;const e=t.source;this._contentLength=e.length,this._loaded=0,this._filename=null,this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const n=process.getBuiltinModule("fs");n.promises.lstat(this._url).then(s=>{this._contentLength=s.size,this._setReadableStream(n.createReadStream(this._url)),this._headersCapability.resolve()},s=>{s.code==="ENOENT"&&(s=wo(0,this._url.href)),this._storedError=s,this._headersCapability.reject(s)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new En("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class CT{constructor(t,e,n){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const s=t.source;this._isStreamingSupported=!s.disableStream;const l=process.getBuiltinModule("fs");this._setReadableStream(l.createReadStream(this._url,{start:e,end:n-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,this.onProgress?.({loaded:this._loaded}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const Vr=Symbol("INITIAL_DATA");class _0{#t=Object.create(null);#e(t){return this.#t[t]||={...Promise.withResolvers(),data:Vr}}get(t,e=null){if(e){const s=this.#e(t);return s.promise.then(()=>e(s.data)),null}const n=this.#t[t];if(!n||n.data===Vr)throw new Error(`Requesting object that isn't resolved yet ${t}.`);return n.data}has(t){const e=this.#t[t];return!!e&&e.data!==Vr}delete(t){const e=this.#t[t];return!e||e.data===Vr?!1:(delete this.#t[t],!0)}resolve(t,e=null){const n=this.#e(t);n.data=e,n.resolve()}clear(){for(const t in this.#t){const{data:e}=this.#t[t];e?.bitmap?.close()}this.#t=Object.create(null)}*[Symbol.iterator](){for(const t in this.#t){const{data:e}=this.#t[t];e!==Vr&&(yield[t,e])}}}const RT=1e5,Ey=30;class ze{#t=Promise.withResolvers();#e=null;#i=!1;#n=!!globalThis.FontInspector?.enabled;#s=null;#a=null;#l=0;#o=0;#d=null;#c=null;#h=0;#u=0;#f=Object.create(null);#r=[];#p=null;#g=[];#m=new WeakMap;#v=null;static#y=new Map;static#b=new Map;static#A=new WeakMap;static#S=null;static#_=new Set;constructor({textContentSource:t,container:e,viewport:n}){if(t instanceof ReadableStream)this.#p=t;else if(typeof t=="object")this.#p=new ReadableStream({start(h){h.enqueue(t),h.close()}});else throw new Error('No "textContentSource" parameter specified.');this.#e=this.#c=e,this.#u=n.scale*Oi.pixelRatio,this.#h=n.rotation,this.#a={div:null,properties:null,ctx:null};const{pageWidth:s,pageHeight:l,pageX:c,pageY:d}=n.rawDims;this.#v=[1,0,0,-1,-c,d+l],this.#o=s,this.#l=l,ze.#N(),ia(e,n),this.#t.promise.finally(()=>{ze.#_.delete(this),this.#a=null,this.#f=null}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:t,isFirefox:e}=_e.platform;return Nt(this,"fontFamilyMap",new Map([["sans-serif",`${t&&e?"Calibri, ":""}sans-serif`],["monospace",`${t&&e?"Lucida Console, ":""}monospace`]]))}render(){const t=()=>{this.#d.read().then(({value:e,done:n})=>{if(n){this.#t.resolve();return}this.#s??=e.lang,Object.assign(this.#f,e.styles),this.#C(e.items),t()},this.#t.reject)};return this.#d=this.#p.getReader(),ze.#_.add(this),t(),this.#t.promise}update({viewport:t,onBefore:e=null}){const n=t.scale*Oi.pixelRatio,s=t.rotation;if(s!==this.#h&&(e?.(),this.#h=s,ia(this.#c,{rotation:s})),n!==this.#u){e?.(),this.#u=n;const l={div:null,properties:null,ctx:ze.#R(this.#s)};for(const c of this.#g)l.properties=this.#m.get(c),l.div=c,this.#w(l)}}cancel(){const t=new En("TextLayer task cancelled.");this.#d?.cancel(t).catch(()=>{}),this.#d=null,this.#t.reject(t)}get textDivs(){return this.#g}get textContentItemsStr(){return this.#r}#C(t){if(this.#i)return;this.#a.ctx??=ze.#R(this.#s);const e=this.#g,n=this.#r;for(const s of t){if(e.length>RT){St("Ignoring additional textDivs for performance reasons."),this.#i=!0;return}if(s.str===void 0){if(s.type==="beginMarkedContentProps"||s.type==="beginMarkedContent"){const l=this.#e;this.#e=document.createElement("span"),this.#e.classList.add("markedContent"),s.id!==null&&this.#e.setAttribute("id",`${s.id}`),l.append(this.#e)}else s.type==="endMarkedContent"&&(this.#e=this.#e.parentNode);continue}n.push(s.str),this.#D(s)}}#D(t){const e=document.createElement("span"),n={angle:0,canvasWidth:0,hasText:t.str!=="",hasEOL:t.hasEOL,fontSize:0};this.#g.push(e);const s=ct.transform(this.#v,t.transform);let l=Math.atan2(s[1],s[0]);const c=this.#f[t.fontName];c.vertical&&(l+=Math.PI/2);let d=this.#n&&c.fontSubstitution||c.fontFamily;d=ze.fontFamilyMap.get(d)||d;const h=Math.hypot(s[2],s[3]),f=h*ze.#O(d,c,this.#s);let m,v;l===0?(m=s[4],v=s[5]-f):(m=s[4]+f*Math.sin(l),v=s[5]-f*Math.cos(l));const y="calc(var(--total-scale-factor) *",b=e.style;this.#e===this.#c?(b.left=`${(100*m/this.#o).toFixed(2)}%`,b.top=`${(100*v/this.#l).toFixed(2)}%`):(b.left=`${y}${m.toFixed(2)}px)`,b.top=`${y}${v.toFixed(2)}px)`),b.fontSize=`${y}${(ze.#S*h).toFixed(2)}px)`,b.fontFamily=d,n.fontSize=h,e.setAttribute("role","presentation"),e.textContent=t.str,e.dir=t.dir,this.#n&&(e.dataset.fontName=c.fontSubstitutionLoadedName||t.fontName),l!==0&&(n.angle=l*(180/Math.PI));let x=!1;if(t.str.length>1)x=!0;else if(t.str!==" "&&t.transform[0]!==t.transform[3]){const A=Math.abs(t.transform[0]),T=Math.abs(t.transform[3]);A!==T&&Math.max(A,T)/Math.min(A,T)>1.5&&(x=!0)}if(x&&(n.canvasWidth=c.vertical?t.height:t.width),this.#m.set(e,n),this.#a.div=e,this.#a.properties=n,this.#w(this.#a),n.hasText&&this.#e.append(e),n.hasEOL){const A=document.createElement("br");A.setAttribute("role","presentation"),this.#e.append(A)}}#w(t){const{div:e,properties:n,ctx:s}=t,{style:l}=e;let c="";if(ze.#S>1&&(c=`scale(${1/ze.#S})`),n.canvasWidth!==0&&n.hasText){const{fontFamily:d}=l,{canvasWidth:h,fontSize:f}=n;ze.#T(s,f*this.#u,d);const{width:m}=s.measureText(e.textContent);m>0&&(c=`scaleX(${h*this.#u/m}) ${c}`)}n.angle!==0&&(c=`rotate(${n.angle}deg) ${c}`),c.length>0&&(l.transform=c)}static cleanup(){if(!(this.#_.size>0)){this.#y.clear();for(const{canvas:t}of this.#b.values())t.remove();this.#b.clear()}}static#R(t=null){let e=this.#b.get(t||="");if(!e){const n=document.createElement("canvas");n.className="hiddenCanvasElement",n.lang=t,document.body.append(n),e=n.getContext("2d",{alpha:!1,willReadFrequently:!0}),this.#b.set(t,e),this.#A.set(e,{size:0,family:""})}return e}static#T(t,e,n){const s=this.#A.get(t);e===s.size&&n===s.family||(t.font=`${e}px ${n}`,s.size=e,s.family=n)}static#N(){if(this.#S!==null)return;const t=document.createElement("div");t.style.opacity=0,t.style.lineHeight=1,t.style.fontSize="1px",t.style.position="absolute",t.textContent="X",document.body.append(t),this.#S=t.getBoundingClientRect().height,t.remove()}static#O(t,e,n){const s=this.#y.get(t);if(s)return s;const l=this.#R(n);l.canvas.width=l.canvas.height=Ey,this.#T(l,Ey,t);const c=l.measureText(""),d=c.fontBoundingBoxAscent,h=Math.abs(c.fontBoundingBoxDescent);l.canvas.width=l.canvas.height=0;let f=.8;return d?f=d/(d+h):(_e.platform.isFirefox&&St("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),e.ascent?f=e.ascent:e.descent&&(f=1+e.descent)),this.#y.set(t,f),f}}class lo{static textContent(t){const e=[],n={items:e,styles:Object.create(null)};function s(l){if(!l)return;let c=null;const d=l.name;if(d==="#text")c=l.value;else if(lo.shouldBuildText(d))l?.attributes?.textContent?c=l.attributes.textContent:l.value&&(c=l.value);else return;if(c!==null&&e.push({str:c}),!!l.children)for(const h of l.children)s(h)}return s(t),n}static shouldBuildText(t){return!(t==="textarea"||t==="input"||t==="option"||t==="select")}}const DT=100;function T0(o={}){typeof o=="string"||o instanceof URL?o={url:o}:(o instanceof ArrayBuffer||ArrayBuffer.isView(o))&&(o={data:o});const t=new bf,{docId:e}=t,n=o.url?F_(o.url):null,s=o.data?B_(o.data):null,l=o.httpHeaders||null,c=o.withCredentials===!0,d=o.password??null,h=o.range instanceof xf?o.range:null,f=Number.isInteger(o.rangeChunkSize)&&o.rangeChunkSize>0?o.rangeChunkSize:2**16;let m=o.worker instanceof js?o.worker:null;const v=o.verbosity,y=typeof o.docBaseUrl=="string"&&!bo(o.docBaseUrl)?o.docBaseUrl:null,b=Gl(o.cMapUrl),x=o.cMapPacked!==!1,A=o.CMapReaderFactory||(Ue?Y_:hy),T=Gl(o.iccUrl),E=Gl(o.standardFontDataUrl),M=o.StandardFontDataFactory||(Ue?X_:fy),R=Gl(o.wasmUrl),N=o.WasmFactory||(Ue?K_:py),D=o.stopAtErrors!==!0,L=Number.isInteger(o.maxImageSize)&&o.maxImageSize>-1?o.maxImageSize:-1,z=o.isEvalSupported!==!1,q=typeof o.isOffscreenCanvasSupported=="boolean"?o.isOffscreenCanvasSupported:!Ue,$=typeof o.isImageDecoderSupported=="boolean"?o.isImageDecoderSupported:!Ue&&(_e.platform.isFirefox||!globalThis.chrome),W=Number.isInteger(o.canvasMaxAreaInBytes)?o.canvasMaxAreaInBytes:-1,J=typeof o.disableFontFace=="boolean"?o.disableFontFace:Ue,nt=o.fontExtraProperties===!0,dt=o.enableXfa===!0,at=o.ownerDocument||globalThis.document,ht=o.disableRange===!0,P=o.disableStream===!0,G=o.disableAutoFetch===!0,tt=o.pdfBug===!0,ut=o.CanvasFactory||(Ue?V_:G_),k=o.FilterFactory||(Ue?$_:q_),Y=o.enableHWA===!0,Z=o.useWasm!==!1,Q=h?h.length:o.length??NaN,et=typeof o.useSystemFonts=="boolean"?o.useSystemFonts:!Ue&&!J,ft=typeof o.useWorkerFetch=="boolean"?o.useWorkerFetch:!!(A===hy&&M===fy&&N===py&&b&&E&&R&&Wr(b,document.baseURI)&&Wr(E,document.baseURI)&&Wr(R,document.baseURI)),ot=null;A_(v);const _t={canvasFactory:new ut({ownerDocument:at,enableHWA:Y}),filterFactory:new k({docId:e,ownerDocument:at}),cMapReaderFactory:ft?null:new A({baseUrl:b,isCompressed:x}),standardFontDataFactory:ft?null:new M({baseUrl:E}),wasmFactory:ft?null:new N({baseUrl:R})};m||(m=js.create({verbosity:v,port:Na.workerPort}),t._worker=m);const Lt={docId:e,apiVersion:"5.3.31",data:s,password:d,disableAutoFetch:G,rangeChunkSize:f,length:Q,docBaseUrl:y,enableXfa:dt,evaluatorOptions:{maxImageSize:L,disableFontFace:J,ignoreErrors:D,isEvalSupported:z,isOffscreenCanvasSupported:q,isImageDecoderSupported:$,canvasMaxAreaInBytes:W,fontExtraProperties:nt,useSystemFonts:et,useWasm:Z,useWorkerFetch:ft,cMapUrl:b,iccUrl:T,standardFontDataUrl:E,wasmUrl:R}},Te={ownerDocument:at,pdfBug:tt,styleElement:ot,loadingParams:{disableAutoFetch:G,enableXfa:dt}};return m.promise.then(function(){if(t.destroyed)throw new Error("Loading aborted");if(m.destroyed)throw new Error("Worker was destroyed");const Ve=m.messageHandler.sendWithPromise("GetDocRequest",Lt,s?[s.buffer]:null);let Fe;if(h)Fe=new dT(h,{disableRange:ht,disableStream:P});else if(!s){if(!n)throw new Error("getDocument - no `url` parameter provided.");const Ce=Wr(n)?mT:Ue?_T:xT;Fe=new Ce({url:n,length:Q,httpHeaders:l,withCredentials:c,rangeChunkSize:f,disableRange:ht,disableStream:P})}return Ve.then(Ce=>{if(t.destroyed)throw new Error("Loading aborted");if(m.destroyed)throw new Error("Worker was destroyed");const ii=new Qr(e,Ce,m.port),ni=new OT(ii,t,Fe,Te,_t);t._transport=ni,ii.send("Ready",null)})}).catch(t._capability.reject),t}class bf{static#t=0;_capability=Promise.withResolvers();_transport=null;_worker=null;docId=`d${bf.#t++}`;destroyed=!1;onPassword=null;onProgress=null;get promise(){return this._capability.promise}async destroy(){this.destroyed=!0;try{this._worker?.port&&(this._worker._pendingDestroy=!0),await this._transport?.destroy()}catch(t){throw this._worker?.port&&delete this._worker._pendingDestroy,t}this._transport=null,this._worker?.destroy(),this._worker=null}async getData(){return this._transport.getData()}}class xf{#t=Promise.withResolvers();#e=[];#i=[];#n=[];#s=[];constructor(t,e,n=!1,s=null){this.length=t,this.initialData=e,this.progressiveDone=n,this.contentDispositionFilename=s}addRangeListener(t){this.#s.push(t)}addProgressListener(t){this.#n.push(t)}addProgressiveReadListener(t){this.#i.push(t)}addProgressiveDoneListener(t){this.#e.push(t)}onDataRange(t,e){for(const n of this.#s)n(t,e)}onDataProgress(t,e){this.#t.promise.then(()=>{for(const n of this.#n)n(t,e)})}onDataProgressiveRead(t){this.#t.promise.then(()=>{for(const e of this.#i)e(t)})}onDataProgressiveDone(){this.#t.promise.then(()=>{for(const t of this.#e)t()})}transportReady(){this.#t.resolve()}requestDataRange(t,e){qt("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class MT{constructor(t,e){this._pdfInfo=t,this._transport=e}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Nt(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(t){return this._transport.getPage(t)}getPageIndex(t){return this._transport.getPageIndex(t)}getDestinations(){return this._transport.getDestinations()}getDestination(t){return this._transport.getDestination(t)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getOptionalContentConfig(e)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(t=!1){return this._transport.startCleanup(t||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(t){return this._transport.cachedPageNumber(t)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}class NT{#t=!1;constructor(t,e,n,s=!1){this._pageIndex=t,this._pageInfo=e,this._transport=n,this._stats=s?new cy:null,this._pdfBug=s,this.commonObjs=n.commonObjs,this.objs=new _0,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:t,rotation:e=this.rotate,offsetX:n=0,offsetY:s=0,dontFlip:l=!1}={}){return new yo({viewBox:this.view,userUnit:this.userUnit,scale:t,rotation:e,offsetX:n,offsetY:s,dontFlip:l})}getAnnotations({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getAnnotations(this._pageIndex,e)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Nt(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){return this._transport._htmlForXfa?.children[this._pageIndex]||null}render({canvasContext:t,viewport:e,intent:n="display",annotationMode:s=bn.ENABLE,transform:l=null,background:c=null,optionalContentConfigPromise:d=null,annotationCanvasMap:h=null,pageColors:f=null,printAnnotationStorage:m=null,isEditing:v=!1}){this._stats?.time("Overall");const y=this._transport.getRenderingIntent(n,s,m,v),{renderingIntent:b,cacheKey:x}=y;this.#t=!1,d||=this._transport.getOptionalContentConfig(b);let A=this._intentStates.get(x);A||(A=Object.create(null),this._intentStates.set(x,A)),A.streamReaderCancelTimeout&&(clearTimeout(A.streamReaderCancelTimeout),A.streamReaderCancelTimeout=null);const T=!!(b&di.PRINT);A.displayReadyCapability||(A.displayReadyCapability=Promise.withResolvers(),A.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(y));const E=N=>{A.renderTasks.delete(M),T&&(this.#t=!0),this.#e(),N?(M.capability.reject(N),this._abortOperatorList({intentState:A,reason:N instanceof Error?N:new Error(N)})):M.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),globalThis.Stats?.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},M=new Ns({callback:E,params:{canvasContext:t,viewport:e,transform:l,background:c},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:h,operatorList:A.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!T,pdfBug:this._pdfBug,pageColors:f});(A.renderTasks||=new Set).add(M);const R=M.task;return Promise.all([A.displayReadyCapability.promise,d]).then(([N,D])=>{if(this.destroyed){E();return}if(this._stats?.time("Rendering"),!(D.renderingIntent&b))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");M.initializeGraphics({transparency:N,optionalContentConfig:D}),M.operatorListChanged()}).catch(E),R}getOperatorList({intent:t="display",annotationMode:e=bn.ENABLE,printAnnotationStorage:n=null,isEditing:s=!1}={}){function l(){d.operatorList.lastChunk&&(d.opListReadCapability.resolve(d.operatorList),d.renderTasks.delete(h))}const c=this._transport.getRenderingIntent(t,e,n,s,!0);let d=this._intentStates.get(c.cacheKey);d||(d=Object.create(null),this._intentStates.set(c.cacheKey,d));let h;return d.opListReadCapability||(h=Object.create(null),h.operatorListChanged=l,d.opListReadCapability=Promise.withResolvers(),(d.renderTasks||=new Set).add(h),d.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(c)),d.opListReadCapability.promise}streamTextContent({includeMarkedContent:t=!1,disableNormalization:e=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:t===!0,disableNormalization:e===!0},{highWaterMark:100,size(s){return s.items.length}})}getTextContent(t={}){if(this._transport._htmlForXfa)return this.getXfa().then(n=>lo.textContent(n));const e=this.streamTextContent(t);return new Promise(function(n,s){function l(){c.read().then(function({value:h,done:f}){if(f){n(d);return}d.lang??=h.lang,Object.assign(d.styles,h.styles),d.items.push(...h.items),l()},s)}const c=e.getReader(),d={items:[],styles:Object.create(null),lang:null};l()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const t=[];for(const e of this._intentStates.values())if(this._abortOperatorList({intentState:e,reason:new Error("Page was destroyed."),force:!0}),!e.opListReadCapability)for(const n of e.renderTasks)t.push(n.completed),n.cancel();return this.objs.clear(),this.#t=!1,Promise.all(t)}cleanup(t=!1){this.#t=!0;const e=this.#e();return t&&e&&(this._stats&&=new cy),e}#e(){if(!this.#t||this.destroyed)return!1;for(const{renderTasks:t,operatorList:e}of this._intentStates.values())if(t.size>0||!e.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#t=!1,!0}_startRenderPage(t,e){const n=this._intentStates.get(e);n&&(this._stats?.timeEnd("Page Request"),n.displayReadyCapability?.resolve(t))}_renderPageChunk(t,e){for(let n=0,s=t.length;n<s;n++)e.operatorList.fnArray.push(t.fnArray[n]),e.operatorList.argsArray.push(t.argsArray[n]);e.operatorList.lastChunk=t.lastChunk,e.operatorList.separateAnnots=t.separateAnnots;for(const n of e.renderTasks)n.operatorListChanged();t.lastChunk&&this.#e()}_pumpOperatorList({renderingIntent:t,cacheKey:e,annotationStorageSerializable:n,modifiedIds:s}){const{map:l,transfer:c}=n,h=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:t,cacheKey:e,annotationStorage:l,modifiedIds:s},c).getReader(),f=this._intentStates.get(e);f.streamReader=h;const m=()=>{h.read().then(({value:v,done:y})=>{if(y){f.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(v,f),m())},v=>{if(f.streamReader=null,!this._transport.destroyed){if(f.operatorList){f.operatorList.lastChunk=!0;for(const y of f.renderTasks)y.operatorListChanged();this.#e()}if(f.displayReadyCapability)f.displayReadyCapability.reject(v);else if(f.opListReadCapability)f.opListReadCapability.reject(v);else throw v}})};m()}_abortOperatorList({intentState:t,reason:e,force:n=!1}){if(t.streamReader){if(t.streamReaderCancelTimeout&&(clearTimeout(t.streamReaderCancelTimeout),t.streamReaderCancelTimeout=null),!n){if(t.renderTasks.size>0)return;if(e instanceof Tc){let s=DT;e.extraDelay>0&&e.extraDelay<1e3&&(s+=e.extraDelay),t.streamReaderCancelTimeout=setTimeout(()=>{t.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:t,reason:e,force:!0})},s);return}}if(t.streamReader.cancel(new En(e.message)).catch(()=>{}),t.streamReader=null,!this._transport.destroyed){for(const[s,l]of this._intentStates)if(l===t){this._intentStates.delete(s);break}this.cleanup()}}}get stats(){return this._stats}}var ea,Mi,gn,Ra,fc,Da,Ma,Ge,Zl,C0,R0,Zr,ks,Jl;const Qt=class Qt{constructor({name:t=null,port:e=null,verbosity:n=w_()}={}){Fi(this,Ge);Fi(this,ea,Promise.withResolvers());Fi(this,Mi,null);Fi(this,gn,null);Fi(this,Ra,null);if(this.name=t,this.destroyed=!1,this.verbosity=n,e){if(Wt(Qt,Ma).has(e))throw new Error("Cannot use more than one PDFWorker per port.");Wt(Qt,Ma).set(e,this),Bi(this,Ge,C0).call(this,e)}else Bi(this,Ge,R0).call(this)}get promise(){return Wt(this,ea).promise}get port(){return Wt(this,gn)}get messageHandler(){return Wt(this,Mi)}destroy(){this.destroyed=!0,Wt(this,Ra)?.terminate(),Ze(this,Ra,null),Wt(Qt,Ma).delete(Wt(this,gn)),Ze(this,gn,null),Wt(this,Mi)?.destroy(),Ze(this,Mi,null)}static create(t){const e=Wt(this,Ma).get(t?.port);if(e){if(e._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return e}return new Qt(t)}static get workerSrc(){if(Na.workerSrc)return Na.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Nt(this,"_setupFakeWorkerGlobal",(async()=>Wt(this,ks,Jl)?Wt(this,ks,Jl):(await import(this.workerSrc)).WorkerMessageHandler)())}};ea=new WeakMap,Mi=new WeakMap,gn=new WeakMap,Ra=new WeakMap,fc=new WeakMap,Da=new WeakMap,Ma=new WeakMap,Ge=new WeakSet,Zl=function(){Wt(this,ea).resolve(),Wt(this,Mi).send("configure",{verbosity:this.verbosity})},C0=function(t){Ze(this,gn,t),Ze(this,Mi,new Qr("main","worker",t)),Wt(this,Mi).on("ready",()=>{}),Bi(this,Ge,Zl).call(this)},R0=function(){if(Wt(Qt,Da)||Wt(Qt,ks,Jl)){Bi(this,Ge,Zr).call(this);return}let{workerSrc:t}=Qt;try{Qt._isSameOrigin(window.location,t)||(t=Qt._createCDNWrapper(new URL(t,window.location).href));const e=new Worker(t,{type:"module"}),n=new Qr("main","worker",e),s=()=>{l.abort(),n.destroy(),e.terminate(),this.destroyed?Wt(this,ea).reject(new Error("Worker was destroyed")):Bi(this,Ge,Zr).call(this)},l=new AbortController;e.addEventListener("error",()=>{Wt(this,Ra)||s()},{signal:l.signal}),n.on("test",d=>{if(l.abort(),this.destroyed||!d){s();return}Ze(this,Mi,n),Ze(this,gn,e),Ze(this,Ra,e),Bi(this,Ge,Zl).call(this)}),n.on("ready",d=>{if(l.abort(),this.destroyed){s();return}try{c()}catch{Bi(this,Ge,Zr).call(this)}});const c=()=>{const d=new Uint8Array;n.send("test",d,[d.buffer])};c();return}catch{_c("The worker has been disabled.")}Bi(this,Ge,Zr).call(this)},Zr=function(){Wt(Qt,Da)||(St("Setting up fake worker."),Ze(Qt,Da,!0)),Qt._setupFakeWorkerGlobal.then(t=>{if(this.destroyed){Wt(this,ea).reject(new Error("Worker was destroyed"));return}const e=new U_;Ze(this,gn,e);const n=`fake${mv(Qt,fc)._++}`,s=new Qr(n+"_worker",n,e);t.setup(s,e),Ze(this,Mi,new Qr(n,n+"_worker",e)),Bi(this,Ge,Zl).call(this)}).catch(t=>{Wt(this,ea).reject(new Error(`Setting up fake worker failed: "${t.message}".`))})},ks=new WeakSet,Jl=function(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}},Fi(Qt,ks),Fi(Qt,fc,0),Fi(Qt,Da,!1),Fi(Qt,Ma,new WeakMap),Ue&&(Ze(Qt,Da,!0),Na.workerSrc||="./pdf.worker.mjs"),Qt._isSameOrigin=(t,e)=>{const n=URL.parse(t);if(!n?.origin||n.origin==="null")return!1;const s=new URL(e,n);return n.origin===s.origin},Qt._createCDNWrapper=t=>{const e=`await import("${t}");`;return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))},Qt.fromPort=t=>{if(N_("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!t?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return Qt.create(t)};let js=Qt;class OT{#t=new Map;#e=new Map;#i=new Map;#n=new Map;#s=null;constructor(t,e,n,s,l){this.messageHandler=t,this.loadingTask=e,this.commonObjs=new _0,this.fontLoader=new z_({ownerDocument:s.ownerDocument,styleElement:s.styleElement}),this.loadingParams=s.loadingParams,this._params=s,this.canvasFactory=l.canvasFactory,this.filterFactory=l.filterFactory,this.cMapReaderFactory=l.cMapReaderFactory,this.standardFontDataFactory=l.standardFontDataFactory,this.wasmFactory=l.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}#a(t,e=null){const n=this.#t.get(t);if(n)return n;const s=this.messageHandler.sendWithPromise(t,e);return this.#t.set(t,s),s}get annotationStorage(){return Nt(this,"annotationStorage",new mf)}getRenderingIntent(t,e=bn.ENABLE,n=null,s=!1,l=!1){let c=di.DISPLAY,d=Mh;switch(t){case"any":c=di.ANY;break;case"display":break;case"print":c=di.PRINT;break;default:St(`getRenderingIntent - invalid intent: ${t}`)}const h=c&di.PRINT&&n instanceof h0?n:this.annotationStorage;switch(e){case bn.DISABLE:c+=di.ANNOTATIONS_DISABLE;break;case bn.ENABLE:break;case bn.ENABLE_FORMS:c+=di.ANNOTATIONS_FORMS;break;case bn.ENABLE_STORAGE:c+=di.ANNOTATIONS_STORAGE,d=h.serializable;break;default:St(`getRenderingIntent - invalid annotationMode: ${e}`)}s&&(c+=di.IS_EDITING),l&&(c+=di.OPLIST);const{ids:f,hash:m}=h.modifiedIds,v=[c,d.hash,m];return{renderingIntent:c,cacheKey:v.join("_"),annotationStorageSerializable:d,modifiedIds:f}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),this.#s?.reject(new Error("Worker was destroyed during onPassword callback"));const t=[];for(const n of this.#e.values())t.push(n._destroy());this.#e.clear(),this.#i.clear(),this.#n.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const e=this.messageHandler.sendWithPromise("Terminate",null);return t.push(e),Promise.all(t).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#t.clear(),this.filterFactory.destroy(),ze.cleanup(),this._networkStream?.cancelAllRequests(new En("Worker was terminated.")),this.messageHandler?.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:t,loadingTask:e}=this;t.on("GetReader",(n,s)=>{me(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=l=>{this._lastProgress={loaded:l.loaded,total:l.total}},s.onPull=()=>{this._fullReader.read().then(function({value:l,done:c}){if(c){s.close();return}me(l instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),s.enqueue(new Uint8Array(l),1,[l])}).catch(l=>{s.error(l)})},s.onCancel=l=>{this._fullReader.cancel(l),s.ready.catch(c=>{if(!this.destroyed)throw c})}}),t.on("ReaderHeadersReady",async n=>{await this._fullReader.headersReady;const{isStreamingSupported:s,isRangeSupported:l,contentLength:c}=this._fullReader;return(!s||!l)&&(this._lastProgress&&e.onProgress?.(this._lastProgress),this._fullReader.onProgress=d=>{e.onProgress?.({loaded:d.loaded,total:d.total})}),{isStreamingSupported:s,isRangeSupported:l,contentLength:c}}),t.on("GetRangeReader",(n,s)=>{me(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const l=this._networkStream.getRangeReader(n.begin,n.end);if(!l){s.close();return}s.onPull=()=>{l.read().then(function({value:c,done:d}){if(d){s.close();return}me(c instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),s.enqueue(new Uint8Array(c),1,[c])}).catch(c=>{s.error(c)})},s.onCancel=c=>{l.cancel(c),s.ready.catch(d=>{if(!this.destroyed)throw d})}}),t.on("GetDoc",({pdfInfo:n})=>{this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,e._capability.resolve(new MT(n,this))}),t.on("DocException",n=>{e._capability.reject(ti(n))}),t.on("PasswordRequest",n=>{this.#s=Promise.withResolvers();try{if(!e.onPassword)throw ti(n);const s=l=>{l instanceof Error?this.#s.reject(l):this.#s.resolve({password:l})};e.onPassword(s,n.code)}catch(s){this.#s.reject(s)}return this.#s.promise}),t.on("DataLoaded",n=>{e.onProgress?.({loaded:n.length,total:n.length}),this.downloadInfoCapability.resolve(n)}),t.on("StartRenderPage",n=>{if(this.destroyed)return;this.#e.get(n.pageIndex)._startRenderPage(n.transparency,n.cacheKey)}),t.on("commonobj",([n,s,l])=>{if(this.destroyed||this.commonObjs.has(n))return null;switch(s){case"Font":if("error"in l){const f=l.error;St(`Error during font loading: ${f}`),this.commonObjs.resolve(n,f);break}const c=this._params.pdfBug&&globalThis.FontInspector?.enabled?(f,m)=>globalThis.FontInspector.fontAdded(f,m):null,d=new I_(l,c);this.fontLoader.bind(d).catch(()=>t.sendWithPromise("FontFallback",{id:n})).finally(()=>{!d.fontExtraProperties&&d.data&&(d.data=null),this.commonObjs.resolve(n,d)});break;case"CopyLocalImage":const{imageRef:h}=l;me(h,"The imageRef must be defined.");for(const f of this.#e.values())for(const[,m]of f.objs)if(m?.ref===h)return m.dataLen?(this.commonObjs.resolve(n,structuredClone(m)),m.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(n,l);break;default:throw new Error(`Got unknown common object type ${s}`)}return null}),t.on("obj",([n,s,l,c])=>{if(this.destroyed)return;const d=this.#e.get(s);if(!d.objs.has(n)){if(d._intentStates.size===0){c?.bitmap?.close();return}switch(l){case"Image":case"Pattern":d.objs.resolve(n,c);break;default:throw new Error(`Got unknown object type ${l}`)}}}),t.on("DocProgress",n=>{this.destroyed||e.onProgress?.({loaded:n.loaded,total:n.total})}),t.on("FetchBinaryData",async n=>{if(this.destroyed)throw new Error("Worker was destroyed.");const s=this[n.type];if(!s)throw new Error(`${n.type} not initialized, see the \`useWorkerFetch\` parameter.`);return s.fetch(n)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&St("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:t,transfer:e}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:t,filename:this._fullReader?.filename??null},e).finally(()=>{this.annotationStorage.resetModified()})}getPage(t){if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request."));const e=t-1,n=this.#i.get(e);if(n)return n;const s=this.messageHandler.sendWithPromise("GetPage",{pageIndex:e}).then(l=>{if(this.destroyed)throw new Error("Transport destroyed");l.refStr&&this.#n.set(l.refStr,t);const c=new NT(e,l,this,this._params.pdfBug);return this.#e.set(e,c),c});return this.#i.set(e,s),s}getPageIndex(t){return Nh(t)?this.messageHandler.sendWithPromise("GetPageIndex",{num:t.num,gen:t.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(t,e){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:e})}getFieldObjects(){return this.#a("GetFieldObjects")}hasJSActions(){return this.#a("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(t){return typeof t!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return this.#a("GetDocJSActions")}getPageJSActions(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}getStructTree(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:t})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(t){return this.#a("GetOptionalContentConfig").then(e=>new uT(e,t))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const t="GetMetadata",e=this.#t.get(t);if(e)return e;const n=this.messageHandler.sendWithPromise(t,null).then(s=>({info:s[0],metadata:s[1]?new lT(s[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null}));return this.#t.set(t,n),n}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(t=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const e of this.#e.values())if(!e.cleanup())throw new Error(`startCleanup: Page ${e.pageNumber} is currently rendering.`);this.commonObjs.clear(),t||this.fontLoader.clear(),this.#t.clear(),this.filterFactory.destroy(!0),ze.cleanup()}}cachedPageNumber(t){if(!Nh(t))return null;const e=t.gen===0?`${t.num}R`:`${t.num}R${t.gen}`;return this.#n.get(e)??null}}class kT{#t=null;onContinue=null;onError=null;constructor(t){this.#t=t}get promise(){return this.#t.capability.promise}cancel(t=0){this.#t.cancel(null,t)}get separateAnnots(){const{separateAnnots:t}=this.#t.operatorList;if(!t)return!1;const{annotationCanvasMap:e}=this.#t;return t.form||t.canvas&&e?.size>0}}class Ns{#t=null;static#e=new WeakSet;constructor({callback:t,params:e,objs:n,commonObjs:s,annotationCanvasMap:l,operatorList:c,pageIndex:d,canvasFactory:h,filterFactory:f,useRequestAnimationFrame:m=!1,pdfBug:v=!1,pageColors:y=null}){this.callback=t,this.params=e,this.objs=n,this.commonObjs=s,this.annotationCanvasMap=l,this.operatorListIdx=null,this.operatorList=c,this._pageIndex=d,this.canvasFactory=h,this.filterFactory=f,this._pdfBug=v,this.pageColors=y,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=m===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new kT(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=e.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:t=!1,optionalContentConfig:e}){if(this.cancelled)return;if(this._canvas){if(Ns.#e.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");Ns.#e.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:n,viewport:s,transform:l,background:c}=this.params;this.gfx=new Os(n,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:e},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:l,viewport:s,transparency:t,background:c}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(t=null,e=0){this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),this.#t&&(window.cancelAnimationFrame(this.#t),this.#t=null),Ns.#e.delete(this._canvas),t||=new Tc(`Rendering cancelled, page ${this._pageIndex+1}`,e),this.callback(t),this.task.onError?.(t)}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||=this._continueBound;return}this.stepper?.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?this.#t=window.requestAnimationFrame(()=>{this.#t=null,this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),Ns.#e.delete(this._canvas),this.callback())))}}const D0="5.3.31",M0="47ad820d9";function _y(o){return Math.floor(Math.max(0,Math.min(1,o))*255).toString(16).padStart(2,"0")}function Yr(o){return Math.max(0,Math.min(255,255*o))}class Ty{static CMYK_G([t,e,n,s]){return["G",1-Math.min(1,.3*t+.59*n+.11*e+s)]}static G_CMYK([t]){return["CMYK",0,0,0,1-t]}static G_RGB([t]){return["RGB",t,t,t]}static G_rgb([t]){return t=Yr(t),[t,t,t]}static G_HTML([t]){const e=_y(t);return`#${e}${e}${e}`}static RGB_G([t,e,n]){return["G",.3*t+.59*e+.11*n]}static RGB_rgb(t){return t.map(Yr)}static RGB_HTML(t){return`#${t.map(_y).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([t,e,n,s]){return["RGB",1-Math.min(1,t+s),1-Math.min(1,n+s),1-Math.min(1,e+s)]}static CMYK_rgb([t,e,n,s]){return[Yr(1-Math.min(1,t+s)),Yr(1-Math.min(1,n+s)),Yr(1-Math.min(1,e+s))]}static CMYK_HTML(t){const e=this.CMYK_RGB(t).slice(1);return this.RGB_HTML(e)}static RGB_CMYK([t,e,n]){const s=1-t,l=1-e,c=1-n,d=Math.min(s,l,c);return["CMYK",s,l,c,d]}}class LT{create(t,e,n=!1){if(t<=0||e<=0)throw new Error("Invalid SVG dimensions");const s=this._createSVG("svg:svg");return s.setAttribute("version","1.1"),n||(s.setAttribute("width",`${t}px`),s.setAttribute("height",`${e}px`)),s.setAttribute("preserveAspectRatio","none"),s.setAttribute("viewBox",`0 0 ${t} ${e}`),s}createElement(t){if(typeof t!="string")throw new Error("Invalid SVG element type");return this._createSVG(t)}_createSVG(t){qt("Abstract method `_createSVG` called.")}}class co extends LT{_createSVG(t){return document.createElementNS(mn,t)}}class Af{static setupStorage(t,e,n,s,l){const c=s.getValue(e,{value:null});switch(n.name){case"textarea":if(c.value!==null&&(t.textContent=c.value),l==="print")break;t.addEventListener("input",d=>{s.setValue(e,{value:d.target.value})});break;case"input":if(n.attributes.type==="radio"||n.attributes.type==="checkbox"){if(c.value===n.attributes.xfaOn?t.setAttribute("checked",!0):c.value===n.attributes.xfaOff&&t.removeAttribute("checked"),l==="print")break;t.addEventListener("change",d=>{s.setValue(e,{value:d.target.checked?d.target.getAttribute("xfaOn"):d.target.getAttribute("xfaOff")})})}else{if(c.value!==null&&t.setAttribute("value",c.value),l==="print")break;t.addEventListener("input",d=>{s.setValue(e,{value:d.target.value})})}break;case"select":if(c.value!==null){t.setAttribute("value",c.value);for(const d of n.children)d.attributes.value===c.value?d.attributes.selected=!0:d.attributes.hasOwnProperty("selected")&&delete d.attributes.selected}t.addEventListener("input",d=>{const h=d.target.options,f=h.selectedIndex===-1?"":h[h.selectedIndex].value;s.setValue(e,{value:f})});break}}static setAttributes({html:t,element:e,storage:n=null,intent:s,linkService:l}){const{attributes:c}=e,d=t instanceof HTMLAnchorElement;c.type==="radio"&&(c.name=`${c.name}-${s}`);for(const[h,f]of Object.entries(c))if(f!=null)switch(h){case"class":f.length&&t.setAttribute(h,f.join(" "));break;case"dataId":break;case"id":t.setAttribute("data-element-id",f);break;case"style":Object.assign(t.style,f);break;case"textContent":t.textContent=f;break;default:(!d||h!=="href"&&h!=="newWindow")&&t.setAttribute(h,f)}d&&l.addLinkAttributes(t,c.href,c.newWindow),n&&c.dataId&&this.setupStorage(t,c.dataId,e,n)}static render(t){const e=t.annotationStorage,n=t.linkService,s=t.xfaHtml,l=t.intent||"display",c=document.createElement(s.name);s.attributes&&this.setAttributes({html:c,element:s,intent:l,linkService:n});const d=l!=="richText",h=t.div;if(h.append(c),t.viewport){const v=`matrix(${t.viewport.transform.join(",")})`;h.style.transform=v}d&&h.setAttribute("class","xfaLayer xfaFont");const f=[];if(s.children.length===0){if(s.value){const v=document.createTextNode(s.value);c.append(v),d&&lo.shouldBuildText(s.name)&&f.push(v)}return{textDivs:f}}const m=[[s,-1,c]];for(;m.length>0;){const[v,y,b]=m.at(-1);if(y+1===v.children.length){m.pop();continue}const x=v.children[++m.at(-1)[1]];if(x===null)continue;const{name:A}=x;if(A==="#text"){const E=document.createTextNode(x.value);f.push(E),b.append(E);continue}const T=x?.attributes?.xmlns?document.createElementNS(x.attributes.xmlns,A):document.createElement(A);if(b.append(T),x.attributes&&this.setAttributes({html:T,element:x,storage:e,intent:l,linkService:n}),x.children?.length>0)m.push([x,-1,T]);else if(x.value){const E=document.createTextNode(x.value);d&&lo.shouldBuildText(A)&&f.push(E),T.append(E)}}for(const v of h.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))v.setAttribute("readOnly",!0);return{textDivs:f}}static update(t){const e=`matrix(${t.viewport.transform.join(",")})`;t.div.style.transform=e,t.div.hidden=!1}}const So=1e3,jT=9,ka=new WeakSet;class Cy{static create(t){switch(t.data.annotationType){case le.LINK:return new N0(t);case le.TEXT:return new PT(t);case le.WIDGET:switch(t.data.fieldType){case"Tx":return new zT(t);case"Btn":return t.data.radioButton?new O0(t):t.data.checkBox?new FT(t):new BT(t);case"Ch":return new HT(t);case"Sig":return new IT(t)}return new za(t);case le.POPUP:return new kh(t);case le.FREETEXT:return new k0(t);case le.LINE:return new GT(t);case le.SQUARE:return new qT(t);case le.CIRCLE:return new $T(t);case le.POLYLINE:return new L0(t);case le.CARET:return new YT(t);case le.INK:return new wf(t);case le.POLYGON:return new VT(t);case le.HIGHLIGHT:return new j0(t);case le.UNDERLINE:return new XT(t);case le.SQUIGGLY:return new KT(t);case le.STRIKEOUT:return new WT(t);case le.STAMP:return new P0(t);case le.FILEATTACHMENT:return new QT(t);default:return new de(t)}}}class de{#t=null;#e=!1;#i=null;constructor(t,{isRenderable:e=!1,ignoreBorder:n=!1,createQuadrilaterals:s=!1}={}){this.isRenderable=e,this.data=t.data,this.layer=t.layer,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,this.parent=t.parent,e&&(this.container=this._createContainer(n)),s&&this._createQuadrilaterals()}static _hasPopupData({titleObj:t,contentsObj:e,richText:n}){return!!(t?.str||e?.str||n?.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return de._hasPopupData(this.data)}updateEdited(t){if(!this.container)return;this.#t||={rect:this.data.rect.slice(0)};const{rect:e}=t;e&&this.#n(e),this.#i?.popup.updateEdited(t)}resetEdited(){this.#t&&(this.#n(this.#t.rect),this.#i?.popup.resetEdited(),this.#t=null)}#n(t){const{container:{style:e},data:{rect:n,rotation:s},parent:{viewport:{rawDims:{pageWidth:l,pageHeight:c,pageX:d,pageY:h}}}}=this;n?.splice(0,4,...t),e.left=`${100*(t[0]-d)/l}%`,e.top=`${100*(c-t[3]+h)/c}%`,s===0?(e.width=`${100*(t[2]-t[0])/l}%`,e.height=`${100*(t[3]-t[1])/c}%`):this.setRotation(s)}_createContainer(t){const{data:e,parent:{page:n,viewport:s}}=this,l=document.createElement("section");l.setAttribute("data-annotation-id",e.id),this instanceof za||(l.tabIndex=So);const{style:c}=l;if(c.zIndex=this.parent.zIndex++,e.alternativeText&&(l.title=e.alternativeText),e.noRotate&&l.classList.add("norotate"),!e.rect||this instanceof kh){const{rotation:A}=e;return!e.hasOwnCanvas&&A!==0&&this.setRotation(A,l),l}const{width:d,height:h}=this;if(!t&&e.borderStyle.width>0){c.borderWidth=`${e.borderStyle.width}px`;const A=e.borderStyle.horizontalCornerRadius,T=e.borderStyle.verticalCornerRadius;if(A>0||T>0){const M=`calc(${A}px * var(--total-scale-factor)) / calc(${T}px * var(--total-scale-factor))`;c.borderRadius=M}else if(this instanceof O0){const M=`calc(${d}px * var(--total-scale-factor)) / calc(${h}px * var(--total-scale-factor))`;c.borderRadius=M}switch(e.borderStyle.style){case Ts.SOLID:c.borderStyle="solid";break;case Ts.DASHED:c.borderStyle="dashed";break;case Ts.BEVELED:St("Unimplemented border style: beveled");break;case Ts.INSET:St("Unimplemented border style: inset");break;case Ts.UNDERLINE:c.borderBottomStyle="solid";break}const E=e.borderColor||null;E?(this.#e=!0,c.borderColor=ct.makeHexColor(E[0]|0,E[1]|0,E[2]|0)):c.borderWidth=0}const f=ct.normalizeRect([e.rect[0],n.view[3]-e.rect[1]+n.view[1],e.rect[2],n.view[3]-e.rect[3]+n.view[1]]),{pageWidth:m,pageHeight:v,pageX:y,pageY:b}=s.rawDims;c.left=`${100*(f[0]-y)/m}%`,c.top=`${100*(f[1]-b)/v}%`;const{rotation:x}=e;return e.hasOwnCanvas||x===0?(c.width=`${100*d/m}%`,c.height=`${100*h/v}%`):this.setRotation(x,l),l}setRotation(t,e=this.container){if(!this.data.rect)return;const{pageWidth:n,pageHeight:s}=this.parent.viewport.rawDims;let{width:l,height:c}=this;t%180!==0&&([l,c]=[c,l]),e.style.width=`${100*l/n}%`,e.style.height=`${100*c/s}%`,e.setAttribute("data-main-rotation",(360-t)%360)}get _commonActions(){const t=(e,n,s)=>{const l=s.detail[e],c=l[0],d=l.slice(1);s.target.style[n]=Ty[`${c}_HTML`](d),this.annotationStorage.setValue(this.data.id,{[n]:Ty[`${c}_rgb`](d)})};return Nt(this,"_commonActions",{display:e=>{const{display:n}=e.detail,s=n%2===1;this.container.style.visibility=s?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:s,noPrint:n===1||n===2})},print:e=>{this.annotationStorage.setValue(this.data.id,{noPrint:!e.detail.print})},hidden:e=>{const{hidden:n}=e.detail;this.container.style.visibility=n?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:n,noView:n})},focus:e=>{setTimeout(()=>e.target.focus({preventScroll:!1}),0)},userName:e=>{e.target.title=e.detail.userName},readonly:e=>{e.target.disabled=e.detail.readonly},required:e=>{this._setRequired(e.target,e.detail.required)},bgColor:e=>{t("bgColor","backgroundColor",e)},fillColor:e=>{t("fillColor","backgroundColor",e)},fgColor:e=>{t("fgColor","color",e)},textColor:e=>{t("textColor","color",e)},borderColor:e=>{t("borderColor","borderColor",e)},strokeColor:e=>{t("strokeColor","borderColor",e)},rotation:e=>{const n=e.detail.rotation;this.setRotation(n),this.annotationStorage.setValue(this.data.id,{rotation:n})}})}_dispatchEventFromSandbox(t,e){const n=this._commonActions;for(const s of Object.keys(e.detail))(t[s]||n[s])?.(e)}_setDefaultPropertiesFromJS(t){if(!this.enableScripting)return;const e=this.annotationStorage.getRawValue(this.data.id);if(!e)return;const n=this._commonActions;for(const[s,l]of Object.entries(e)){const c=n[s];if(c){const d={detail:{[s]:l},target:t};c(d),delete e[s]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:t}=this.data;if(!t)return;const[e,n,s,l]=this.data.rect.map(A=>Math.fround(A));if(t.length===8){const[A,T,E,M]=t.subarray(2,6);if(s===A&&l===T&&e===E&&n===M)return}const{style:c}=this.container;let d;if(this.#e){const{borderColor:A,borderWidth:T}=c;c.borderWidth=0,d=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${A}" stroke-width="${T}">`],this.container.classList.add("hasBorder")}const h=s-e,f=l-n,{svgFactory:m}=this,v=m.createElement("svg");v.classList.add("quadrilateralsContainer"),v.setAttribute("width",0),v.setAttribute("height",0);const y=m.createElement("defs");v.append(y);const b=m.createElement("clipPath"),x=`clippath_${this.data.id}`;b.setAttribute("id",x),b.setAttribute("clipPathUnits","objectBoundingBox"),y.append(b);for(let A=2,T=t.length;A<T;A+=8){const E=t[A],M=t[A+1],R=t[A+2],N=t[A+3],D=m.createElement("rect"),L=(R-e)/h,z=(l-M)/f,q=(E-R)/h,$=(M-N)/f;D.setAttribute("x",L),D.setAttribute("y",z),D.setAttribute("width",q),D.setAttribute("height",$),b.append(D),d?.push(`<rect vector-effect="non-scaling-stroke" x="${L}" y="${z}" width="${q}" height="${$}"/>`)}this.#e&&(d.push("</g></svg>')"),c.backgroundImage=d.join("")),this.container.append(v),this.container.style.clipPath=`url(#${x})`}_createPopup(){const{data:t}=this,e=this.#i=new kh({data:{color:t.color,titleObj:t.titleObj,modificationDate:t.modificationDate,contentsObj:t.contentsObj,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation},parent:this.parent,elements:[this]});this.parent.div.append(e.render())}render(){qt("Abstract method `AnnotationElement.render` called")}_getElementsByName(t,e=null){const n=[];if(this._fieldObjects){const s=this._fieldObjects[t];if(s)for(const{page:l,id:c,exportValues:d}of s){if(l===-1||c===e)continue;const h=typeof d=="string"?d:null,f=document.querySelector(`[data-element-id="${c}"]`);if(f&&!ka.has(f)){St(`_getElementsByName - element not allowed: ${c}`);continue}n.push({id:c,exportValue:h,domElement:f})}return n}for(const s of document.getElementsByName(t)){const{exportValue:l}=s,c=s.getAttribute("data-element-id");c!==e&&ka.has(s)&&n.push({id:c,exportValue:l,domElement:s})}return n}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const t=this.getElementsToTriggerPopup();if(Array.isArray(t))for(const e of t)e.classList.add("highlightArea");else t.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:t,data:{id:e}}=this;this.container.addEventListener("dblclick",()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:t,editId:e})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}}class N0 extends de{constructor(t,e=null){super(t,{isRenderable:!0,ignoreBorder:!!e?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:e}=this,n=document.createElement("a");n.setAttribute("data-element-id",t.id);let s=!1;return t.url?(e.addLinkAttributes(n,t.url,t.newWindow),s=!0):t.action?(this._bindNamedAction(n,t.action),s=!0):t.attachment?(this.#e(n,t.attachment,t.attachmentDest),s=!0):t.setOCGState?(this.#i(n,t.setOCGState),s=!0):t.dest?(this._bindLink(n,t.dest),s=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(n,t),s=!0),t.resetForm?(this._bindResetFormAction(n,t.resetForm),s=!0):this.isTooltipOnly&&!s&&(this._bindLink(n,""),s=!0)),this.container.classList.add("linkAnnotation"),s&&this.container.append(n),this.container}#t(){this.container.setAttribute("data-internal-link","")}_bindLink(t,e){t.href=this.linkService.getDestinationHash(e),t.onclick=()=>(e&&this.linkService.goToDestination(e),!1),(e||e==="")&&this.#t()}_bindNamedAction(t,e){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(e),!1),this.#t()}#e(t,e,n=null){t.href=this.linkService.getAnchorUrl(""),e.description&&(t.title=e.description),t.onclick=()=>(this.downloadManager?.openOrDownloadData(e.content,e.filename,n),!1),this.#t()}#i(t,e){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(e),!1),this.#t()}_bindJSAction(t,e){t.href=this.linkService.getAnchorUrl("");const n=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const s of Object.keys(e.actions)){const l=n.get(s);l&&(t[l]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e.id,name:s}}),!1))}t.onclick||(t.onclick=()=>!1),this.#t()}_bindResetFormAction(t,e){const n=t.onclick;if(n||(t.href=this.linkService.getAnchorUrl("")),this.#t(),!this._fieldObjects){St('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),n||(t.onclick=()=>!1);return}t.onclick=()=>{n?.();const{fields:s,refs:l,include:c}=e,d=[];if(s.length!==0||l.length!==0){const m=new Set(l);for(const v of s){const y=this._fieldObjects[v]||[];for(const{id:b}of y)m.add(b)}for(const v of Object.values(this._fieldObjects))for(const y of v)m.has(y.id)===c&&d.push(y)}else for(const m of Object.values(this._fieldObjects))d.push(...m);const h=this.annotationStorage,f=[];for(const m of d){const{id:v}=m;switch(f.push(v),m.type){case"text":{const b=m.defaultValue||"";h.setValue(v,{value:b});break}case"checkbox":case"radiobutton":{const b=m.defaultValue===m.exportValues;h.setValue(v,{value:b});break}case"combobox":case"listbox":{const b=m.defaultValue||"";h.setValue(v,{value:b});break}default:continue}const y=document.querySelector(`[data-element-id="${v}"]`);if(y){if(!ka.has(y)){St(`_bindResetFormAction - element not allowed: ${v}`);continue}}else continue;y.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:f,name:"ResetForm"}}),!1}}}class PT extends de{constructor(t){super(t,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const t=document.createElement("img");return t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),t.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(t),this.container}}class za extends de{render(){return this.container}showElementAndHideCanvas(t){this.data.hasOwnCanvas&&(t.previousSibling?.nodeName==="CANVAS"&&(t.previousSibling.hidden=!0),t.hidden=!1)}_getKeyModifier(t){return _e.platform.isMac?t.metaKey:t.ctrlKey}_setEventListener(t,e,n,s,l){n.includes("mouse")?t.addEventListener(n,c=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:s,value:l(c),shift:c.shiftKey,modifier:this._getKeyModifier(c)}})}):t.addEventListener(n,c=>{if(n==="blur"){if(!e.focused||!c.relatedTarget)return;e.focused=!1}else if(n==="focus"){if(e.focused)return;e.focused=!0}l&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:s,value:l(c)}})})}_setEventListeners(t,e,n,s){for(const[l,c]of n)(c==="Action"||this.data.actions?.[c])&&((c==="Focus"||c==="Blur")&&(e||={focused:!1}),this._setEventListener(t,e,l,c,s),c==="Focus"&&!this.data.actions?.Blur?this._setEventListener(t,e,"blur","Blur",null):c==="Blur"&&!this.data.actions?.Focus&&this._setEventListener(t,e,"focus","Focus",null))}_setBackgroundColor(t){const e=this.data.backgroundColor||null;t.style.backgroundColor=e===null?"transparent":ct.makeHexColor(e[0],e[1],e[2])}_setTextStyle(t){const e=["left","center","right"],{fontColor:n}=this.data.defaultAppearanceData,s=this.data.defaultAppearanceData.fontSize||jT,l=t.style;let c;const d=2,h=f=>Math.round(10*f)/10;if(this.data.multiLine){const f=Math.abs(this.data.rect[3]-this.data.rect[1]-d),m=Math.round(f/(ch*s))||1,v=f/m;c=Math.min(s,h(v/ch))}else{const f=Math.abs(this.data.rect[3]-this.data.rect[1]-d);c=Math.min(s,h(f/ch))}l.fontSize=`calc(${c}px * var(--total-scale-factor))`,l.color=ct.makeHexColor(n[0],n[1],n[2]),this.data.textAlignment!==null&&(l.textAlign=e[this.data.textAlignment])}_setRequired(t,e){e?t.setAttribute("required",!0):t.removeAttribute("required"),t.setAttribute("aria-required",e)}}class zT extends za{constructor(t){const e=t.renderForms||t.data.hasOwnCanvas||!t.data.hasAppearance&&!!t.data.fieldValue;super(t,{isRenderable:e})}setPropertyOnSiblings(t,e,n,s){const l=this.annotationStorage;for(const c of this._getElementsByName(t.name,t.id))c.domElement&&(c.domElement[e]=n),l.setValue(c.id,{[s]:n})}render(){const t=this.annotationStorage,e=this.data.id;this.container.classList.add("textWidgetAnnotation");let n=null;if(this.renderForms){const s=t.getValue(e,{value:this.data.fieldValue});let l=s.value||"";const c=t.getValue(e,{charLimit:this.data.maxLen}).charLimit;c&&l.length>c&&(l=l.slice(0,c));let d=s.formattedValue||this.data.textContent?.join(`
`)||null;d&&this.data.comb&&(d=d.replaceAll(/\s+/g,""));const h={userValue:l,formattedValue:d,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(n=document.createElement("textarea"),n.textContent=d??l,this.data.doNotScroll&&(n.style.overflowY="hidden")):(n=document.createElement("input"),n.type=this.data.password?"password":"text",n.setAttribute("value",d??l),this.data.doNotScroll&&(n.style.overflowX="hidden")),this.data.hasOwnCanvas&&(n.hidden=!0),ka.add(n),n.setAttribute("data-element-id",e),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=So,this._setRequired(n,this.data.required),c&&(n.maxLength=c),n.addEventListener("input",m=>{t.setValue(e,{value:m.target.value}),this.setPropertyOnSiblings(n,"value",m.target.value,"value"),h.formattedValue=null}),n.addEventListener("resetform",m=>{const v=this.data.defaultFieldValue??"";n.value=h.userValue=v,h.formattedValue=null});let f=m=>{const{formattedValue:v}=h;v!=null&&(m.target.value=v),m.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){n.addEventListener("focus",v=>{if(h.focused)return;const{target:y}=v;h.userValue&&(y.value=h.userValue),h.lastCommittedValue=y.value,h.commitKey=1,this.data.actions?.Focus||(h.focused=!0)}),n.addEventListener("updatefromsandbox",v=>{this.showElementAndHideCanvas(v.target);const y={value(b){h.userValue=b.detail.value??"",t.setValue(e,{value:h.userValue.toString()}),b.target.value=h.userValue},formattedValue(b){const{formattedValue:x}=b.detail;h.formattedValue=x,x!=null&&b.target!==document.activeElement&&(b.target.value=x),t.setValue(e,{formattedValue:x})},selRange(b){b.target.setSelectionRange(...b.detail.selRange)},charLimit:b=>{const{charLimit:x}=b.detail,{target:A}=b;if(x===0){A.removeAttribute("maxLength");return}A.setAttribute("maxLength",x);let T=h.userValue;!T||T.length<=x||(T=T.slice(0,x),A.value=h.userValue=T,t.setValue(e,{value:T}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:T,willCommit:!0,commitKey:1,selStart:A.selectionStart,selEnd:A.selectionEnd}}))}};this._dispatchEventFromSandbox(y,v)}),n.addEventListener("keydown",v=>{h.commitKey=1;let y=-1;if(v.key==="Escape"?y=0:v.key==="Enter"&&!this.data.multiLine?y=2:v.key==="Tab"&&(h.commitKey=3),y===-1)return;const{value:b}=v.target;h.lastCommittedValue!==b&&(h.lastCommittedValue=b,h.userValue=b,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:b,willCommit:!0,commitKey:y,selStart:v.target.selectionStart,selEnd:v.target.selectionEnd}}))});const m=f;f=null,n.addEventListener("blur",v=>{if(!h.focused||!v.relatedTarget)return;this.data.actions?.Blur||(h.focused=!1);const{value:y}=v.target;h.userValue=y,h.lastCommittedValue!==y&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:y,willCommit:!0,commitKey:h.commitKey,selStart:v.target.selectionStart,selEnd:v.target.selectionEnd}}),m(v)}),this.data.actions?.Keystroke&&n.addEventListener("beforeinput",v=>{h.lastCommittedValue=null;const{data:y,target:b}=v,{value:x,selectionStart:A,selectionEnd:T}=b;let E=A,M=T;switch(v.inputType){case"deleteWordBackward":{const R=x.substring(0,A).match(/\w*[^\w]*$/);R&&(E-=R[0].length);break}case"deleteWordForward":{const R=x.substring(A).match(/^[^\w]*\w*/);R&&(M+=R[0].length);break}case"deleteContentBackward":A===T&&(E-=1);break;case"deleteContentForward":A===T&&(M+=1);break}v.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:x,change:y||"",willCommit:!1,selStart:E,selEnd:M}})}),this._setEventListeners(n,h,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],v=>v.target.value)}if(f&&n.addEventListener("blur",f),this.data.comb){const v=(this.data.rect[2]-this.data.rect[0])/c;n.classList.add("comb"),n.style.letterSpacing=`calc(${v}px * var(--total-scale-factor) - 1ch)`}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell",this.data.hasOwnCanvas&&(n.hidden=!0);return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class IT extends za{constructor(t){super(t,{isRenderable:!!t.data.hasOwnCanvas})}}class FT extends za{constructor(t){super(t,{isRenderable:t.renderForms})}render(){const t=this.annotationStorage,e=this.data,n=e.id;let s=t.getValue(n,{value:e.exportValue===e.fieldValue}).value;typeof s=="string"&&(s=s!=="Off",t.setValue(n,{value:s})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const l=document.createElement("input");return ka.add(l),l.setAttribute("data-element-id",n),l.disabled=e.readOnly,this._setRequired(l,this.data.required),l.type="checkbox",l.name=e.fieldName,s&&l.setAttribute("checked",!0),l.setAttribute("exportValue",e.exportValue),l.tabIndex=So,l.addEventListener("change",c=>{const{name:d,checked:h}=c.target;for(const f of this._getElementsByName(d,n)){const m=h&&f.exportValue===e.exportValue;f.domElement&&(f.domElement.checked=m),t.setValue(f.id,{value:m})}t.setValue(n,{value:h})}),l.addEventListener("resetform",c=>{const d=e.defaultFieldValue||"Off";c.target.checked=d===e.exportValue}),this.enableScripting&&this.hasJSActions&&(l.addEventListener("updatefromsandbox",c=>{const d={value(h){h.target.checked=h.detail.value!=="Off",t.setValue(n,{value:h.target.checked})}};this._dispatchEventFromSandbox(d,c)}),this._setEventListeners(l,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],c=>c.target.checked)),this._setBackgroundColor(l),this._setDefaultPropertiesFromJS(l),this.container.append(l),this.container}}class O0 extends za{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const t=this.annotationStorage,e=this.data,n=e.id;let s=t.getValue(n,{value:e.fieldValue===e.buttonValue}).value;if(typeof s=="string"&&(s=s!==e.buttonValue,t.setValue(n,{value:s})),s)for(const c of this._getElementsByName(e.fieldName,n))t.setValue(c.id,{value:!1});const l=document.createElement("input");if(ka.add(l),l.setAttribute("data-element-id",n),l.disabled=e.readOnly,this._setRequired(l,this.data.required),l.type="radio",l.name=e.fieldName,s&&l.setAttribute("checked",!0),l.tabIndex=So,l.addEventListener("change",c=>{const{name:d,checked:h}=c.target;for(const f of this._getElementsByName(d,n))t.setValue(f.id,{value:!1});t.setValue(n,{value:h})}),l.addEventListener("resetform",c=>{const d=e.defaultFieldValue;c.target.checked=d!=null&&d===e.buttonValue}),this.enableScripting&&this.hasJSActions){const c=e.buttonValue;l.addEventListener("updatefromsandbox",d=>{const h={value:f=>{const m=c===f.detail.value;for(const v of this._getElementsByName(f.target.name)){const y=m&&v.id===n;v.domElement&&(v.domElement.checked=y),t.setValue(v.id,{value:y})}}};this._dispatchEventFromSandbox(h,d)}),this._setEventListeners(l,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],d=>d.target.checked)}return this._setBackgroundColor(l),this._setDefaultPropertiesFromJS(l),this.container.append(l),this.container}}class BT extends N0{constructor(t){super(t,{ignoreBorder:t.data.hasAppearance})}render(){const t=super.render();t.classList.add("buttonWidgetAnnotation","pushButton");const e=t.lastChild;return this.enableScripting&&this.hasJSActions&&e&&(this._setDefaultPropertiesFromJS(e),e.addEventListener("updatefromsandbox",n=>{this._dispatchEventFromSandbox({},n)})),t}}class HT extends za{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const t=this.annotationStorage,e=this.data.id,n=t.getValue(e,{value:this.data.fieldValue}),s=document.createElement("select");ka.add(s),s.setAttribute("data-element-id",e),s.disabled=this.data.readOnly,this._setRequired(s,this.data.required),s.name=this.data.fieldName,s.tabIndex=So;let l=this.data.combo&&this.data.options.length>0;this.data.combo||(s.size=this.data.options.length,this.data.multiSelect&&(s.multiple=!0)),s.addEventListener("resetform",m=>{const v=this.data.defaultFieldValue;for(const y of s.options)y.selected=y.value===v});for(const m of this.data.options){const v=document.createElement("option");v.textContent=m.displayValue,v.value=m.exportValue,n.value.includes(m.exportValue)&&(v.setAttribute("selected",!0),l=!1),s.append(v)}let c=null;if(l){const m=document.createElement("option");m.value=" ",m.setAttribute("hidden",!0),m.setAttribute("selected",!0),s.prepend(m),c=()=>{m.remove(),s.removeEventListener("input",c),c=null},s.addEventListener("input",c)}const d=m=>{const v=m?"value":"textContent",{options:y,multiple:b}=s;return b?Array.prototype.filter.call(y,x=>x.selected).map(x=>x[v]):y.selectedIndex===-1?null:y[y.selectedIndex][v]};let h=d(!1);const f=m=>{const v=m.target.options;return Array.prototype.map.call(v,y=>({displayValue:y.textContent,exportValue:y.value}))};return this.enableScripting&&this.hasJSActions?(s.addEventListener("updatefromsandbox",m=>{const v={value(y){c?.();const b=y.detail.value,x=new Set(Array.isArray(b)?b:[b]);for(const A of s.options)A.selected=x.has(A.value);t.setValue(e,{value:d(!0)}),h=d(!1)},multipleSelection(y){s.multiple=!0},remove(y){const b=s.options,x=y.detail.remove;b[x].selected=!1,s.remove(x),b.length>0&&Array.prototype.findIndex.call(b,T=>T.selected)===-1&&(b[0].selected=!0),t.setValue(e,{value:d(!0),items:f(y)}),h=d(!1)},clear(y){for(;s.length!==0;)s.remove(0);t.setValue(e,{value:null,items:[]}),h=d(!1)},insert(y){const{index:b,displayValue:x,exportValue:A}=y.detail.insert,T=s.children[b],E=document.createElement("option");E.textContent=x,E.value=A,T?T.before(E):s.append(E),t.setValue(e,{value:d(!0),items:f(y)}),h=d(!1)},items(y){const{items:b}=y.detail;for(;s.length!==0;)s.remove(0);for(const x of b){const{displayValue:A,exportValue:T}=x,E=document.createElement("option");E.textContent=A,E.value=T,s.append(E)}s.options.length>0&&(s.options[0].selected=!0),t.setValue(e,{value:d(!0),items:f(y)}),h=d(!1)},indices(y){const b=new Set(y.detail.indices);for(const x of y.target.options)x.selected=b.has(x.index);t.setValue(e,{value:d(!0)}),h=d(!1)},editable(y){y.target.disabled=!y.detail.editable}};this._dispatchEventFromSandbox(v,m)}),s.addEventListener("input",m=>{const v=d(!0),y=d(!1);t.setValue(e,{value:v}),m.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:h,change:y,changeEx:v,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(s,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],m=>m.target.value)):s.addEventListener("input",function(m){t.setValue(e,{value:d(!0)})}),this.data.combo&&this._setTextStyle(s),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class kh extends de{constructor(t){const{data:e,elements:n}=t;super(t,{isRenderable:de._hasPopupData(e)}),this.elements=n,this.popup=null}render(){this.container.classList.add("popupAnnotation");const t=this.popup=new UT({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),e=[];for(const n of this.elements)n.popup=t,n.container.ariaHasPopup="dialog",e.push(n.data.id),n.addHighlightArea();return this.container.setAttribute("aria-controls",e.map(n=>`${uf}${n}`).join(",")),this.container}}class UT{#t=this.#C.bind(this);#e=this.#T.bind(this);#i=this.#R.bind(this);#n=this.#w.bind(this);#s=null;#a=null;#l=null;#o=null;#d=null;#c=null;#h=null;#u=!1;#f=null;#r=null;#p=null;#g=null;#m=null;#v=null;#y=!1;constructor({container:t,color:e,elements:n,titleObj:s,modificationDate:l,contentsObj:c,richText:d,parent:h,rect:f,parentRect:m,open:v}){this.#a=t,this.#m=s,this.#l=c,this.#g=d,this.#c=h,this.#s=e,this.#p=f,this.#h=m,this.#d=n,this.#o=df.toDateObject(l),this.trigger=n.flatMap(y=>y.getElementsToTriggerPopup());for(const y of this.trigger)y.addEventListener("click",this.#n),y.addEventListener("mouseenter",this.#i),y.addEventListener("mouseleave",this.#e),y.classList.add("popupTriggerArea");for(const y of n)y.container?.addEventListener("keydown",this.#t);this.#a.hidden=!0,v&&this.#w()}render(){if(this.#f)return;const t=this.#f=document.createElement("div");if(t.className="popup",this.#s){const l=t.style.outlineColor=ct.makeHexColor(...this.#s);t.style.backgroundColor=`color-mix(in srgb, ${l} 30%, white)`}const e=document.createElement("span");e.className="header";const n=document.createElement("h1");if(e.append(n),{dir:n.dir,str:n.textContent}=this.#m,t.append(e),this.#o){const l=document.createElement("span");l.classList.add("popupDate"),l.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),l.setAttribute("data-l10n-args",JSON.stringify({dateObj:this.#o.valueOf()})),e.append(l)}const s=this.#b;if(s)Af.render({xfaHtml:s,intent:"richText",div:t}),t.lastChild.classList.add("richText","popupContent");else{const l=this._formatContents(this.#l);t.append(l)}this.#a.append(t)}get#b(){const t=this.#g,e=this.#l;return t?.str&&(!e?.str||e.str===t.str)&&this.#g.html||null}get#A(){return this.#b?.attributes?.style?.fontSize||0}get#S(){return this.#b?.attributes?.style?.color||null}#_(t){const e=[],n={str:t,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:e}]}},s={style:{color:this.#S,fontSize:this.#A?`calc(${this.#A}px * var(--total-scale-factor))`:""}};for(const l of t.split(`
`))e.push({name:"span",value:l,attributes:s});return n}_formatContents({str:t,dir:e}){const n=document.createElement("p");n.classList.add("popupContent"),n.dir=e;const s=t.split(/(?:\r\n?|\n)/);for(let l=0,c=s.length;l<c;++l){const d=s[l];n.append(document.createTextNode(d)),l<c-1&&n.append(document.createElement("br"))}return n}#C(t){t.altKey||t.shiftKey||t.ctrlKey||t.metaKey||(t.key==="Enter"||t.key==="Escape"&&this.#u)&&this.#w()}updateEdited({rect:t,popupContent:e}){this.#v||={contentsObj:this.#l,richText:this.#g},t&&(this.#r=null),e&&(this.#g=this.#_(e),this.#l=null),this.#f?.remove(),this.#f=null}resetEdited(){this.#v&&({contentsObj:this.#l,richText:this.#g}=this.#v,this.#v=null,this.#f?.remove(),this.#f=null,this.#r=null)}#D(){if(this.#r!==null)return;const{page:{view:t},viewport:{rawDims:{pageWidth:e,pageHeight:n,pageX:s,pageY:l}}}=this.#c;let c=!!this.#h,d=c?this.#h:this.#p;for(const x of this.#d)if(!d||ct.intersect(x.data.rect,d)!==null){d=x.data.rect,c=!0;break}const h=ct.normalizeRect([d[0],t[3]-d[1]+t[1],d[2],t[3]-d[3]+t[1]]),m=c?d[2]-d[0]+5:0,v=h[0]+m,y=h[1];this.#r=[100*(v-s)/e,100*(y-l)/n];const{style:b}=this.#a;b.left=`${this.#r[0]}%`,b.top=`${this.#r[1]}%`}#w(){this.#u=!this.#u,this.#u?(this.#R(),this.#a.addEventListener("click",this.#n),this.#a.addEventListener("keydown",this.#t)):(this.#T(),this.#a.removeEventListener("click",this.#n),this.#a.removeEventListener("keydown",this.#t))}#R(){this.#f||this.render(),this.isVisible?this.#u&&this.#a.classList.add("focused"):(this.#D(),this.#a.hidden=!1,this.#a.style.zIndex=parseInt(this.#a.style.zIndex)+1e3)}#T(){this.#a.classList.remove("focused"),!(this.#u||!this.isVisible)&&(this.#a.hidden=!0,this.#a.style.zIndex=parseInt(this.#a.style.zIndex)-1e3)}forceHide(){this.#y=this.isVisible,this.#y&&(this.#a.hidden=!0)}maybeShow(){this.#y&&(this.#f||this.#R(),this.#y=!1,this.#a.hidden=!1)}get isVisible(){return this.#a.hidden===!1}}class k0 extends de{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.textContent=t.data.textContent,this.textPosition=t.data.textPosition,this.annotationEditorType=wt.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const t=document.createElement("div");t.classList.add("annotationTextContent"),t.setAttribute("role","comment");for(const e of this.textContent){const n=document.createElement("span");n.textContent=e,t.append(n)}this.container.append(t)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}class GT extends de{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");const{data:t,width:e,height:n}=this,s=this.svgFactory.create(e,n,!0),l=this.#t=this.svgFactory.createElement("svg:line");return l.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),l.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),l.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),l.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),l.setAttribute("stroke-width",t.borderStyle.width||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),s.append(l),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class qT extends de{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");const{data:t,width:e,height:n}=this,s=this.svgFactory.create(e,n,!0),l=t.borderStyle.width,c=this.#t=this.svgFactory.createElement("svg:rect");return c.setAttribute("x",l/2),c.setAttribute("y",l/2),c.setAttribute("width",e-l),c.setAttribute("height",n-l),c.setAttribute("stroke-width",l||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),s.append(c),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class $T extends de{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");const{data:t,width:e,height:n}=this,s=this.svgFactory.create(e,n,!0),l=t.borderStyle.width,c=this.#t=this.svgFactory.createElement("svg:ellipse");return c.setAttribute("cx",e/2),c.setAttribute("cy",n/2),c.setAttribute("rx",e/2-l/2),c.setAttribute("ry",n/2-l/2),c.setAttribute("stroke-width",l||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),s.append(c),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class L0 extends de{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:e,borderStyle:n,popupRef:s},width:l,height:c}=this;if(!e)return this.container;const d=this.svgFactory.create(l,c,!0);let h=[];for(let m=0,v=e.length;m<v;m+=2){const y=e[m]-t[0],b=t[3]-e[m+1];h.push(`${y},${b}`)}h=h.join(" ");const f=this.#t=this.svgFactory.createElement(this.svgElementName);return f.setAttribute("points",h),f.setAttribute("stroke-width",n.width||1),f.setAttribute("stroke","transparent"),f.setAttribute("fill","transparent"),d.append(f),this.container.append(d),!s&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class VT extends L0{constructor(t){super(t),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class YT extends de{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class wf extends de{#t=null;#e=[];constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?wt.HIGHLIGHT:wt.INK}#i(t,e){switch(t){case 90:return{transform:`rotate(90) translate(${-e[0]},${e[1]}) scale(1,-1)`,width:e[3]-e[1],height:e[2]-e[0]};case 180:return{transform:`rotate(180) translate(${-e[2]},${e[1]}) scale(1,-1)`,width:e[2]-e[0],height:e[3]-e[1]};case 270:return{transform:`rotate(270) translate(${-e[2]},${e[3]}) scale(1,-1)`,width:e[3]-e[1],height:e[2]-e[0]};default:return{transform:`translate(${-e[0]},${e[3]}) scale(1,-1)`,width:e[2]-e[0],height:e[3]-e[1]}}}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,rotation:e,inkLists:n,borderStyle:s,popupRef:l}}=this,{transform:c,width:d,height:h}=this.#i(e,t),f=this.svgFactory.create(d,h,!0),m=this.#t=this.svgFactory.createElement("svg:g");f.append(m),m.setAttribute("stroke-width",s.width||1),m.setAttribute("stroke-linecap","round"),m.setAttribute("stroke-linejoin","round"),m.setAttribute("stroke-miterlimit",10),m.setAttribute("stroke","transparent"),m.setAttribute("fill","transparent"),m.setAttribute("transform",c);for(let v=0,y=n.length;v<y;v++){const b=this.svgFactory.createElement(this.svgElementName);this.#e.push(b),b.setAttribute("points",n[v].join(",")),m.append(b)}return!l&&this.hasPopupData&&this._createPopup(),this.container.append(f),this._editOnDoubleClick(),this.container}updateEdited(t){super.updateEdited(t);const{thickness:e,points:n,rect:s}=t,l=this.#t;if(e>=0&&l.setAttribute("stroke-width",e||1),n)for(let c=0,d=this.#e.length;c<d;c++)this.#e[c].setAttribute("points",n[c].join(","));if(s){const{transform:c,width:d,height:h}=this.#i(this.data.rotation,s);l.parentElement.setAttribute("viewBox",`0 0 ${d} ${h}`),l.setAttribute("transform",c)}}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class j0 extends de{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=wt.HIGHLIGHT}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),this.container}}class XT extends de{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class KT extends de{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class WT extends de{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class P0 extends de{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=wt.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}class QT extends de{#t=null;constructor(t){super(t,{isRenderable:!0});const{file:e}=this.data;this.filename=e.filename,this.content=e.content,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,...e})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:e}=this;let n;e.hasAppearance||e.fillAlpha===0?n=document.createElement("div"):(n=document.createElement("img"),n.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(e.name)?"paperclip":"pushpin"}.svg`,e.fillAlpha&&e.fillAlpha<1&&(n.style=`filter: opacity(${Math.round(e.fillAlpha*100)}%);`)),n.addEventListener("dblclick",this.#e.bind(this)),this.#t=n;const{isMac:s}=_e.platform;return t.addEventListener("keydown",l=>{l.key==="Enter"&&(s?l.metaKey:l.ctrlKey)&&this.#e()}),!e.popupRef&&this.hasPopupData?this._createPopup():n.classList.add("popupTriggerArea"),t.append(n),t}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}#e(){this.downloadManager?.openOrDownloadData(this.content,this.filename)}}class Dc{#t=null;#e=null;#i=new Map;#n=null;constructor({div:t,accessibilityManager:e,annotationCanvasMap:n,annotationEditorUIManager:s,page:l,viewport:c,structTreeLayer:d}){this.div=t,this.#t=e,this.#e=n,this.#n=d||null,this.page=l,this.viewport=c,this.zIndex=0,this._annotationEditorUIManager=s}hasEditableAnnotations(){return this.#i.size>0}async#s(t,e){const n=t.firstChild||t,s=n.id=`${uf}${e}`,l=await this.#n?.getAriaAttributes(s);if(l)for(const[c,d]of l)n.setAttribute(c,d);this.div.append(t),this.#t?.moveElementInDOM(this.div,t,n,!1)}async render(t){const{annotations:e}=t,n=this.div;ia(n,this.viewport);const s=new Map,l={data:null,layer:n,linkService:t.linkService,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:t.renderForms!==!1,svgFactory:new co,annotationStorage:t.annotationStorage||new mf,enableScripting:t.enableScripting===!0,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects,parent:this,elements:null};for(const c of e){if(c.noHTML)continue;const d=c.annotationType===le.POPUP;if(d){const m=s.get(c.id);if(!m)continue;l.elements=m}else if(c.rect[2]===c.rect[0]||c.rect[3]===c.rect[1])continue;l.data=c;const h=Cy.create(l);if(!h.isRenderable)continue;if(!d&&c.popupRef){const m=s.get(c.popupRef);m?m.push(h):s.set(c.popupRef,[h])}const f=h.render();c.hidden&&(f.style.visibility="hidden"),await this.#s(f,c.id),h._isEditable&&(this.#i.set(h.data.id,h),this._annotationEditorUIManager?.renderAnnotationElement(h))}this.#a()}async addLinkAnnotations(t,e){const n={data:null,layer:this.div,linkService:e,svgFactory:new co,parent:this};for(const s of t){s.borderStyle||=Dc._defaultBorderStyle,n.data=s;const l=Cy.create(n);if(!l.isRenderable)continue;const c=l.render();await this.#s(c,s.id)}}update({viewport:t}){const e=this.div;this.viewport=t,ia(e,{rotation:t.rotation}),this.#a(),e.hidden=!1}#a(){if(!this.#e)return;const t=this.div;for(const[e,n]of this.#e){const s=t.querySelector(`[data-annotation-id="${e}"]`);if(!s)continue;n.className="annotationContent";const{firstChild:l}=s;l?l.nodeName==="CANVAS"?l.replaceWith(n):l.classList.contains("annotationContent")?l.after(n):l.before(n):s.append(n);const c=this.#i.get(e);c&&(c._hasNoCanvas?(this._annotationEditorUIManager?.setMissingCanvas(e,s.id,n),c._hasNoCanvas=!1):c.canvas=n)}this.#e.clear()}getEditableAnnotations(){return Array.from(this.#i.values())}getEditableAnnotation(t){return this.#i.get(t)}static get _defaultBorderStyle(){return Nt(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:Ts.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}}const Yl=/\r\n?|\n/g;class be extends pt{#t;#e="";#i=`${this.id}-editor`;#n=null;#s;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){const t=be.prototype,e=l=>l.isEmpty(),n=_n.TRANSLATE_SMALL,s=_n.TRANSLATE_BIG;return Nt(this,"_keyboardManager",new xo([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-n,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-s,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[n,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[s,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-n],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-s],checker:e}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,n],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,s],checker:e}]]))}static _type="freetext";static _editorType=wt.FREETEXT;constructor(t){super({...t,name:"freeTextEditor"}),this.#t=t.color||be._defaultColor||pt._defaultLineColor,this.#s=t.fontSize||be._defaultFontSize}static initialize(t,e){pt.initialize(t,e);const n=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(n.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,e){switch(t){case kt.FREETEXT_SIZE:be._defaultFontSize=e;break;case kt.FREETEXT_COLOR:be._defaultColor=e;break}}updateParams(t,e){switch(t){case kt.FREETEXT_SIZE:this.#a(e);break;case kt.FREETEXT_COLOR:this.#l(e);break}}static get defaultPropertiesToUpdate(){return[[kt.FREETEXT_SIZE,be._defaultFontSize],[kt.FREETEXT_COLOR,be._defaultColor||pt._defaultLineColor]]}get propertiesToUpdate(){return[[kt.FREETEXT_SIZE,this.#s],[kt.FREETEXT_COLOR,this.#t]]}#a(t){const e=s=>{this.editorDiv.style.fontSize=`calc(${s}px * var(--total-scale-factor))`,this.translate(0,-(s-this.#s)*this.parentScale),this.#s=s,this.#d()},n=this.#s;this.addCommands({cmd:e.bind(this,t),undo:e.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:kt.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}#l(t){const e=s=>{this.#t=this.editorDiv.style.color=s},n=this.#t;this.addCommands({cmd:e.bind(this,t),undo:e.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:kt.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(t,e){this._uiManager.translateSelectedEditors(t,e,!0)}getInitialTranslation(){const t=this.parentScale;return[-be._internalPadding*t,-(be._internalPadding+this.#s)*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.#n=new AbortController;const t=this._uiManager.combinedSignal(this.#n);return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:t}),!0}disableEditMode(){return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#i),this._isDraggable=!0,this.#n?.abort(),this.#n=null,this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(t){this.width||(this.enableEditMode(),t&&this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}#o(){const t=[];this.editorDiv.normalize();let e=null;for(const n of this.editorDiv.childNodes)e?.nodeType===Node.TEXT_NODE&&n.nodeName==="BR"||(t.push(be.#c(n)),e=n);return t.join(`
`)}#d(){const[t,e]=this.parentDimensions;let n;if(this.isAttachedToDOM)n=this.div.getBoundingClientRect();else{const{currentLayer:s,div:l}=this,c=l.style.display,d=l.classList.contains("hidden");l.classList.remove("hidden"),l.style.display="hidden",s.div.append(this.div),n=l.getBoundingClientRect(),l.remove(),l.style.display=c,l.classList.toggle("hidden",d)}this.rotation%180===this.parentRotation%180?(this.width=n.width/t,this.height=n.height/e):(this.width=n.height/t,this.height=n.width/e),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=this.#e,e=this.#e=this.#o().trimEnd();if(t===e)return;const n=s=>{if(this.#e=s,!s){this.remove();return}this.#h(),this._uiManager.rebuild(this),this.#d()};this.addCommands({cmd:()=>{n(e)},undo:()=>{n(t)},mustExec:!1}),this.#d()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){be._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let t,e;(this._isCopy||this.annotationElementId)&&(t=this.x,e=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#i),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:n}=this.editorDiv;if(n.fontSize=`calc(${this.#s}px * var(--total-scale-factor))`,n.color=this.#t,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[s,l]=this.parentDimensions;if(this.annotationElementId){const{position:c}=this._initialData;let[d,h]=this.getInitialTranslation();[d,h]=this.pageTranslationToScreen(d,h);const[f,m]=this.pageDimensions,[v,y]=this.pageTranslation;let b,x;switch(this.rotation){case 0:b=t+(c[0]-v)/f,x=e+this.height-(c[1]-y)/m;break;case 90:b=t+(c[0]-v)/f,x=e-(c[1]-y)/m,[d,h]=[h,-d];break;case 180:b=t-this.width+(c[0]-v)/f,x=e-(c[1]-y)/m,[d,h]=[-d,-h];break;case 270:b=t+(c[0]-v-this.height*m)/f,x=e+(c[1]-y-this.width*f)/m,[d,h]=[-h,d];break}this.setAt(b*s,x*l,d,h)}else this._moveAfterPaste(t,e);this.#h(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}static#c(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(Yl,"")}editorDivPaste(t){const e=t.clipboardData||window.clipboardData,{types:n}=e;if(n.length===1&&n[0]==="text/plain")return;t.preventDefault();const s=be.#f(e.getData("text")||"").replaceAll(Yl,`
`);if(!s)return;const l=window.getSelection();if(!l.rangeCount)return;this.editorDiv.normalize(),l.deleteFromDocument();const c=l.getRangeAt(0);if(!s.includes(`
`)){c.insertNode(document.createTextNode(s)),this.editorDiv.normalize(),l.collapseToStart();return}const{startContainer:d,startOffset:h}=c,f=[],m=[];if(d.nodeType===Node.TEXT_NODE){const b=d.parentElement;if(m.push(d.nodeValue.slice(h).replaceAll(Yl,"")),b!==this.editorDiv){let x=f;for(const A of this.editorDiv.childNodes){if(A===b){x=m;continue}x.push(be.#c(A))}}f.push(d.nodeValue.slice(0,h).replaceAll(Yl,""))}else if(d===this.editorDiv){let b=f,x=0;for(const A of this.editorDiv.childNodes)x++===h&&(b=m),b.push(be.#c(A))}this.#e=`${f.join(`
`)}${s}${m.join(`
`)}`,this.#h();const v=new Range;let y=Math.sumPrecise(f.map(b=>b.length));for(const{firstChild:b}of this.editorDiv.childNodes)if(b.nodeType===Node.TEXT_NODE){const x=b.nodeValue.length;if(y<=x){v.setStart(b,y),v.setEnd(b,y);break}y-=x}l.removeAllRanges(),l.addRange(v)}#h(){if(this.editorDiv.replaceChildren(),!!this.#e)for(const t of this.#e.split(`
`)){const e=document.createElement("div");e.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(e)}}#u(){return this.#e.replaceAll(""," ")}static#f(t){return t.replaceAll(" ","")}get contentDiv(){return this.editorDiv}static async deserialize(t,e,n){let s=null;if(t instanceof k0){const{data:{defaultAppearanceData:{fontSize:c,fontColor:d},rect:h,rotation:f,id:m,popupRef:v},textContent:y,textPosition:b,parent:{page:{pageNumber:x}}}=t;if(!y||y.length===0)return null;s=t={annotationType:wt.FREETEXT,color:Array.from(d),fontSize:c,value:y.join(`
`),position:b,pageIndex:x-1,rect:h.slice(0),rotation:f,id:m,deleted:!1,popupRef:v}}const l=await super.deserialize(t,e,n);return l.#s=t.fontSize,l.#t=ct.makeHexColor(...t.color),l.#e=be.#f(t.value),l.annotationElementId=t.id||null,l._initialData=s,l}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const e=be._internalPadding*this.parentScale,n=this.getRect(e,e),s=pt._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.#t),l={annotationType:wt.FREETEXT,color:s,fontSize:this.#s,value:this.#u(),pageIndex:this.pageIndex,rect:n,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?(l.isCopy=!0,l):this.annotationElementId&&!this.#r(l)?null:(l.id=this.annotationElementId,l)}#r(t){const{value:e,fontSize:n,color:s,pageIndex:l}=this._initialData;return this._hasBeenMoved||t.value!==e||t.fontSize!==n||t.color.some((c,d)=>c!==s[d])||t.pageIndex!==l}renderAnnotationElement(t){const e=super.renderAnnotationElement(t);if(this.deleted)return e;const{style:n}=e;n.fontSize=`calc(${this.#s}px * var(--total-scale-factor))`,n.color=this.#t,e.replaceChildren();for(const l of this.#e.split(`
`)){const c=document.createElement("div");c.append(l?document.createTextNode(l):document.createElement("br")),e.append(c)}const s=be._internalPadding*this.parentScale;return t.updateEdited({rect:this.getRect(s,s),popupContent:this.#e}),e}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}}class st{static PRECISION=1e-4;toSVGPath(){qt("Abstract method `toSVGPath` must be implemented.")}get box(){qt("Abstract getter `box` must be implemented.")}serialize(t,e){qt("Abstract method `serialize` must be implemented.")}static _rescale(t,e,n,s,l,c){c||=new Float32Array(t.length);for(let d=0,h=t.length;d<h;d+=2)c[d]=e+t[d]*s,c[d+1]=n+t[d+1]*l;return c}static _rescaleAndSwap(t,e,n,s,l,c){c||=new Float32Array(t.length);for(let d=0,h=t.length;d<h;d+=2)c[d]=e+t[d+1]*s,c[d+1]=n+t[d]*l;return c}static _translate(t,e,n,s){s||=new Float32Array(t.length);for(let l=0,c=t.length;l<c;l+=2)s[l]=e+t[l],s[l+1]=n+t[l+1];return s}static svgRound(t){return Math.round(t*1e4)}static _normalizePoint(t,e,n,s,l){switch(l){case 90:return[1-e/n,t/s];case 180:return[1-t/n,1-e/s];case 270:return[e/n,1-t/s];default:return[t/n,e/s]}}static _normalizePagePoint(t,e,n){switch(n){case 90:return[1-e,t];case 180:return[1-t,1-e];case 270:return[e,1-t];default:return[t,e]}}static createBezierPoints(t,e,n,s,l,c){return[(t+5*n)/6,(e+5*s)/6,(5*n+l)/6,(5*s+c)/6,(n+l)/2,(s+c)/2]}}class Ca{#t;#e=[];#i;#n;#s=[];#a=new Float32Array(18);#l;#o;#d;#c;#h;#u;#f=[];static#r=8;static#p=2;static#g=Ca.#r+Ca.#p;constructor({x:t,y:e},n,s,l,c,d=0){this.#t=n,this.#u=l*s,this.#n=c,this.#a.set([NaN,NaN,NaN,NaN,t,e],6),this.#i=d,this.#c=Ca.#r*s,this.#d=Ca.#g*s,this.#h=s,this.#f.push(t,e)}isEmpty(){return isNaN(this.#a[8])}#m(){const t=this.#a.subarray(4,6),e=this.#a.subarray(16,18),[n,s,l,c]=this.#t;return[(this.#l+(t[0]-e[0])/2-n)/l,(this.#o+(t[1]-e[1])/2-s)/c,(this.#l+(e[0]-t[0])/2-n)/l,(this.#o+(e[1]-t[1])/2-s)/c]}add({x:t,y:e}){this.#l=t,this.#o=e;const[n,s,l,c]=this.#t;let[d,h,f,m]=this.#a.subarray(8,12);const v=t-f,y=e-m,b=Math.hypot(v,y);if(b<this.#d)return!1;const x=b-this.#c,A=x/b,T=A*v,E=A*y;let M=d,R=h;d=f,h=m,f+=T,m+=E,this.#f?.push(t,e);const N=-E/x,D=T/x,L=N*this.#u,z=D*this.#u;return this.#a.set(this.#a.subarray(2,8),0),this.#a.set([f+L,m+z],4),this.#a.set(this.#a.subarray(14,18),12),this.#a.set([f-L,m-z],16),isNaN(this.#a[6])?(this.#s.length===0&&(this.#a.set([d+L,h+z],2),this.#s.push(NaN,NaN,NaN,NaN,(d+L-n)/l,(h+z-s)/c),this.#a.set([d-L,h-z],14),this.#e.push(NaN,NaN,NaN,NaN,(d-L-n)/l,(h-z-s)/c)),this.#a.set([M,R,d,h,f,m],6),!this.isEmpty()):(this.#a.set([M,R,d,h,f,m],6),Math.abs(Math.atan2(R-h,M-d)-Math.atan2(E,T))<Math.PI/2?([d,h,f,m]=this.#a.subarray(2,6),this.#s.push(NaN,NaN,NaN,NaN,((d+f)/2-n)/l,((h+m)/2-s)/c),[d,h,M,R]=this.#a.subarray(14,18),this.#e.push(NaN,NaN,NaN,NaN,((M+d)/2-n)/l,((R+h)/2-s)/c),!0):([M,R,d,h,f,m]=this.#a.subarray(0,6),this.#s.push(((M+5*d)/6-n)/l,((R+5*h)/6-s)/c,((5*d+f)/6-n)/l,((5*h+m)/6-s)/c,((d+f)/2-n)/l,((h+m)/2-s)/c),[f,m,d,h,M,R]=this.#a.subarray(12,18),this.#e.push(((M+5*d)/6-n)/l,((R+5*h)/6-s)/c,((5*d+f)/6-n)/l,((5*h+m)/6-s)/c,((d+f)/2-n)/l,((h+m)/2-s)/c),!0))}toSVGPath(){if(this.isEmpty())return"";const t=this.#s,e=this.#e;if(isNaN(this.#a[6])&&!this.isEmpty())return this.#v();const n=[];n.push(`M${t[4]} ${t[5]}`);for(let s=6;s<t.length;s+=6)isNaN(t[s])?n.push(`L${t[s+4]} ${t[s+5]}`):n.push(`C${t[s]} ${t[s+1]} ${t[s+2]} ${t[s+3]} ${t[s+4]} ${t[s+5]}`);this.#b(n);for(let s=e.length-6;s>=6;s-=6)isNaN(e[s])?n.push(`L${e[s+4]} ${e[s+5]}`):n.push(`C${e[s]} ${e[s+1]} ${e[s+2]} ${e[s+3]} ${e[s+4]} ${e[s+5]}`);return this.#y(n),n.join(" ")}#v(){const[t,e,n,s]=this.#t,[l,c,d,h]=this.#m();return`M${(this.#a[2]-t)/n} ${(this.#a[3]-e)/s} L${(this.#a[4]-t)/n} ${(this.#a[5]-e)/s} L${l} ${c} L${d} ${h} L${(this.#a[16]-t)/n} ${(this.#a[17]-e)/s} L${(this.#a[14]-t)/n} ${(this.#a[15]-e)/s} Z`}#y(t){const e=this.#e;t.push(`L${e[4]} ${e[5]} Z`)}#b(t){const[e,n,s,l]=this.#t,c=this.#a.subarray(4,6),d=this.#a.subarray(16,18),[h,f,m,v]=this.#m();t.push(`L${(c[0]-e)/s} ${(c[1]-n)/l} L${h} ${f} L${m} ${v} L${(d[0]-e)/s} ${(d[1]-n)/l}`)}newFreeDrawOutline(t,e,n,s,l,c){return new z0(t,e,n,s,l,c)}getOutlines(){const t=this.#s,e=this.#e,n=this.#a,[s,l,c,d]=this.#t,h=new Float32Array((this.#f?.length??0)+2);for(let v=0,y=h.length-2;v<y;v+=2)h[v]=(this.#f[v]-s)/c,h[v+1]=(this.#f[v+1]-l)/d;if(h[h.length-2]=(this.#l-s)/c,h[h.length-1]=(this.#o-l)/d,isNaN(n[6])&&!this.isEmpty())return this.#A(h);const f=new Float32Array(this.#s.length+24+this.#e.length);let m=t.length;for(let v=0;v<m;v+=2){if(isNaN(t[v])){f[v]=f[v+1]=NaN;continue}f[v]=t[v],f[v+1]=t[v+1]}m=this.#_(f,m);for(let v=e.length-6;v>=6;v-=6)for(let y=0;y<6;y+=2){if(isNaN(e[v+y])){f[m]=f[m+1]=NaN,m+=2;continue}f[m]=e[v+y],f[m+1]=e[v+y+1],m+=2}return this.#S(f,m),this.newFreeDrawOutline(f,h,this.#t,this.#h,this.#i,this.#n)}#A(t){const e=this.#a,[n,s,l,c]=this.#t,[d,h,f,m]=this.#m(),v=new Float32Array(36);return v.set([NaN,NaN,NaN,NaN,(e[2]-n)/l,(e[3]-s)/c,NaN,NaN,NaN,NaN,(e[4]-n)/l,(e[5]-s)/c,NaN,NaN,NaN,NaN,d,h,NaN,NaN,NaN,NaN,f,m,NaN,NaN,NaN,NaN,(e[16]-n)/l,(e[17]-s)/c,NaN,NaN,NaN,NaN,(e[14]-n)/l,(e[15]-s)/c],0),this.newFreeDrawOutline(v,t,this.#t,this.#h,this.#i,this.#n)}#S(t,e){const n=this.#e;return t.set([NaN,NaN,NaN,NaN,n[4],n[5]],e),e+=6}#_(t,e){const n=this.#a.subarray(4,6),s=this.#a.subarray(16,18),[l,c,d,h]=this.#t,[f,m,v,y]=this.#m();return t.set([NaN,NaN,NaN,NaN,(n[0]-l)/d,(n[1]-c)/h,NaN,NaN,NaN,NaN,f,m,NaN,NaN,NaN,NaN,v,y,NaN,NaN,NaN,NaN,(s[0]-l)/d,(s[1]-c)/h],e),e+=24}}class z0 extends st{#t;#e=new Float32Array(4);#i;#n;#s;#a;#l;constructor(t,e,n,s,l,c){super(),this.#l=t,this.#s=e,this.#t=n,this.#a=s,this.#i=l,this.#n=c,this.lastPoint=[NaN,NaN],this.#o(c);const[d,h,f,m]=this.#e;for(let v=0,y=t.length;v<y;v+=2)t[v]=(t[v]-d)/f,t[v+1]=(t[v+1]-h)/m;for(let v=0,y=e.length;v<y;v+=2)e[v]=(e[v]-d)/f,e[v+1]=(e[v+1]-h)/m}toSVGPath(){const t=[`M${this.#l[4]} ${this.#l[5]}`];for(let e=6,n=this.#l.length;e<n;e+=6){if(isNaN(this.#l[e])){t.push(`L${this.#l[e+4]} ${this.#l[e+5]}`);continue}t.push(`C${this.#l[e]} ${this.#l[e+1]} ${this.#l[e+2]} ${this.#l[e+3]} ${this.#l[e+4]} ${this.#l[e+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,e,n,s],l){const c=n-t,d=s-e;let h,f;switch(l){case 0:h=st._rescale(this.#l,t,s,c,-d),f=st._rescale(this.#s,t,s,c,-d);break;case 90:h=st._rescaleAndSwap(this.#l,t,e,c,d),f=st._rescaleAndSwap(this.#s,t,e,c,d);break;case 180:h=st._rescale(this.#l,n,e,-c,d),f=st._rescale(this.#s,n,e,-c,d);break;case 270:h=st._rescaleAndSwap(this.#l,n,s,-c,-d),f=st._rescaleAndSwap(this.#s,n,s,-c,-d);break}return{outline:Array.from(h),points:[Array.from(f)]}}#o(t){const e=this.#l;let n=e[4],s=e[5];const l=[n,s,n,s];let c=n,d=s;const h=t?Math.max:Math.min;for(let m=6,v=e.length;m<v;m+=6){const y=e[m+4],b=e[m+5];if(isNaN(e[m]))ct.pointBoundingBox(y,b,l),d<b?(c=y,d=b):d===b&&(c=h(c,y));else{const x=[1/0,1/0,-1/0,-1/0];ct.bezierBoundingBox(n,s,...e.slice(m,m+6),x),ct.rectBoundingBox(...x,l),d<x[3]?(c=x[2],d=x[3]):d===x[3]&&(c=h(c,x[2]))}n=y,s=b}const f=this.#e;f[0]=l[0]-this.#i,f[1]=l[1]-this.#i,f[2]=l[2]-l[0]+2*this.#i,f[3]=l[3]-l[1]+2*this.#i,this.lastPoint=[c,d]}get box(){return this.#e}newOutliner(t,e,n,s,l,c=0){return new Ca(t,e,n,s,l,c)}getNewOutline(t,e){const[n,s,l,c]=this.#e,[d,h,f,m]=this.#t,v=l*f,y=c*m,b=n*f+d,x=s*m+h,A=this.newOutliner({x:this.#s[0]*v+b,y:this.#s[1]*y+x},this.#t,this.#a,t,this.#n,e??this.#i);for(let T=2;T<this.#s.length;T+=2)A.add({x:this.#s[T]*v+b,y:this.#s[T+1]*y+x});return A.getOutlines()}}class Lh{#t;#e;#i=[];#n=[];constructor(t,e=0,n=0,s=!0){const l=[1/0,1/0,-1/0,-1/0],c=10**-4;for(const{x:b,y:x,width:A,height:T}of t){const E=Math.floor((b-e)/c)*c,M=Math.ceil((b+A+e)/c)*c,R=Math.floor((x-e)/c)*c,N=Math.ceil((x+T+e)/c)*c,D=[E,R,N,!0],L=[M,R,N,!1];this.#i.push(D,L),ct.rectBoundingBox(E,R,M,N,l)}const d=l[2]-l[0]+2*n,h=l[3]-l[1]+2*n,f=l[0]-n,m=l[1]-n,v=this.#i.at(s?-1:-2),y=[v[0],v[2]];for(const b of this.#i){const[x,A,T]=b;b[0]=(x-f)/d,b[1]=(A-m)/h,b[2]=(T-m)/h}this.#t=new Float32Array([f,m,d,h]),this.#e=y}getOutlines(){this.#i.sort((e,n)=>e[0]-n[0]||e[1]-n[1]||e[2]-n[2]);const t=[];for(const e of this.#i)e[3]?(t.push(...this.#d(e)),this.#l(e)):(this.#o(e),t.push(...this.#d(e)));return this.#s(t)}#s(t){const e=[],n=new Set;for(const c of t){const[d,h,f]=c;e.push([d,h,c],[d,f,c])}e.sort((c,d)=>c[1]-d[1]||c[0]-d[0]);for(let c=0,d=e.length;c<d;c+=2){const h=e[c][2],f=e[c+1][2];h.push(f),f.push(h),n.add(h),n.add(f)}const s=[];let l;for(;n.size>0;){const c=n.values().next().value;let[d,h,f,m,v]=c;n.delete(c);let y=d,b=h;for(l=[d,f],s.push(l);;){let x;if(n.has(m))x=m;else if(n.has(v))x=v;else break;n.delete(x),[d,h,f,m,v]=x,y!==d&&(l.push(y,b,d,b===h?h:f),y=d),b=b===h?f:h}l.push(y,b)}return new ZT(s,this.#t,this.#e)}#a(t){const e=this.#n;let n=0,s=e.length-1;for(;n<=s;){const l=n+s>>1,c=e[l][0];if(c===t)return l;c<t?n=l+1:s=l-1}return s+1}#l([,t,e]){const n=this.#a(t);this.#n.splice(n,0,[t,e])}#o([,t,e]){const n=this.#a(t);for(let s=n;s<this.#n.length;s++){const[l,c]=this.#n[s];if(l!==t)break;if(l===t&&c===e){this.#n.splice(s,1);return}}for(let s=n-1;s>=0;s--){const[l,c]=this.#n[s];if(l!==t)break;if(l===t&&c===e){this.#n.splice(s,1);return}}}#d(t){const[e,n,s]=t,l=[[e,n,s]],c=this.#a(s);for(let d=0;d<c;d++){const[h,f]=this.#n[d];for(let m=0,v=l.length;m<v;m++){const[,y,b]=l[m];if(!(f<=y||b<=h)){if(y>=h){if(b>f)l[m][1]=f;else{if(v===1)return[];l.splice(m,1),m--,v--}continue}l[m][2]=h,b>f&&l.push([e,f,b])}}}return l}}class ZT extends st{#t;#e;constructor(t,e,n){super(),this.#e=t,this.#t=e,this.lastPoint=n}toSVGPath(){const t=[];for(const e of this.#e){let[n,s]=e;t.push(`M${n} ${s}`);for(let l=2;l<e.length;l+=2){const c=e[l],d=e[l+1];c===n?(t.push(`V${d}`),s=d):d===s&&(t.push(`H${c}`),n=c)}t.push("Z")}return t.join(" ")}serialize([t,e,n,s],l){const c=[],d=n-t,h=s-e;for(const f of this.#e){const m=new Array(f.length);for(let v=0;v<f.length;v+=2)m[v]=t+f[v]*d,m[v+1]=s-f[v+1]*h;c.push(m)}return c}get box(){return this.#t}get classNamesForOutlining(){return["highlightOutline"]}}class jh extends Ca{newFreeDrawOutline(t,e,n,s,l,c){return new JT(t,e,n,s,l,c)}}class JT extends z0{newOutliner(t,e,n,s,l,c=0){return new jh(t,e,n,s,l,c)}}class hi{#t=null;#e=null;#i;#n=null;#s=!1;#a=!1;#l=null;#o;#d=null;#c=null;#h;static#u=null;static get _keyboardManager(){return Nt(this,"_keyboardManager",new xo([[["Escape","mac+Escape"],hi.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],hi.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],hi.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],hi.prototype._moveToPrevious],[["Home","mac+Home"],hi.prototype._moveToBeginning],[["End","mac+End"],hi.prototype._moveToEnd]]))}constructor({editor:t=null,uiManager:e=null}){t?(this.#a=!1,this.#h=kt.HIGHLIGHT_COLOR,this.#l=t):(this.#a=!0,this.#h=kt.HIGHLIGHT_DEFAULT_COLOR),this.#c=t?._uiManager||e,this.#o=this.#c._eventBus,this.#i=t?.color||this.#c?.highlightColors.values().next().value||"#FFFF98",hi.#u||=Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"})}renderButton(){const t=this.#t=document.createElement("button");t.className="colorPicker",t.tabIndex="0",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),t.setAttribute("aria-haspopup",!0);const e=this.#c._signal;t.addEventListener("click",this.#g.bind(this),{signal:e}),t.addEventListener("keydown",this.#p.bind(this),{signal:e});const n=this.#e=document.createElement("span");return n.className="swatch",n.setAttribute("aria-hidden",!0),n.style.backgroundColor=this.#i,t.append(n),t}renderMainDropdown(){const t=this.#n=this.#f();return t.setAttribute("aria-orientation","horizontal"),t.setAttribute("aria-labelledby","highlightColorPickerLabel"),t}#f(){const t=document.createElement("div"),e=this.#c._signal;t.addEventListener("contextmenu",_i,{signal:e}),t.className="dropdown",t.role="listbox",t.setAttribute("aria-multiselectable",!1),t.setAttribute("aria-orientation","vertical"),t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[n,s]of this.#c.highlightColors){const l=document.createElement("button");l.tabIndex="0",l.role="option",l.setAttribute("data-color",s),l.title=n,l.setAttribute("data-l10n-id",hi.#u[n]);const c=document.createElement("span");l.append(c),c.className="swatch",c.style.backgroundColor=s,l.setAttribute("aria-selected",s===this.#i),l.addEventListener("click",this.#r.bind(this,s),{signal:e}),t.append(l)}return t.addEventListener("keydown",this.#p.bind(this),{signal:e}),t}#r(t,e){e.stopPropagation(),this.#o.dispatch("switchannotationeditorparams",{source:this,type:this.#h,value:t})}_colorSelectFromKeyboard(t){if(t.target===this.#t){this.#g(t);return}const e=t.target.getAttribute("data-color");e&&this.#r(e,t)}_moveToNext(t){if(!this.#v){this.#g(t);return}if(t.target===this.#t){this.#n.firstChild?.focus();return}t.target.nextSibling?.focus()}_moveToPrevious(t){if(t.target===this.#n?.firstChild||t.target===this.#t){this.#v&&this._hideDropdownFromKeyboard();return}this.#v||this.#g(t),t.target.previousSibling?.focus()}_moveToBeginning(t){if(!this.#v){this.#g(t);return}this.#n.firstChild?.focus()}_moveToEnd(t){if(!this.#v){this.#g(t);return}this.#n.lastChild?.focus()}#p(t){hi._keyboardManager.exec(this,t)}#g(t){if(this.#v){this.hideDropdown();return}if(this.#s=t.detail===0,this.#d||(this.#d=new AbortController,window.addEventListener("pointerdown",this.#m.bind(this),{signal:this.#c.combinedSignal(this.#d)})),this.#n){this.#n.classList.remove("hidden");return}const e=this.#n=this.#f();this.#t.append(e)}#m(t){this.#n?.contains(t.target)||this.hideDropdown()}hideDropdown(){this.#n?.classList.add("hidden"),this.#d?.abort(),this.#d=null}get#v(){return this.#n&&!this.#n.classList.contains("hidden")}_hideDropdownFromKeyboard(){if(!this.#a){if(!this.#v){this.#l?.unselect();return}this.hideDropdown(),this.#t.focus({preventScroll:!0,focusVisible:this.#s})}}updateColor(t){if(this.#e&&(this.#e.style.backgroundColor=t),!this.#n)return;const e=this.#c.highlightColors.values();for(const n of this.#n.children)n.setAttribute("aria-selected",e.next().value===t)}destroy(){this.#t?.remove(),this.#t=null,this.#e=null,this.#n?.remove(),this.#n=null}}class ce extends pt{#t=null;#e=0;#i;#n=null;#s=null;#a=null;#l=null;#o=0;#d=null;#c=null;#h=null;#u=!1;#f=null;#r;#p=null;#g="";#m;#v="";static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=12;static _type="highlight";static _editorType=wt.HIGHLIGHT;static _freeHighlightId=-1;static _freeHighlight=null;static _freeHighlightClipId="";static get _keyboardManager(){const t=ce.prototype;return Nt(this,"_keyboardManager",new xo([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}constructor(t){super({...t,name:"highlightEditor"}),this.color=t.color||ce._defaultColor,this.#m=t.thickness||ce._defaultThickness,this.#r=t.opacity||ce._defaultOpacity,this.#i=t.boxes||null,this.#v=t.methodOfCreation||"",this.#g=t.text||"",this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",t.highlightId>-1?(this.#u=!0,this.#b(t),this.#D()):this.#i&&(this.#t=t.anchorNode,this.#e=t.anchorOffset,this.#l=t.focusNode,this.#o=t.focusOffset,this.#y(),this.#D(),this.rotate(this.rotation))}get telemetryInitialData(){return{action:"added",type:this.#u?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:this.#m,methodOfCreation:this.#v}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}#y(){const t=new Lh(this.#i,.001);this.#c=t.getOutlines(),[this.x,this.y,this.width,this.height]=this.#c.box;const e=new Lh(this.#i,.0025,.001,this._uiManager.direction==="ltr");this.#a=e.getOutlines();const{lastPoint:n}=this.#a;this.#f=[(n[0]-this.x)/this.width,(n[1]-this.y)/this.height]}#b({highlightOutlines:t,highlightId:e,clipPathId:n}){this.#c=t;const s=1.5;if(this.#a=t.getNewOutline(this.#m/2+s,.0025),e>=0)this.#h=e,this.#n=n,this.parent.drawLayer.finalizeDraw(e,{bbox:t.box,path:{d:t.toSVGPath()}}),this.#p=this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:this.#a.box,path:{d:this.#a.toSVGPath()}},!0);else if(this.parent){const m=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(this.#h,{bbox:ce.#w(this.#c.box,(m-this.rotation+360)%360),path:{d:t.toSVGPath()}}),this.parent.drawLayer.updateProperties(this.#p,{bbox:ce.#w(this.#a.box,m),path:{d:this.#a.toSVGPath()}})}const[l,c,d,h]=t.box;switch(this.rotation){case 0:this.x=l,this.y=c,this.width=d,this.height=h;break;case 90:{const[m,v]=this.parentDimensions;this.x=c,this.y=1-l,this.width=d*v/m,this.height=h*m/v;break}case 180:this.x=1-l,this.y=1-c,this.width=d,this.height=h;break;case 270:{const[m,v]=this.parentDimensions;this.x=1-c,this.y=l,this.width=d*v/m,this.height=h*m/v;break}}const{lastPoint:f}=this.#a;this.#f=[(f[0]-l)/d,(f[1]-c)/h]}static initialize(t,e){pt.initialize(t,e),ce._defaultColor||=e.highlightColors?.values().next().value||"#fff066"}static updateDefaultParams(t,e){switch(t){case kt.HIGHLIGHT_DEFAULT_COLOR:ce._defaultColor=e;break;case kt.HIGHLIGHT_THICKNESS:ce._defaultThickness=e;break}}translateInPage(t,e){}get toolbarPosition(){return this.#f}updateParams(t,e){switch(t){case kt.HIGHLIGHT_COLOR:this.#A(e);break;case kt.HIGHLIGHT_THICKNESS:this.#S(e);break}}static get defaultPropertiesToUpdate(){return[[kt.HIGHLIGHT_DEFAULT_COLOR,ce._defaultColor],[kt.HIGHLIGHT_THICKNESS,ce._defaultThickness]]}get propertiesToUpdate(){return[[kt.HIGHLIGHT_COLOR,this.color||ce._defaultColor],[kt.HIGHLIGHT_THICKNESS,this.#m||ce._defaultThickness],[kt.HIGHLIGHT_FREE,this.#u]]}#A(t){const e=(l,c)=>{this.color=l,this.#r=c,this.parent?.drawLayer.updateProperties(this.#h,{root:{fill:l,"fill-opacity":c}}),this.#s?.updateColor(l)},n=this.color,s=this.#r;this.addCommands({cmd:e.bind(this,t,ce._defaultOpacity),undo:e.bind(this,n,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:kt.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(t)},!0)}#S(t){const e=this.#m,n=s=>{this.#m=s,this.#_(s)};this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,e),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:kt.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)}async addEditToolbar(){const t=await super.addEditToolbar();return t?(this._uiManager.highlightColors&&(this.#s=new hi({editor:this}),t.addColorPicker(this.#s)),t):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(this.#N())}getBaseTranslation(){return[0,0]}getRect(t,e){return super.getRect(t,e,this.#N())}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),t&&this.div.focus()}remove(){this.#C(),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#D(),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){let e=!1;this.parent&&!t?this.#C():t&&(this.#D(t),e=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(t),this.show(this._isVisible),e&&this.select()}#_(t){if(!this.#u)return;this.#b({highlightOutlines:this.#c.getNewOutline(t/2)}),this.fixAndSetPosition();const[e,n]=this.parentDimensions;this.setDims(this.width*e,this.height*n)}#C(){this.#h===null||!this.parent||(this.parent.drawLayer.remove(this.#h),this.#h=null,this.parent.drawLayer.remove(this.#p),this.#p=null)}#D(t=this.parent){this.#h===null&&({id:this.#h,clipPathId:this.#n}=t.drawLayer.draw({bbox:this.#c.box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.#r},rootClass:{highlight:!0,free:this.#u},path:{d:this.#c.toSVGPath()}},!1,!0),this.#p=t.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:this.#u},bbox:this.#a.box,path:{d:this.#a.toSVGPath()}},this.#u),this.#d&&(this.#d.style.clipPath=this.#n))}static#w([t,e,n,s],l){switch(l){case 90:return[1-e-s,t,s,n];case 180:return[1-t-n,1-e-s,n,s];case 270:return[e,1-t-n,s,n]}return[t,e,n,s]}rotate(t){const{drawLayer:e}=this.parent;let n;this.#u?(t=(t-this.rotation+360)%360,n=ce.#w(this.#c.box,t)):n=ce.#w([this.x,this.y,this.width,this.height],t),e.updateProperties(this.#h,{bbox:n,root:{"data-main-rotation":t}}),e.updateProperties(this.#p,{bbox:ce.#w(this.#a.box,t),root:{"data-main-rotation":t}})}render(){if(this.div)return this.div;const t=super.render();this.#g&&(t.setAttribute("aria-label",this.#g),t.setAttribute("role","mark")),this.#u?t.classList.add("free"):this.div.addEventListener("keydown",this.#R.bind(this),{signal:this._uiManager._signal});const e=this.#d=document.createElement("div");t.append(e),e.setAttribute("aria-hidden","true"),e.className="internal",e.style.clipPath=this.#n;const[n,s]=this.parentDimensions;return this.setDims(this.width*n,this.height*s),u0(this,this.#d,["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{hovered:!0}})}pointerleave(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{hovered:!1}})}#R(t){ce._keyboardManager.exec(this,t)}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:this.#T(!0);break;case 1:case 3:this.#T(!1);break}}#T(t){if(!this.#t)return;const e=window.getSelection();t?e.setPosition(this.#t,this.#e):e.setPosition(this.#l,this.#o)}select(){super.select(),this.#p&&this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{hovered:!1,selected:!0}})}unselect(){super.unselect(),this.#p&&(this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{selected:!1}}),this.#u||this.#T(!1))}get _mustFixPosition(){return!this.#u}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.updateProperties(this.#h,{rootClass:{hidden:!t}}),this.parent.drawLayer.updateProperties(this.#p,{rootClass:{hidden:!t}}))}#N(){return this.#u?this.rotation:0}#O(){if(this.#u)return null;const[t,e]=this.pageDimensions,[n,s]=this.pageTranslation,l=this.#i,c=new Float32Array(l.length*8);let d=0;for(const{x:h,y:f,width:m,height:v}of l){const y=h*t+n,b=(1-f)*e+s;c[d]=c[d+4]=y,c[d+1]=c[d+3]=b,c[d+2]=c[d+6]=y+m*t,c[d+5]=c[d+7]=b-v*e,d+=8}return c}#k(t){return this.#c.serialize(t,this.#N())}static startHighlighting(t,e,{target:n,x:s,y:l}){const{x:c,y:d,width:h,height:f}=n.getBoundingClientRect(),m=new AbortController,v=t.combinedSignal(m),y=b=>{m.abort(),this.#E(t,b)};window.addEventListener("blur",y,{signal:v}),window.addEventListener("pointerup",y,{signal:v}),window.addEventListener("pointerdown",ue,{capture:!0,passive:!1,signal:v}),window.addEventListener("contextmenu",_i,{signal:v}),n.addEventListener("pointermove",this.#B.bind(this,t),{signal:v}),this._freeHighlight=new jh({x:s,y:l},[c,d,h,f],t.scale,this._defaultThickness/2,e,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static#B(t,e){this._freeHighlight.add(e)&&t.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})}static#E(t,e){this._freeHighlight.isEmpty()?t.drawLayer.remove(this._freeHighlightId):t.createAndAddNewEditor(e,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""}static async deserialize(t,e,n){let s=null;if(t instanceof j0){const{data:{quadPoints:x,rect:A,rotation:T,id:E,color:M,opacity:R,popupRef:N},parent:{page:{pageNumber:D}}}=t;s=t={annotationType:wt.HIGHLIGHT,color:Array.from(M),opacity:R,quadPoints:x,boxes:null,pageIndex:D-1,rect:A.slice(0),rotation:T,id:E,deleted:!1,popupRef:N}}else if(t instanceof wf){const{data:{inkLists:x,rect:A,rotation:T,id:E,color:M,borderStyle:{rawWidth:R},popupRef:N},parent:{page:{pageNumber:D}}}=t;s=t={annotationType:wt.HIGHLIGHT,color:Array.from(M),thickness:R,inkLists:x,boxes:null,pageIndex:D-1,rect:A.slice(0),rotation:T,id:E,deleted:!1,popupRef:N}}const{color:l,quadPoints:c,inkLists:d,opacity:h}=t,f=await super.deserialize(t,e,n);f.color=ct.makeHexColor(...l),f.#r=h||1,d&&(f.#m=t.thickness),f.annotationElementId=t.id||null,f._initialData=s;const[m,v]=f.pageDimensions,[y,b]=f.pageTranslation;if(c){const x=f.#i=[];for(let A=0;A<c.length;A+=8)x.push({x:(c[A]-y)/m,y:1-(c[A+1]-b)/v,width:(c[A+2]-c[A])/m,height:(c[A+1]-c[A+5])/v});f.#y(),f.#D(),f.rotate(f.rotation)}else if(d){f.#u=!0;const x=d[0],A={x:x[0]-y,y:v-(x[1]-b)},T=new jh(A,[0,0,m,v],1,f.#m/2,!0,.001);for(let R=0,N=x.length;R<N;R+=2)A.x=x[R]-y,A.y=v-(x[R+1]-b),T.add(A);const{id:E,clipPathId:M}=e.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:f.color,"fill-opacity":f._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:T.toSVGPath()}},!0,!0);f.#b({highlightOutlines:T.getOutlines(),highlightId:E,clipPathId:M}),f.#D(),f.rotate(f.parentRotation)}return f}serialize(t=!1){if(this.isEmpty()||t)return null;if(this.deleted)return this.serializeDeleted();const e=this.getRect(0,0),n=pt._colorManager.convert(this.color),s={annotationType:wt.HIGHLIGHT,color:n,opacity:this.#r,thickness:this.#m,quadPoints:this.#O(),outlines:this.#k(e),pageIndex:this.pageIndex,rect:e,rotation:this.#N(),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!this.#x(s)?null:(s.id=this.annotationElementId,s)}#x(t){const{color:e}=this._initialData;return t.color.some((n,s)=>n!==e[s])}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}}class I0{#t=Object.create(null);updateProperty(t,e){this[t]=e,this.updateSVGProperty(t,e)}updateProperties(t){if(t)for(const[e,n]of Object.entries(t))e.startsWith("_")||this.updateProperty(e,n)}updateSVGProperty(t,e){this.#t[t]=e}toSVGProperties(){const t=this.#t;return this.#t=Object.create(null),{root:t}}reset(){this.#t=Object.create(null)}updateAll(t=this){this.updateProperties(t)}clone(){qt("Not implemented")}}class bt extends pt{#t=null;#e;_drawId=null;static _currentDrawId=-1;static _currentParent=null;static#i=null;static#n=null;static#s=null;static#a=NaN;static#l=null;static#o=null;static#d=NaN;static _INNER_MARGIN=3;constructor(t){super(t),this.#e=t.mustBeCommitted||!1,this._addOutlines(t)}_addOutlines(t){t.drawOutlines&&(this.#c(t),this.#f())}#c({drawOutlines:t,drawId:e,drawingOptions:n}){this.#t=t,this._drawingOptions||=n,e>=0?(this._drawId=e,this.parent.drawLayer.finalizeDraw(e,t.defaultProperties)):this._drawId=this.#h(t,this.parent),this.#g(t.box)}#h(t,e){const{id:n}=e.drawLayer.draw(bt._mergeSVGProperties(this._drawingOptions.toSVGProperties(),t.defaultSVGProperties),!1,!1);return n}static _mergeSVGProperties(t,e){const n=new Set(Object.keys(t));for(const[s,l]of Object.entries(e))n.has(s)?Object.assign(t[s],l):t[s]=l;return t}static getDefaultDrawingOptions(t){qt("Not implemented")}static get typesMap(){qt("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(t,e){const n=this.typesMap.get(t);n&&this._defaultDrawingOptions.updateProperty(n,e),this._currentParent&&(bt.#i.updateProperty(n,e),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(t,e){const n=this.constructor.typesMap.get(t);n&&this._updateProperty(t,n,e)}static get defaultPropertiesToUpdate(){const t=[],e=this._defaultDrawingOptions;for(const[n,s]of this.typesMap)t.push([n,e[s]]);return t}get propertiesToUpdate(){const t=[],{_drawingOptions:e}=this;for(const[n,s]of this.constructor.typesMap)t.push([n,e[s]]);return t}_updateProperty(t,e,n){const s=this._drawingOptions,l=s[e],c=d=>{s.updateProperty(e,d);const h=this.#t.updateProperty(e,d);h&&this.#g(h),this.parent?.drawLayer.updateProperties(this._drawId,s.toSVGProperties())};this.addCommands({cmd:c.bind(this,n),undo:c.bind(this,l),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:t,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){this.parent?.drawLayer.updateProperties(this._drawId,bt._mergeSVGProperties(this.#t.getPathResizingSVGProperties(this.#p()),{bbox:this.#m()}))}_onResized(){this.parent?.drawLayer.updateProperties(this._drawId,bt._mergeSVGProperties(this.#t.getPathResizedSVGProperties(this.#p()),{bbox:this.#m()}))}_onTranslating(t,e){this.parent?.drawLayer.updateProperties(this._drawId,{bbox:this.#m()})}_onTranslated(){this.parent?.drawLayer.updateProperties(this._drawId,bt._mergeSVGProperties(this.#t.getPathTranslatedSVGProperties(this.#p(),this.parentDimensions),{bbox:this.#m()}))}_onStartDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,this.#e&&(this.#e=!1,this.commit(),this.parent.setSelected(this),t&&this.isOnScreen&&this.div.focus())}remove(){this.#u(),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#f(),this.#g(this.#t.box),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){let e=!1;this.parent&&!t?(this._uiManager.removeShouldRescale(this),this.#u()):t&&(this._uiManager.addShouldRescale(this),this.#f(t),e=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(t),e&&this.select()}#u(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())}#f(t=this.parent){if(!(this._drawId!==null&&this.parent===t)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,t.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=this.#h(this.#t,t)}}#r([t,e,n,s]){const{parentDimensions:[l,c],rotation:d}=this;switch(d){case 90:return[e,1-t,n*(c/l),s*(l/c)];case 180:return[1-t,1-e,n,s];case 270:return[1-e,t,n*(c/l),s*(l/c)];default:return[t,e,n,s]}}#p(){const{x:t,y:e,width:n,height:s,parentDimensions:[l,c],rotation:d}=this;switch(d){case 90:return[1-e,t,n*(l/c),s*(c/l)];case 180:return[1-t,1-e,n,s];case 270:return[e,1-t,n*(l/c),s*(c/l)];default:return[t,e,n,s]}}#g(t){if([this.x,this.y,this.width,this.height]=this.#r(t),this.div){this.fixAndSetPosition();const[e,n]=this.parentDimensions;this.setDims(this.width*e,this.height*n)}this._onResized()}#m(){const{x:t,y:e,width:n,height:s,rotation:l,parentRotation:c,parentDimensions:[d,h]}=this;switch((l*4+c)/90){case 1:return[1-e-s,t,s,n];case 2:return[1-t-n,1-e-s,n,s];case 3:return[e,1-t-n,s,n];case 4:return[t,e-n*(d/h),s*(h/d),n*(d/h)];case 5:return[1-e,t,n*(d/h),s*(h/d)];case 6:return[1-t-s*(h/d),1-e,s*(h/d),n*(d/h)];case 7:return[e-n*(d/h),1-t-s*(h/d),n*(d/h),s*(h/d)];case 8:return[t-n,e-s,n,s];case 9:return[1-e,t-n,s,n];case 10:return[1-t,1-e,n,s];case 11:return[e-s,1-t,s,n];case 12:return[t-s*(h/d),e,s*(h/d),n*(d/h)];case 13:return[1-e-n*(d/h),t-s*(h/d),n*(d/h),s*(h/d)];case 14:return[1-t,1-e-n*(d/h),s*(h/d),n*(d/h)];case 15:return[e,1-t,n*(d/h),s*(h/d)];default:return[t,e,n,s]}}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,bt._mergeSVGProperties({bbox:this.#m()},this.#t.updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&this.#g(this.#t.updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let t,e;this._isCopy&&(t=this.x,e=this.y);const n=super.render();n.classList.add("draw");const s=document.createElement("div");n.append(s),s.setAttribute("aria-hidden","true"),s.className="internal";const[l,c]=this.parentDimensions;return this.setDims(this.width*l,this.height*c),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(t,e),n}static createDrawerInstance(t,e,n,s,l){qt("Not implemented")}static startDrawing(t,e,n,s){const{target:l,offsetX:c,offsetY:d,pointerId:h,pointerType:f}=s;if(bt.#l&&bt.#l!==f)return;const{viewport:{rotation:m}}=t,{width:v,height:y}=l.getBoundingClientRect(),b=bt.#n=new AbortController,x=t.combinedSignal(b);if(bt.#a||=h,bt.#l??=f,window.addEventListener("pointerup",A=>{bt.#a===A.pointerId?this._endDraw(A):bt.#o?.delete(A.pointerId)},{signal:x}),window.addEventListener("pointercancel",A=>{bt.#a===A.pointerId?this._currentParent.endDrawingSession():bt.#o?.delete(A.pointerId)},{signal:x}),window.addEventListener("pointerdown",A=>{bt.#l===A.pointerType&&((bt.#o||=new Set).add(A.pointerId),bt.#i.isCancellable()&&(bt.#i.removeLastElement(),bt.#i.isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:x}),window.addEventListener("contextmenu",_i,{signal:x}),l.addEventListener("pointermove",this._drawMove.bind(this),{signal:x}),l.addEventListener("touchmove",A=>{A.timeStamp===bt.#d&&ue(A)},{signal:x}),t.toggleDrawing(),e._editorUndoBar?.hide(),bt.#i){t.drawLayer.updateProperties(this._currentDrawId,bt.#i.startNew(c,d,v,y,m));return}e.updateUIForDefaultProperties(this),bt.#i=this.createDrawerInstance(c,d,v,y,m),bt.#s=this.getDefaultDrawingOptions(),this._currentParent=t,{id:this._currentDrawId}=t.drawLayer.draw(this._mergeSVGProperties(bt.#s.toSVGProperties(),bt.#i.defaultSVGProperties),!0,!1)}static _drawMove(t){if(bt.#d=-1,!bt.#i)return;const{offsetX:e,offsetY:n,pointerId:s}=t;if(bt.#a===s){if(bt.#o?.size>=1){this._endDraw(t);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,bt.#i.add(e,n)),bt.#d=t.timeStamp,ue(t)}}static _cleanup(t){t&&(this._currentDrawId=-1,this._currentParent=null,bt.#i=null,bt.#s=null,bt.#l=null,bt.#d=NaN),bt.#n&&(bt.#n.abort(),bt.#n=null,bt.#a=NaN,bt.#o=null)}static _endDraw(t){const e=this._currentParent;if(e){if(e.toggleDrawing(!0),this._cleanup(!1),t?.target===e.div&&e.drawLayer.updateProperties(this._currentDrawId,bt.#i.end(t.offsetX,t.offsetY)),this.supportMultipleDrawings){const n=bt.#i,s=this._currentDrawId,l=n.getLastElement();e.addCommands({cmd:()=>{e.drawLayer.updateProperties(s,n.setLastElement(l))},undo:()=>{e.drawLayer.updateProperties(s,n.removeLastElement())},mustExec:!1,type:kt.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(t){const e=this._currentParent;if(!e)return null;if(e.toggleDrawing(!0),e.cleanUndoStack(kt.DRAW_STEP),!bt.#i.isEmpty()){const{pageDimensions:[n,s],scale:l}=e,c=e.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:bt.#i.getOutlines(n*l,s*l,l,this._INNER_MARGIN),drawingOptions:bt.#s,mustBeCommitted:!t});return this._cleanup(!0),c}return e.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(t){}static deserializeDraw(t,e,n,s,l,c){qt("Not implemented")}static async deserialize(t,e,n){const{rawDims:{pageWidth:s,pageHeight:l,pageX:c,pageY:d}}=e.viewport,h=this.deserializeDraw(c,d,s,l,this._INNER_MARGIN,t),f=await super.deserialize(t,e,n);return f.createDrawingOptions(t),f.#c({drawOutlines:h}),f.#f(),f.onScaleChanging(),f.rotate(),f}serializeDraw(t){const[e,n]=this.pageTranslation,[s,l]=this.pageDimensions;return this.#t.serialize([e,n,s,l],t)}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}}class tC{#t=new Float64Array(6);#e;#i;#n;#s;#a;#l="";#o=0;#d=new Eo;#c;#h;constructor(t,e,n,s,l,c){this.#c=n,this.#h=s,this.#n=l,this.#s=c,[t,e]=this.#u(t,e);const d=this.#e=[NaN,NaN,NaN,NaN,t,e];this.#a=[t,e],this.#i=[{line:d,points:this.#a}],this.#t.set(d,0)}updateProperty(t,e){t==="stroke-width"&&(this.#s=e)}#u(t,e){return st._normalizePoint(t,e,this.#c,this.#h,this.#n)}isEmpty(){return!this.#i||this.#i.length===0}isCancellable(){return this.#a.length<=10}add(t,e){[t,e]=this.#u(t,e);const[n,s,l,c]=this.#t.subarray(2,6),d=t-l,h=e-c;return Math.hypot(this.#c*d,this.#h*h)<=2?null:(this.#a.push(t,e),isNaN(n)?(this.#t.set([l,c,t,e],2),this.#e.push(NaN,NaN,NaN,NaN,t,e),{path:{d:this.toSVGPath()}}):(isNaN(this.#t[0])&&this.#e.splice(6,6),this.#t.set([n,s,l,c,t,e],0),this.#e.push(...st.createBezierPoints(n,s,l,c,t,e)),{path:{d:this.toSVGPath()}}))}end(t,e){const n=this.add(t,e);return n||(this.#a.length===2?{path:{d:this.toSVGPath()}}:null)}startNew(t,e,n,s,l){this.#c=n,this.#h=s,this.#n=l,[t,e]=this.#u(t,e);const c=this.#e=[NaN,NaN,NaN,NaN,t,e];this.#a=[t,e];const d=this.#i.at(-1);return d&&(d.line=new Float32Array(d.line),d.points=new Float32Array(d.points)),this.#i.push({line:c,points:this.#a}),this.#t.set(c,0),this.#o=0,this.toSVGPath(),null}getLastElement(){return this.#i.at(-1)}setLastElement(t){return this.#i?(this.#i.push(t),this.#e=t.line,this.#a=t.points,this.#o=0,{path:{d:this.toSVGPath()}}):this.#d.setLastElement(t)}removeLastElement(){if(!this.#i)return this.#d.removeLastElement();this.#i.pop(),this.#l="";for(let t=0,e=this.#i.length;t<e;t++){const{line:n,points:s}=this.#i[t];this.#e=n,this.#a=s,this.#o=0,this.toSVGPath()}return{path:{d:this.#l}}}toSVGPath(){const t=st.svgRound(this.#e[4]),e=st.svgRound(this.#e[5]);if(this.#a.length===2)return this.#l=`${this.#l} M ${t} ${e} Z`,this.#l;if(this.#a.length<=6){const s=this.#l.lastIndexOf("M");this.#l=`${this.#l.slice(0,s)} M ${t} ${e}`,this.#o=6}if(this.#a.length===4){const s=st.svgRound(this.#e[10]),l=st.svgRound(this.#e[11]);return this.#l=`${this.#l} L ${s} ${l}`,this.#o=12,this.#l}const n=[];this.#o===0&&(n.push(`M ${t} ${e}`),this.#o=6);for(let s=this.#o,l=this.#e.length;s<l;s+=6){const[c,d,h,f,m,v]=this.#e.slice(s,s+6).map(st.svgRound);n.push(`C${c} ${d} ${h} ${f} ${m} ${v}`)}return this.#l+=n.join(" "),this.#o=this.#e.length,this.#l}getOutlines(t,e,n,s){const l=this.#i.at(-1);return l.line=new Float32Array(l.line),l.points=new Float32Array(l.points),this.#d.build(this.#i,t,e,n,this.#n,this.#s,s),this.#t=null,this.#e=null,this.#i=null,this.#l=null,this.#d}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}class Eo extends st{#t;#e=0;#i;#n;#s;#a;#l;#o;#d;build(t,e,n,s,l,c,d){this.#s=e,this.#a=n,this.#l=s,this.#o=l,this.#d=c,this.#i=d??0,this.#n=t,this.#u()}get thickness(){return this.#d}setLastElement(t){return this.#n.push(t),{path:{d:this.toSVGPath()}}}removeLastElement(){return this.#n.pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const t=[];for(const{line:e}of this.#n){if(t.push(`M${st.svgRound(e[4])} ${st.svgRound(e[5])}`),e.length===6){t.push("Z");continue}if(e.length===12&&isNaN(e[6])){t.push(`L${st.svgRound(e[10])} ${st.svgRound(e[11])}`);continue}for(let n=6,s=e.length;n<s;n+=6){const[l,c,d,h,f,m]=e.subarray(n,n+6).map(st.svgRound);t.push(`C${l} ${c} ${d} ${h} ${f} ${m}`)}}return t.join("")}serialize([t,e,n,s],l){const c=[],d=[],[h,f,m,v]=this.#h();let y,b,x,A,T,E,M,R,N;switch(this.#o){case 0:N=st._rescale,y=t,b=e+s,x=n,A=-s,T=t+h*n,E=e+(1-f-v)*s,M=t+(h+m)*n,R=e+(1-f)*s;break;case 90:N=st._rescaleAndSwap,y=t,b=e,x=n,A=s,T=t+f*n,E=e+h*s,M=t+(f+v)*n,R=e+(h+m)*s;break;case 180:N=st._rescale,y=t+n,b=e,x=-n,A=s,T=t+(1-h-m)*n,E=e+f*s,M=t+(1-h)*n,R=e+(f+v)*s;break;case 270:N=st._rescaleAndSwap,y=t+n,b=e+s,x=-n,A=-s,T=t+(1-f-v)*n,E=e+(1-h-m)*s,M=t+(1-f)*n,R=e+(1-h)*s;break}for(const{line:D,points:L}of this.#n)c.push(N(D,y,b,x,A,l?new Array(D.length):null)),d.push(N(L,y,b,x,A,l?new Array(L.length):null));return{lines:c,points:d,rect:[T,E,M,R]}}static deserialize(t,e,n,s,l,{paths:{lines:c,points:d},rotation:h,thickness:f}){const m=[];let v,y,b,x,A;switch(h){case 0:A=st._rescale,v=-t/n,y=e/s+1,b=1/n,x=-1/s;break;case 90:A=st._rescaleAndSwap,v=-e/s,y=-t/n,b=1/s,x=1/n;break;case 180:A=st._rescale,v=t/n+1,y=-e/s,b=-1/n,x=1/s;break;case 270:A=st._rescaleAndSwap,v=e/s+1,y=t/n+1,b=-1/s,x=-1/n;break}if(!c){c=[];for(const E of d){const M=E.length;if(M===2){c.push(new Float32Array([NaN,NaN,NaN,NaN,E[0],E[1]]));continue}if(M===4){c.push(new Float32Array([NaN,NaN,NaN,NaN,E[0],E[1],NaN,NaN,NaN,NaN,E[2],E[3]]));continue}const R=new Float32Array(3*(M-2));c.push(R);let[N,D,L,z]=E.subarray(0,4);R.set([NaN,NaN,NaN,NaN,N,D],0);for(let q=4;q<M;q+=2){const $=E[q],W=E[q+1];R.set(st.createBezierPoints(N,D,L,z,$,W),(q-2)*3),[N,D,L,z]=[L,z,$,W]}}}for(let E=0,M=c.length;E<M;E++)m.push({line:A(c[E].map(R=>R??NaN),v,y,b,x),points:A(d[E].map(R=>R??NaN),v,y,b,x)});const T=new this.prototype.constructor;return T.build(m,n,s,1,h,f,l),T}#c(t=this.#d){const e=this.#i+t/2*this.#l;return this.#o%180===0?[e/this.#s,e/this.#a]:[e/this.#a,e/this.#s]}#h(){const[t,e,n,s]=this.#t,[l,c]=this.#c(0);return[t+l,e+c,n-2*l,s-2*c]}#u(){const t=this.#t=new Float32Array([1/0,1/0,-1/0,-1/0]);for(const{line:s}of this.#n){if(s.length<=12){for(let d=4,h=s.length;d<h;d+=6)ct.pointBoundingBox(s[d],s[d+1],t);continue}let l=s[4],c=s[5];for(let d=6,h=s.length;d<h;d+=6){const[f,m,v,y,b,x]=s.subarray(d,d+6);ct.bezierBoundingBox(l,c,f,m,v,y,b,x,t),l=b,c=x}}const[e,n]=this.#c();t[0]=Ie(t[0]-e,0,1),t[1]=Ie(t[1]-n,0,1),t[2]=Ie(t[2]+e,0,1),t[3]=Ie(t[3]+n,0,1),t[2]-=t[0],t[3]-=t[1]}get box(){return this.#t}updateProperty(t,e){return t==="stroke-width"?this.#f(e):null}#f(t){const[e,n]=this.#c();this.#d=t;const[s,l]=this.#c(),[c,d]=[s-e,l-n],h=this.#t;return h[0]-=c,h[1]-=d,h[2]+=2*c,h[3]+=2*d,h}updateParentDimensions([t,e],n){const[s,l]=this.#c();this.#s=t,this.#a=e,this.#l=n;const[c,d]=this.#c(),h=c-s,f=d-l,m=this.#t;return m[0]-=h,m[1]-=f,m[2]+=2*h,m[3]+=2*f,m}updateRotation(t){return this.#e=t,{path:{transform:this.rotationTransform}}}get viewBox(){return this.#t.map(st.svgRound).join(" ")}get defaultProperties(){const[t,e]=this.#t;return{root:{viewBox:this.viewBox},path:{"transform-origin":`${st.svgRound(t)} ${st.svgRound(e)}`}}}get rotationTransform(){const[,,t,e]=this.#t;let n=0,s=0,l=0,c=0,d=0,h=0;switch(this.#e){case 90:s=e/t,l=-t/e,d=t;break;case 180:n=-1,c=-1,d=t,h=e;break;case 270:s=-e/t,l=t/e,h=e;break;default:return""}return`matrix(${n} ${s} ${l} ${c} ${st.svgRound(d)} ${st.svgRound(h)})`}getPathResizingSVGProperties([t,e,n,s]){const[l,c]=this.#c(),[d,h,f,m]=this.#t;if(Math.abs(f-l)<=st.PRECISION||Math.abs(m-c)<=st.PRECISION){const A=t+n/2-(d+f/2),T=e+s/2-(h+m/2);return{path:{"transform-origin":`${st.svgRound(t)} ${st.svgRound(e)}`,transform:`${this.rotationTransform} translate(${A} ${T})`}}}const v=(n-2*l)/(f-2*l),y=(s-2*c)/(m-2*c),b=f/n,x=m/s;return{path:{"transform-origin":`${st.svgRound(d)} ${st.svgRound(h)}`,transform:`${this.rotationTransform} scale(${b} ${x}) translate(${st.svgRound(l)} ${st.svgRound(c)}) scale(${v} ${y}) translate(${st.svgRound(-l)} ${st.svgRound(-c)})`}}}getPathResizedSVGProperties([t,e,n,s]){const[l,c]=this.#c(),d=this.#t,[h,f,m,v]=d;if(d[0]=t,d[1]=e,d[2]=n,d[3]=s,Math.abs(m-l)<=st.PRECISION||Math.abs(v-c)<=st.PRECISION){const T=t+n/2-(h+m/2),E=e+s/2-(f+v/2);for(const{line:M,points:R}of this.#n)st._translate(M,T,E,M),st._translate(R,T,E,R);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${st.svgRound(t)} ${st.svgRound(e)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const y=(n-2*l)/(m-2*l),b=(s-2*c)/(v-2*c),x=-y*(h+l)+t+l,A=-b*(f+c)+e+c;if(y!==1||b!==1||x!==0||A!==0)for(const{line:T,points:E}of this.#n)st._rescale(T,x,A,y,b,T),st._rescale(E,x,A,y,b,E);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${st.svgRound(t)} ${st.svgRound(e)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([t,e],n){const[s,l]=n,c=this.#t,d=t-c[0],h=e-c[1];if(this.#s===s&&this.#a===l)for(const{line:f,points:m}of this.#n)st._translate(f,d,h,f),st._translate(m,d,h,m);else{const f=this.#s/s,m=this.#a/l;this.#s=s,this.#a=l;for(const{line:v,points:y}of this.#n)st._rescale(v,d,h,f,m,v),st._rescale(y,d,h,f,m,y);c[2]*=f,c[3]*=m}return c[0]=t,c[1]=e,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${st.svgRound(t)} ${st.svgRound(e)}`}}}get defaultSVGProperties(){const t=this.#t;return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${st.svgRound(t[0])} ${st.svgRound(t[1])}`,transform:this.rotationTransform||null},bbox:t}}}class Mc extends I0{constructor(t){super(),this._viewParameters=t,super.updateProperties({fill:"none",stroke:pt._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(t,e){t==="stroke-width"&&(e??=this["stroke-width"],e*=this._viewParameters.realScale),super.updateSVGProperty(t,e)}clone(){const t=new Mc(this._viewParameters);return t.updateAll(this),t}}class Sf extends bt{static _type="ink";static _editorType=wt.INK;static _defaultDrawingOptions=null;constructor(t){super({...t,name:"inkEditor"}),this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(t,e){pt.initialize(t,e),this._defaultDrawingOptions=new Mc(e.viewParameters)}static getDefaultDrawingOptions(t){const e=this._defaultDrawingOptions.clone();return e.updateProperties(t),e}static get supportMultipleDrawings(){return!0}static get typesMap(){return Nt(this,"typesMap",new Map([[kt.INK_THICKNESS,"stroke-width"],[kt.INK_COLOR,"stroke"],[kt.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(t,e,n,s,l){return new tC(t,e,n,s,l,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(t,e,n,s,l,c){return Eo.deserialize(t,e,n,s,l,c)}static async deserialize(t,e,n){let s=null;if(t instanceof wf){const{data:{inkLists:c,rect:d,rotation:h,id:f,color:m,opacity:v,borderStyle:{rawWidth:y},popupRef:b},parent:{page:{pageNumber:x}}}=t;s=t={annotationType:wt.INK,color:Array.from(m),thickness:y,opacity:v,paths:{points:c},boxes:null,pageIndex:x-1,rect:d.slice(0),rotation:h,id:f,deleted:!1,popupRef:b}}const l=await super.deserialize(t,e,n);return l.annotationElementId=t.id||null,l._initialData=s,l}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:t,_drawingOptions:e,parent:n}=this;e.updateSVGProperty("stroke-width"),n.drawLayer.updateProperties(t,e.toSVGProperties())}static onScaleChangingWhenDrawing(){const t=this._currentParent;t&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),t.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:t,thickness:e,opacity:n}){this._drawingOptions=Sf.getDefaultDrawingOptions({stroke:ct.makeHexColor(...t),"stroke-width":e,"stroke-opacity":n})}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:e,points:n,rect:s}=this.serializeDraw(t),{_drawingOptions:{stroke:l,"stroke-opacity":c,"stroke-width":d}}=this,h={annotationType:wt.INK,color:pt._colorManager.convert(l),opacity:c,thickness:d,paths:{lines:e,points:n},pageIndex:this.pageIndex,rect:s,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?(h.isCopy=!0,h):this.annotationElementId&&!this.#t(h)?null:(h.id=this.annotationElementId,h)}#t(t){const{color:e,thickness:n,opacity:s,pageIndex:l}=this._initialData;return this._hasBeenMoved||this._hasBeenResized||t.color.some((c,d)=>c!==e[d])||t.thickness!==n||t.opacity!==s||t.pageIndex!==l}renderAnnotationElement(t){const{points:e,rect:n}=this.serializeDraw(!1);return t.updateEdited({rect:n,thickness:this._drawingOptions["stroke-width"],points:e}),null}}class Ph extends Eo{toSVGPath(){let t=super.toSVGPath();return t.endsWith("Z")||(t+="Z"),t}}const Xl=8,Xr=3;class Ta{static#t={maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16};static#e(t,e,n,s){return n-=t,s-=e,n===0?s>0?0:4:n===1?s+6:2-s}static#i=new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]);static#n(t,e,n,s,l,c,d){const h=this.#e(n,s,l,c);for(let f=0;f<8;f++){const m=(-f+h-d+16)%8,v=this.#i[2*m],y=this.#i[2*m+1];if(t[(n+v)*e+(s+y)]!==0)return m}return-1}static#s(t,e,n,s,l,c,d){const h=this.#e(n,s,l,c);for(let f=0;f<8;f++){const m=(f+h+d+16)%8,v=this.#i[2*m],y=this.#i[2*m+1];if(t[(n+v)*e+(s+y)]!==0)return m}return-1}static#a(t,e,n,s){const l=t.length,c=new Int32Array(l);for(let m=0;m<l;m++)c[m]=t[m]<=s?1:0;for(let m=1;m<n-1;m++)c[m*e]=c[m*e+e-1]=0;for(let m=0;m<e;m++)c[m]=c[e*n-1-m]=0;let d=1,h;const f=[];for(let m=1;m<n-1;m++){h=1;for(let v=1;v<e-1;v++){const y=m*e+v,b=c[y];if(b===0)continue;let x=m,A=v;if(b===1&&c[y-1]===0)d+=1,A-=1;else if(b>=1&&c[y+1]===0)d+=1,A+=1,b>1&&(h=b);else{b!==1&&(h=Math.abs(b));continue}const T=[v,m],E=A===v+1,M={isHole:E,points:T,id:d,parent:0};f.push(M);let R;for(const J of f)if(J.id===h){R=J;break}R?R.isHole?M.parent=E?R.parent:h:M.parent=E?h:R.parent:M.parent=E?h:0;const N=this.#n(c,e,m,v,x,A,0);if(N===-1){c[y]=-d,c[y]!==1&&(h=Math.abs(c[y]));continue}let D=this.#i[2*N],L=this.#i[2*N+1];const z=m+D,q=v+L;x=z,A=q;let $=m,W=v;for(;;){const J=this.#s(c,e,$,W,x,A,1);D=this.#i[2*J],L=this.#i[2*J+1];const nt=$+D,dt=W+L;T.push(dt,nt);const at=$*e+W;if(c[at+1]===0?c[at]=-d:c[at]===1&&(c[at]=d),nt===m&&dt===v&&$===z&&W===q){c[y]!==1&&(h=Math.abs(c[y]));break}else x=$,A=W,$=nt,W=dt}}}return f}static#l(t,e,n,s){if(n-e<=4){for(let z=e;z<n-2;z+=2)s.push(t[z],t[z+1]);return}const l=t[e],c=t[e+1],d=t[n-4]-l,h=t[n-3]-c,f=Math.hypot(d,h),m=d/f,v=h/f,y=m*c-v*l,b=h/d,x=1/f,A=Math.atan(b),T=Math.cos(A),E=Math.sin(A),M=x*(Math.abs(T)+Math.abs(E)),R=x*(1-M+M**2),N=Math.max(Math.atan(Math.abs(E+T)*R),Math.atan(Math.abs(E-T)*R));let D=0,L=e;for(let z=e+2;z<n-2;z+=2){const q=Math.abs(y-m*t[z+1]+v*t[z]);q>D&&(L=z,D=q)}D>(f*N)**2?(this.#l(t,e,L+2,s),this.#l(t,L,n,s)):s.push(l,c)}static#o(t){const e=[],n=t.length;return this.#l(t,0,n,e),e.push(t[n-2],t[n-1]),e.length<=4?null:e}static#d(t,e,n,s,l,c){const d=new Float32Array(c**2),h=-2*s**2,f=c>>1;for(let A=0;A<c;A++){const T=(A-f)**2;for(let E=0;E<c;E++)d[A*c+E]=Math.exp((T+(E-f)**2)/h)}const m=new Float32Array(256),v=-2*l**2;for(let A=0;A<256;A++)m[A]=Math.exp(A**2/v);const y=t.length,b=new Uint8Array(y),x=new Uint32Array(256);for(let A=0;A<n;A++)for(let T=0;T<e;T++){const E=A*e+T,M=t[E];let R=0,N=0;for(let L=0;L<c;L++){const z=A+L-f;if(!(z<0||z>=n))for(let q=0;q<c;q++){const $=T+q-f;if($<0||$>=e)continue;const W=t[z*e+$],J=d[L*c+q]*m[Math.abs(W-M)];R+=W*J,N+=J}}const D=b[E]=Math.round(R/N);x[D]++}return[b,x]}static#c(t){const e=new Uint32Array(256);for(const n of t)e[n]++;return e}static#h(t){const e=t.length,n=new Uint8ClampedArray(e>>2);let s=-1/0,l=1/0;for(let d=0,h=n.length;d<h;d++){if(t[(d<<2)+3]===0){s=n[d]=255;continue}const m=n[d]=t[d<<2];m>s&&(s=m),m<l&&(l=m)}const c=255/(s-l);for(let d=0;d<e;d++)n[d]=(n[d]-l)*c;return n}static#u(t){let e,n=-1/0,s=-1/0;const l=t.findIndex(h=>h!==0);let c=l,d=l;for(e=l;e<256;e++){const h=t[e];h>n&&(e-c>s&&(s=e-c,d=e-1),n=h,c=e)}for(e=d-1;e>=0&&!(t[e]>t[e+1]);e--);return e}static#f(t){const e=t,{width:n,height:s}=t,{maxDim:l}=this.#t;let c=n,d=s;if(n>l||s>l){let y=n,b=s,x=Math.log2(Math.max(n,s)/l);const A=Math.floor(x);x=x===A?A-1:A;for(let E=0;E<x;E++){c=Math.ceil(y/2),d=Math.ceil(b/2);const M=new OffscreenCanvas(c,d);M.getContext("2d").drawImage(t,0,0,y,b,0,0,c,d),y=c,b=d,t!==e&&t.close(),t=M.transferToImageBitmap()}const T=Math.min(l/c,l/d);c=Math.round(c*T),d=Math.round(d*T)}const f=new OffscreenCanvas(c,d).getContext("2d",{willReadFrequently:!0});f.filter="grayscale(1)",f.drawImage(t,0,0,t.width,t.height,0,0,c,d);const m=f.getImageData(0,0,c,d).data;return[this.#h(m),c,d]}static extractContoursFromText(t,{fontFamily:e,fontStyle:n,fontWeight:s},l,c,d,h){let f=new OffscreenCanvas(1,1),m=f.getContext("2d",{alpha:!1});const v=200,y=m.font=`${n} ${s} ${v}px ${e}`,{actualBoundingBoxLeft:b,actualBoundingBoxRight:x,actualBoundingBoxAscent:A,actualBoundingBoxDescent:T,fontBoundingBoxAscent:E,fontBoundingBoxDescent:M,width:R}=m.measureText(t),N=1.5,D=Math.ceil(Math.max(Math.abs(b)+Math.abs(x)||0,R)*N),L=Math.ceil(Math.max(Math.abs(A)+Math.abs(T)||v,Math.abs(E)+Math.abs(M)||v)*N);f=new OffscreenCanvas(D,L),m=f.getContext("2d",{alpha:!0,willReadFrequently:!0}),m.font=y,m.filter="grayscale(1)",m.fillStyle="white",m.fillRect(0,0,D,L),m.fillStyle="black",m.fillText(t,D*(N-1)/2,L*(3-N)/2);const z=this.#h(m.getImageData(0,0,D,L).data),q=this.#c(z),$=this.#u(q),W=this.#a(z,D,L,$);return this.processDrawnLines({lines:{curves:W,width:D,height:L},pageWidth:l,pageHeight:c,rotation:d,innerMargin:h,mustSmooth:!0,areContours:!0})}static process(t,e,n,s,l){const[c,d,h]=this.#f(t),[f,m]=this.#d(c,d,h,Math.hypot(d,h)*this.#t.sigmaSFactor,this.#t.sigmaR,this.#t.kernelSize),v=this.#u(m),y=this.#a(f,d,h,v);return this.processDrawnLines({lines:{curves:y,width:d,height:h},pageWidth:e,pageHeight:n,rotation:s,innerMargin:l,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:t,pageWidth:e,pageHeight:n,rotation:s,innerMargin:l,mustSmooth:c,areContours:d}){s%180!==0&&([e,n]=[n,e]);const{curves:h,width:f,height:m}=t,v=t.thickness??0,y=[],b=Math.min(e/f,n/m),x=b/e,A=b/n,T=[];for(const{points:M}of h){const R=c?this.#o(M):M;if(!R)continue;T.push(R);const N=R.length,D=new Float32Array(N),L=new Float32Array(3*(N===2?2:N-2));if(y.push({line:L,points:D}),N===2){D[0]=R[0]*x,D[1]=R[1]*A,L.set([NaN,NaN,NaN,NaN,D[0],D[1]],0);continue}let[z,q,$,W]=R;z*=x,q*=A,$*=x,W*=A,D.set([z,q,$,W],0),L.set([NaN,NaN,NaN,NaN,z,q],0);for(let J=4;J<N;J+=2){const nt=D[J]=R[J]*x,dt=D[J+1]=R[J+1]*A;L.set(st.createBezierPoints(z,q,$,W,nt,dt),(J-2)*3),[z,q,$,W]=[$,W,nt,dt]}}if(y.length===0)return null;const E=d?new Ph:new Eo;return E.build(y,e,n,1,s,d?0:v,l),{outline:E,newCurves:T,areContours:d,thickness:v,width:f,height:m}}static async compressSignature({outlines:t,areContours:e,thickness:n,width:s,height:l}){let c=1/0,d=-1/0,h=0;for(const R of t){h+=R.length;for(let N=2,D=R.length;N<D;N++){const L=R[N]-R[N-2];c=Math.min(c,L),d=Math.max(d,L)}}let f;c>=-128&&d<=127?f=Int8Array:c>=-32768&&d<=32767?f=Int16Array:f=Int32Array;const m=t.length,v=Xl+Xr*m,y=new Uint32Array(v);let b=0;y[b++]=v*Uint32Array.BYTES_PER_ELEMENT+(h-2*m)*f.BYTES_PER_ELEMENT,y[b++]=0,y[b++]=s,y[b++]=l,y[b++]=e?0:1,y[b++]=Math.max(0,Math.floor(n??0)),y[b++]=m,y[b++]=f.BYTES_PER_ELEMENT;for(const R of t)y[b++]=R.length-2,y[b++]=R[0],y[b++]=R[1];const x=new CompressionStream("deflate-raw"),A=x.writable.getWriter();await A.ready,A.write(y);const T=f.prototype.constructor;for(const R of t){const N=new T(R.length-2);for(let D=2,L=R.length;D<L;D++)N[D-2]=R[D]-R[D-2];A.write(N)}A.close();const E=await new Response(x.readable).arrayBuffer(),M=new Uint8Array(E);return r0(M)}static async decompressSignature(t){try{const e=M_(t),{readable:n,writable:s}=new DecompressionStream("deflate-raw"),l=s.getWriter();await l.ready,l.write(e).then(async()=>{await l.ready,await l.close()}).catch(()=>{});let c=null,d=0;for await(const R of n)c||=new Uint8Array(new Uint32Array(R.buffer,0,4)[0]),c.set(R,d),d+=R.length;const h=new Uint32Array(c.buffer,0,c.length>>2),f=h[1];if(f!==0)throw new Error(`Invalid version: ${f}`);const m=h[2],v=h[3],y=h[4]===0,b=h[5],x=h[6],A=h[7],T=[],E=(Xl+Xr*x)*Uint32Array.BYTES_PER_ELEMENT;let M;switch(A){case Int8Array.BYTES_PER_ELEMENT:M=new Int8Array(c.buffer,E);break;case Int16Array.BYTES_PER_ELEMENT:M=new Int16Array(c.buffer,E);break;case Int32Array.BYTES_PER_ELEMENT:M=new Int32Array(c.buffer,E);break}d=0;for(let R=0;R<x;R++){const N=h[Xr*R+Xl],D=new Float32Array(N+2);T.push(D);for(let L=0;L<Xr-1;L++)D[L]=h[Xr*R+Xl+L+1];for(let L=0;L<N;L++)D[L+2]=D[L]+M[d++]}return{areContours:y,thickness:b,outlines:T,width:m,height:v}}catch(e){return St(`decompressSignature: ${e}`),null}}}class Ef extends I0{constructor(){super(),super.updateProperties({fill:pt._defaultLineColor,"stroke-width":0})}clone(){const t=new Ef;return t.updateAll(this),t}}class _f extends Mc{constructor(t){super(t),super.updateProperties({stroke:pt._defaultLineColor,"stroke-width":1})}clone(){const t=new _f(this._viewParameters);return t.updateAll(this),t}}class qi extends bt{#t=!1;#e=null;#i=null;#n=null;static _type="signature";static _editorType=wt.SIGNATURE;static _defaultDrawingOptions=null;constructor(t){super({...t,mustBeCommitted:!0,name:"signatureEditor"}),this._willKeepAspectRatio=!0,this.#i=t.signatureData||null,this.#e=null,this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(t,e){pt.initialize(t,e),this._defaultDrawingOptions=new Ef,this._defaultDrawnSignatureOptions=new _f(e.viewParameters)}static getDefaultDrawingOptions(t){const e=this._defaultDrawingOptions.clone();return e.updateProperties(t),e}static get supportMultipleDrawings(){return!1}static get typesMap(){return Nt(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!this.#e}}static computeTelemetryFinalData(t){const e=t.get("hasDescription");return{hasAltText:e.get(!0)??0,hasNoAltText:e.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let t,e;const{_isCopy:n}=this;if(n&&(this._isCopy=!1,t=this.x,e=this.y),super.render(),this._drawId===null)if(this.#i){const{lines:s,mustSmooth:l,areContours:c,description:d,uuid:h,heightInPage:f}=this.#i,{rawDims:{pageWidth:m,pageHeight:v},rotation:y}=this.parent.viewport,b=Ta.processDrawnLines({lines:s,pageWidth:m,pageHeight:v,rotation:y,innerMargin:qi._INNER_MARGIN,mustSmooth:l,areContours:c});this.addSignature(b,f,d,h)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);return n&&(this._isCopy=!0,this._moveAfterPaste(t,e)),this.div}setUuid(t){this.#n=t,this.addEditToolbar()}getUuid(){return this.#n}get description(){return this.#e}set description(t){this.#e=t,super.addEditToolbar().then(e=>{e?.updateEditSignatureButton(t)})}getSignaturePreview(){const{newCurves:t,areContours:e,thickness:n,width:s,height:l}=this.#i,c=Math.max(s,l),d=Ta.processDrawnLines({lines:{curves:t.map(h=>({points:h})),thickness:n,width:s,height:l},pageWidth:c,pageHeight:c,rotation:0,innerMargin:0,mustSmooth:!1,areContours:e});return{areContours:e,outline:d.outline}}async addEditToolbar(){const t=await super.addEditToolbar();return t?(this._uiManager.signatureManager&&this.#e!==null&&(await t.addEditSignatureButton(this._uiManager.signatureManager,this.#n,this.#e),t.show()),t):null}addSignature(t,e,n,s){const{x:l,y:c}=this,{outline:d}=this.#i=t;this.#t=d instanceof Ph,this.#e=n,this.div.setAttribute("data-l10n-args",JSON.stringify({description:n}));let h;this.#t?h=qi.getDefaultDrawingOptions():(h=qi._defaultDrawnSignatureOptions.clone(),h.updateProperties({"stroke-width":d.thickness})),this._addOutlines({drawOutlines:d,drawingOptions:h});const[f,m]=this.parentDimensions,[,v]=this.pageDimensions;let y=e/v;y=y>=1?.5:y,this.width*=y/this.height,this.width>=1&&(y*=.9/this.width,this.width=.9),this.height=y,this.setDims(f*this.width,m*this.height),this.x=l,this.y=c,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(s),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!s,hasDescription:!!n}}),this.div.hidden=!1}getFromImage(t){const{rawDims:{pageWidth:e,pageHeight:n},rotation:s}=this.parent.viewport;return Ta.process(t,e,n,s,qi._INNER_MARGIN)}getFromText(t,e){const{rawDims:{pageWidth:n,pageHeight:s},rotation:l}=this.parent.viewport;return Ta.extractContoursFromText(t,e,n,s,l,qi._INNER_MARGIN)}getDrawnSignature(t){const{rawDims:{pageWidth:e,pageHeight:n},rotation:s}=this.parent.viewport;return Ta.processDrawnLines({lines:t,pageWidth:e,pageHeight:n,rotation:s,innerMargin:qi._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:t,thickness:e}){t?this._drawingOptions=qi.getDefaultDrawingOptions():(this._drawingOptions=qi._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":e}))}serialize(t=!1){if(this.isEmpty())return null;const{lines:e,points:n,rect:s}=this.serializeDraw(t),{_drawingOptions:{"stroke-width":l}}=this,c={annotationType:wt.SIGNATURE,isSignature:!0,areContours:this.#t,color:[0,0,0],thickness:this.#t?0:l,pageIndex:this.pageIndex,rect:s,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?(c.paths={lines:e,points:n},c.uuid=this.#n,c.isCopy=!0):c.lines=e,this.#e&&(c.accessibilityData={type:"Figure",alt:this.#e}),c}static deserializeDraw(t,e,n,s,l,c){return c.areContours?Ph.deserialize(t,e,n,s,l,c):Eo.deserialize(t,e,n,s,l,c)}static async deserialize(t,e,n){const s=await super.deserialize(t,e,n);return s.#t=t.areContours,s.#e=t.accessibilityData?.alt||"",s.#n=t.uuid,s}}class eC extends pt{#t=null;#e=null;#i=null;#n=null;#s=null;#a="";#l=null;#o=!1;#d=null;#c=!1;#h=!1;static _type="stamp";static _editorType=wt.STAMP;constructor(t){super({...t,name:"stampEditor"}),this.#n=t.bitmapUrl,this.#s=t.bitmapFile,this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(t,e){pt.initialize(t,e)}static isHandlingMimeForPasting(t){return uc.includes(t)}static paste(t,e){e.pasteEditor({mode:wt.STAMP},{bitmapFile:t.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){return{type:"stamp",hasAltText:!!this.altTextData?.altText}}static computeTelemetryFinalData(t){const e=t.get("hasAltText");return{hasAltText:e.get(!0)??0,hasNoAltText:e.get(!1)??0}}#u(t,e=!1){if(!t){this.remove();return}this.#t=t.bitmap,e||(this.#e=t.id,this.#c=t.isSvg),t.file&&(this.#a=t.file.name),this.#p()}#f(){if(this.#i=null,this._uiManager.enableWaiting(!1),!!this.#l){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#t){this._editToolbar.hide(),this._uiManager.editAltText(this,!0);return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#t){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}}async mlGuessAltText(t=null,e=!0){if(this.hasAltTextData())return null;const{mlManager:n}=this._uiManager;if(!n)throw new Error("No ML.");if(!await n.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:s,width:l,height:c}=t||this.copyCanvas(null,null,!0).imageData,d=await n.guess({name:"altText",request:{data:s,width:l,height:c,channels:s.length/(l*c)}});if(!d)throw new Error("No response from the AI service.");if(d.error)throw new Error("Error from the AI service.");if(d.cancel)return null;if(!d.output)throw new Error("No valid response from the AI service.");const h=d.output;return await this.setGuessedAltText(h),e&&!this.hasAltTextData()&&(this.altTextData={alt:h,decorative:!1}),h}#r(){if(this.#e){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(this.#e).then(n=>this.#u(n,!0)).finally(()=>this.#f());return}if(this.#n){const n=this.#n;this.#n=null,this._uiManager.enableWaiting(!0),this.#i=this._uiManager.imageManager.getFromUrl(n).then(s=>this.#u(s)).finally(()=>this.#f());return}if(this.#s){const n=this.#s;this.#s=null,this._uiManager.enableWaiting(!0),this.#i=this._uiManager.imageManager.getFromFile(n).then(s=>this.#u(s)).finally(()=>this.#f());return}const t=document.createElement("input");t.type="file",t.accept=uc.join(",");const e=this._uiManager._signal;this.#i=new Promise(n=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const s=await this._uiManager.imageManager.getFromFile(t.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),this.#u(s)}n()},{signal:e}),t.addEventListener("cancel",()=>{this.remove(),n()},{signal:e})}).finally(()=>this.#f()),t.click()}remove(){this.#e&&(this.#t=null,this._uiManager.imageManager.deleteId(this.#e),this.#l?.remove(),this.#l=null,this.#d&&(clearTimeout(this.#d),this.#d=null)),super.remove()}rebuild(){if(!this.parent){this.#e&&this.#r();return}super.rebuild(),this.div!==null&&(this.#e&&this.#l===null&&this.#r(),this.isAttachedToDOM||this.parent.add(this))}onceAdded(t){this._isDraggable=!0,t&&this.div.focus()}isEmpty(){return!(this.#i||this.#t||this.#n||this.#s||this.#e||this.#o)}get isResizable(){return!0}render(){if(this.div)return this.div;let t,e;return this._isCopy&&(t=this.x,e=this.y),super.render(),this.div.hidden=!0,this.addAltTextButton(),this.#o||(this.#t?this.#p():this.#r()),this._isCopy&&this._moveAfterPaste(t,e),this._uiManager.addShouldRescale(this),this.div}setCanvas(t,e){const{id:n,bitmap:s}=this._uiManager.imageManager.getFromCanvas(t,e);e.remove(),n&&this._uiManager.imageManager.isValidId(n)&&(this.#e=n,s&&(this.#t=s),this.#o=!1,this.#p())}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;this.#d!==null&&clearTimeout(this.#d);const t=200;this.#d=setTimeout(()=>{this.#d=null,this.#m()},t)}#p(){const{div:t}=this;let{width:e,height:n}=this.#t;const[s,l]=this.pageDimensions,c=.75;if(this.width)e=this.width*s,n=this.height*l;else if(e>c*s||n>c*l){const m=Math.min(c*s/e,c*l/n);e*=m,n*=m}const[d,h]=this.parentDimensions;this.setDims(e*d/s,n*h/l),this._uiManager.enableWaiting(!1);const f=this.#l=document.createElement("canvas");f.setAttribute("role","img"),this.addContainer(f),this.width=e/s,this.height=n/l,this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(t.hidden=!1),this.#m(),this.#h||(this.parent.addUndoableEditor(this),this.#h=!0),this._reportTelemetry({action:"inserted_image"}),this.#a&&this.div.setAttribute("aria-description",this.#a)}copyCanvas(t,e,n=!1){t||(t=224);const{width:s,height:l}=this.#t,c=new Oi;let d=this.#t,h=s,f=l,m=null;if(e){if(s>e||l>e){const L=Math.min(e/s,e/l);h=Math.floor(s*L),f=Math.floor(l*L)}m=document.createElement("canvas");const y=m.width=Math.ceil(h*c.sx),b=m.height=Math.ceil(f*c.sy);this.#c||(d=this.#g(y,b));const x=m.getContext("2d");x.filter=this._uiManager.hcmFilter;let A="white",T="#cfcfd8";this._uiManager.hcmFilter!=="none"?T="black":window.matchMedia?.("(prefers-color-scheme: dark)").matches&&(A="#8f8f9d",T="#42414d");const E=15,M=E*c.sx,R=E*c.sy,N=new OffscreenCanvas(M*2,R*2),D=N.getContext("2d");D.fillStyle=A,D.fillRect(0,0,M*2,R*2),D.fillStyle=T,D.fillRect(0,0,M,R),D.fillRect(M,R,M,R),x.fillStyle=x.createPattern(N,"repeat"),x.fillRect(0,0,y,b),x.drawImage(d,0,0,d.width,d.height,0,0,y,b)}let v=null;if(n){let y,b;if(c.symmetric&&d.width<t&&d.height<t)y=d.width,b=d.height;else if(d=this.#t,s>t||l>t){const T=Math.min(t/s,t/l);y=Math.floor(s*T),b=Math.floor(l*T),this.#c||(d=this.#g(y,b))}const A=new OffscreenCanvas(y,b).getContext("2d",{willReadFrequently:!0});A.drawImage(d,0,0,d.width,d.height,0,0,y,b),v={width:y,height:b,data:A.getImageData(0,0,y,b).data}}return{canvas:m,width:h,height:f,imageData:v}}#g(t,e){const{width:n,height:s}=this.#t;let l=n,c=s,d=this.#t;for(;l>2*t||c>2*e;){const h=l,f=c;l>2*t&&(l=l>=16384?Math.floor(l/2)-1:Math.ceil(l/2)),c>2*e&&(c=c>=16384?Math.floor(c/2)-1:Math.ceil(c/2));const m=new OffscreenCanvas(l,c);m.getContext("2d").drawImage(d,0,0,h,f,0,0,l,c),d=m.transferToImageBitmap()}return d}#m(){const[t,e]=this.parentDimensions,{width:n,height:s}=this,l=new Oi,c=Math.ceil(n*t*l.sx),d=Math.ceil(s*e*l.sy),h=this.#l;if(!h||h.width===c&&h.height===d)return;h.width=c,h.height=d;const f=this.#c?this.#t:this.#g(c,d),m=h.getContext("2d");m.filter=this._uiManager.hcmFilter,m.drawImage(f,0,0,f.width,f.height,0,0,c,d)}#v(t){if(t){if(this.#c){const s=this._uiManager.imageManager.getSvgUrl(this.#e);if(s)return s}const e=document.createElement("canvas");return{width:e.width,height:e.height}=this.#t,e.getContext("2d").drawImage(this.#t,0,0),e.toDataURL()}if(this.#c){const[e,n]=this.pageDimensions,s=Math.round(this.width*e*Oa.PDF_TO_CSS_UNITS),l=Math.round(this.height*n*Oa.PDF_TO_CSS_UNITS),c=new OffscreenCanvas(s,l);return c.getContext("2d").drawImage(this.#t,0,0,this.#t.width,this.#t.height,0,0,s,l),c.transferToImageBitmap()}return structuredClone(this.#t)}static async deserialize(t,e,n){let s=null,l=!1;if(t instanceof P0){const{data:{rect:A,rotation:T,id:E,structParent:M,popupRef:R},container:N,parent:{page:{pageNumber:D}},canvas:L}=t;let z,q;L?(delete t.canvas,{id:z,bitmap:q}=n.imageManager.getFromCanvas(N.id,L),L.remove()):(l=!0,t._hasNoCanvas=!0);const $=(await e._structTree.getAriaAttributes(`${uf}${E}`))?.get("aria-label")||"";s=t={annotationType:wt.STAMP,bitmapId:z,bitmap:q,pageIndex:D-1,rect:A.slice(0),rotation:T,id:E,deleted:!1,accessibilityData:{decorative:!1,altText:$},isSvg:!1,structParent:M,popupRef:R}}const c=await super.deserialize(t,e,n),{rect:d,bitmap:h,bitmapUrl:f,bitmapId:m,isSvg:v,accessibilityData:y}=t;l?(n.addMissingCanvas(t.id,c),c.#o=!0):m&&n.imageManager.isValidId(m)?(c.#e=m,h&&(c.#t=h)):c.#n=f,c.#c=v;const[b,x]=c.pageDimensions;return c.width=(d[2]-d[0])/b,c.height=(d[3]-d[1])/x,c.annotationElementId=t.id||null,y&&(c.altTextData=y),c._initialData=s,c.#h=!!s,c}serialize(t=!1,e=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const n={annotationType:wt.STAMP,bitmapId:this.#e,pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:this.#c,structTreeParentId:this._structTreeParentId};if(t)return n.bitmapUrl=this.#v(!0),n.accessibilityData=this.serializeAltText(!0),n.isCopy=!0,n;const{decorative:s,altText:l}=this.serializeAltText(!1);if(!s&&l&&(n.accessibilityData={type:"Figure",alt:l}),this.annotationElementId){const d=this.#y(n);if(d.isSame)return null;d.isSameAltText?delete n.accessibilityData:n.accessibilityData.structParent=this._initialData.structParent??-1}if(n.id=this.annotationElementId,e===null)return n;e.stamps||=new Map;const c=this.#c?(n.rect[2]-n.rect[0])*(n.rect[3]-n.rect[1]):null;if(!e.stamps.has(this.#e))e.stamps.set(this.#e,{area:c,serialized:n}),n.bitmap=this.#v(!1);else if(this.#c){const d=e.stamps.get(this.#e);c>d.area&&(d.area=c,d.serialized.bitmap.close(),d.serialized.bitmap=this.#v(!1))}return n}#y(t){const{pageIndex:e,accessibilityData:{altText:n}}=this._initialData,s=t.pageIndex===e,l=(t.accessibilityData?.alt||"")===n;return{isSame:!this._hasBeenMoved&&!this._hasBeenResized&&s&&l,isSameAltText:l}}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}}class Vi{#t;#e=!1;#i=null;#n=null;#s=null;#a=new Map;#l=!1;#o=!1;#d=!1;#c=null;#h=null;#u=null;#f=null;#r;static _initialized=!1;static#p=new Map([be,Sf,eC,ce,qi].map(t=>[t._editorType,t]));constructor({uiManager:t,pageIndex:e,div:n,structTreeLayer:s,accessibilityManager:l,annotationLayer:c,drawLayer:d,textLayer:h,viewport:f,l10n:m}){const v=[...Vi.#p.values()];if(!Vi._initialized){Vi._initialized=!0;for(const y of v)y.initialize(m,t)}t.registerEditorTypes(v),this.#r=t,this.pageIndex=e,this.div=n,this.#t=l,this.#i=c,this.viewport=f,this.#u=h,this.drawLayer=d,this._structTree=s,this.#r.addLayer(this)}get isEmpty(){return this.#a.size===0}get isInvisible(){return this.isEmpty&&this.#r.getMode()===wt.NONE}updateToolbar(t){this.#r.updateToolbar(t)}updateMode(t=this.#r.getMode()){switch(this.#b(),t){case wt.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case wt.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case wt.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:e}=this.div;for(const n of Vi.#p.values())e.toggle(`${n._type}Editing`,t===n._editorType);this.div.hidden=!1}hasTextLayer(t){return t===this.#u?.div}setEditingState(t){this.#r.setEditingState(t)}addCommands(t){this.#r.addCommands(t)}cleanUndoStack(t){this.#r.cleanUndoStack(t)}toggleDrawing(t=!1){this.div.classList.toggle("drawing",!t)}togglePointerEvents(t=!1){this.div.classList.toggle("disabled",!t)}toggleAnnotationLayerPointerEvents(t=!1){this.#i?.div.classList.toggle("disabled",!t)}async enable(){this.#d=!0,this.div.tabIndex=0,this.togglePointerEvents(!0);const t=new Set;for(const n of this.#a.values())n.enableEditing(),n.show(!0),n.annotationElementId&&(this.#r.removeChangedExistingAnnotation(n),t.add(n.annotationElementId));if(!this.#i){this.#d=!1;return}const e=this.#i.getEditableAnnotations();for(const n of e){if(n.hide(),this.#r.isDeletedAnnotationElement(n.data.id)||t.has(n.data.id))continue;const s=await this.deserialize(n);s&&(this.addOrRebuild(s),s.enableEditing())}this.#d=!1}disable(){this.#o=!0,this.div.tabIndex=-1,this.togglePointerEvents(!1);const t=new Map,e=new Map;for(const s of this.#a.values())if(s.disableEditing(),!!s.annotationElementId){if(s.serialize()!==null){t.set(s.annotationElementId,s);continue}else e.set(s.annotationElementId,s);this.getEditableAnnotation(s.annotationElementId)?.show(),s.remove()}if(this.#i){const s=this.#i.getEditableAnnotations();for(const l of s){const{id:c}=l.data;if(this.#r.isDeletedAnnotationElement(c))continue;let d=e.get(c);if(d){d.resetAnnotationElement(l),d.show(!1),l.show();continue}d=t.get(c),d&&(this.#r.addChangedExistingAnnotation(d),d.renderAnnotationElement(l)&&d.show(!1)),l.show()}}this.#b(),this.isEmpty&&(this.div.hidden=!0);const{classList:n}=this.div;for(const s of Vi.#p.values())n.remove(`${s._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),this.#o=!1}getEditableAnnotation(t){return this.#i?.getEditableAnnotation(t)||null}setActiveEditor(t){this.#r.getActive()!==t&&this.#r.setActiveEditor(t)}enableTextSelection(){if(this.div.tabIndex=-1,this.#u?.div&&!this.#f){this.#f=new AbortController;const t=this.#r.combinedSignal(this.#f);this.#u.div.addEventListener("pointerdown",this.#g.bind(this),{signal:t}),this.#u.div.classList.add("highlighting")}}disableTextSelection(){this.div.tabIndex=0,this.#u?.div&&this.#f&&(this.#f.abort(),this.#f=null,this.#u.div.classList.remove("highlighting"))}#g(t){this.#r.unselectAll();const{target:e}=t;if(e===this.#u.div||(e.getAttribute("role")==="img"||e.classList.contains("endOfContent"))&&this.#u.div.contains(e)){const{isMac:n}=_e.platform;if(t.button!==0||t.ctrlKey&&n)return;this.#r.showAllEditors("highlight",!0,!0),this.#u.div.classList.add("free"),this.toggleDrawing(),ce.startHighlighting(this,this.#r.direction==="ltr",{target:this.#u.div,x:t.x,y:t.y}),this.#u.div.addEventListener("pointerup",()=>{this.#u.div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:this.#r._signal}),t.preventDefault()}}enableClick(){if(this.#n)return;this.#n=new AbortController;const t=this.#r.combinedSignal(this.#n);this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:t});const e=this.pointerup.bind(this);this.div.addEventListener("pointerup",e,{signal:t}),this.div.addEventListener("pointercancel",e,{signal:t})}disableClick(){this.#n?.abort(),this.#n=null}attach(t){this.#a.set(t.id,t);const{annotationElementId:e}=t;e&&this.#r.isDeletedAnnotationElement(e)&&this.#r.removeDeletedAnnotationElement(t)}detach(t){this.#a.delete(t.id),this.#t?.removePointerInTextLayer(t.contentDiv),!this.#o&&t.annotationElementId&&this.#r.addDeletedAnnotationElement(t)}remove(t){this.detach(t),this.#r.removeEditor(t),t.div.remove(),t.isAttachedToDOM=!1}changeParent(t){t.parent!==this&&(t.parent&&t.annotationElementId&&(this.#r.addDeletedAnnotationElement(t.annotationElementId),pt.deleteAnnotationElement(t),t.annotationElementId=null),this.attach(t),t.parent?.detach(t),t.setParent(this),t.div&&t.isAttachedToDOM&&(t.div.remove(),this.div.append(t.div)))}add(t){if(!(t.parent===this&&t.isAttachedToDOM)){if(this.changeParent(t),this.#r.addEditor(t),this.attach(t),!t.isAttachedToDOM){const e=t.render();this.div.append(e),t.isAttachedToDOM=!0}t.fixAndSetPosition(),t.onceAdded(!this.#d),this.#r.addToAnnotationStorage(t),t._reportTelemetry(t.telemetryInitialData)}}moveEditorInDOM(t){if(!t.isAttachedToDOM)return;const{activeElement:e}=document;t.div.contains(e)&&!this.#s&&(t._focusEventsAllowed=!1,this.#s=setTimeout(()=>{this.#s=null,t.div.contains(document.activeElement)?t._focusEventsAllowed=!0:(t.div.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this.#r._signal}),e.focus())},0)),t._structTreeParentId=this.#t?.moveElementInDOM(this.div,t.div,t.contentDiv,!0)}addOrRebuild(t){t.needsToBeRebuilt()?(t.parent||=this,t.rebuild(),t.show()):this.add(t)}addUndoableEditor(t){const e=()=>t._uiManager.rebuild(t),n=()=>{t.remove()};this.addCommands({cmd:e,undo:n,mustExec:!1})}getNextId(){return this.#r.getId()}get#m(){return Vi.#p.get(this.#r.getMode())}combinedSignal(t){return this.#r.combinedSignal(t)}#v(t){const e=this.#m;return e?new e.prototype.constructor(t):null}canCreateNewEmptyEditor(){return this.#m?.canCreateNewEmptyEditor()}async pasteEditor(t,e){this.updateToolbar(t),await this.#r.updateMode(t.mode);const{offsetX:n,offsetY:s}=this.#y(),l=this.getNextId(),c=this.#v({parent:this,id:l,x:n,y:s,uiManager:this.#r,isCentered:!0,...e});c&&this.add(c)}async deserialize(t){return await Vi.#p.get(t.annotationType??t.annotationEditorType)?.deserialize(t,this,this.#r)||null}createAndAddNewEditor(t,e,n={}){const s=this.getNextId(),l=this.#v({parent:this,id:s,x:t.offsetX,y:t.offsetY,uiManager:this.#r,isCentered:e,...n});return l&&this.add(l),l}#y(){const{x:t,y:e,width:n,height:s}=this.div.getBoundingClientRect(),l=Math.max(0,t),c=Math.max(0,e),d=Math.min(window.innerWidth,t+n),h=Math.min(window.innerHeight,e+s),f=(l+d)/2-t,m=(c+h)/2-e,[v,y]=this.viewport.rotation%180===0?[f,m]:[m,f];return{offsetX:v,offsetY:y}}addNewEditor(t={}){this.createAndAddNewEditor(this.#y(),!0,t)}setSelected(t){this.#r.setSelected(t)}toggleSelected(t){this.#r.toggleSelected(t)}unselect(t){this.#r.unselect(t)}pointerup(t){const{isMac:e}=_e.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div||!this.#l||(this.#l=!1,this.#m?.isDrawer&&this.#m.supportMultipleDrawings))return;if(!this.#e){this.#e=!0;return}const n=this.#r.getMode();if(n===wt.STAMP||n===wt.SIGNATURE){this.#r.unselectAll();return}this.createAndAddNewEditor(t,!1)}pointerdown(t){if(this.#r.getMode()===wt.HIGHLIGHT&&this.enableTextSelection(),this.#l){this.#l=!1;return}const{isMac:e}=_e.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div)return;if(this.#l=!0,this.#m?.isDrawer){this.startDrawingSession(t);return}const n=this.#r.getActive();this.#e=!n||n.isEmpty()}startDrawingSession(t){if(this.div.focus({preventScroll:!0}),this.#c){this.#m.startDrawing(this,this.#r,!1,t);return}this.#r.setCurrentDrawingSession(this),this.#c=new AbortController;const e=this.#r.combinedSignal(this.#c);this.div.addEventListener("blur",({relatedTarget:n})=>{n&&!this.div.contains(n)&&(this.#h=null,this.commitOrRemove())},{signal:e}),this.#m.startDrawing(this,this.#r,!1,t)}pause(t){if(t){const{activeElement:e}=document;this.div.contains(e)&&(this.#h=e);return}this.#h&&setTimeout(()=>{this.#h?.focus(),this.#h=null},0)}endDrawingSession(t=!1){return this.#c?(this.#r.setCurrentDrawingSession(null),this.#c.abort(),this.#c=null,this.#h=null,this.#m.endDrawing(t)):null}findNewParent(t,e,n){const s=this.#r.findParent(e,n);return s===null||s===this?!1:(s.changeParent(t),!0)}commitOrRemove(){return this.#c?(this.endDrawingSession(),!0):!1}onScaleChanging(){this.#c&&this.#m.onScaleChangingWhenDrawing(this)}destroy(){this.commitOrRemove(),this.#r.getActive()?.parent===this&&(this.#r.commitOrRemove(),this.#r.setActiveEditor(null)),this.#s&&(clearTimeout(this.#s),this.#s=null);for(const t of this.#a.values())this.#t?.removePointerInTextLayer(t.contentDiv),t.setParent(null),t.isAttachedToDOM=!1,t.div.remove();this.div=null,this.#a.clear(),this.#r.removeLayer(this)}#b(){for(const t of this.#a.values())t.isEmpty()&&t.remove()}render({viewport:t}){this.viewport=t,ia(this.div,t);for(const e of this.#r.getEditors(this.pageIndex))this.add(e),e.rebuild();this.updateMode()}update({viewport:t}){this.#r.commitOrRemove(),this.#b();const e=this.viewport.rotation,n=t.rotation;if(this.viewport=t,ia(this.div,{rotation:n}),e!==n)for(const s of this.#a.values())s.rotate(n)}get pageDimensions(){const{pageWidth:t,pageHeight:e}=this.viewport.rawDims;return[t,e]}get scale(){return this.#r.viewParameters.realScale}}class Ee{#t=null;#e=new Map;#i=new Map;static#n=0;constructor({pageIndex:t}){this.pageIndex=t}setParent(t){if(!this.#t){this.#t=t;return}if(this.#t!==t){if(this.#e.size>0)for(const e of this.#e.values())e.remove(),t.append(e);this.#t=t}}static get _svgFactory(){return Nt(this,"_svgFactory",new co)}static#s(t,[e,n,s,l]){const{style:c}=t;c.top=`${100*n}%`,c.left=`${100*e}%`,c.width=`${100*s}%`,c.height=`${100*l}%`}#a(){const t=Ee._svgFactory.create(1,1,!0);return this.#t.append(t),t.setAttribute("aria-hidden",!0),t}#l(t,e){const n=Ee._svgFactory.createElement("clipPath");t.append(n);const s=`clip_${e}`;n.setAttribute("id",s),n.setAttribute("clipPathUnits","objectBoundingBox");const l=Ee._svgFactory.createElement("use");return n.append(l),l.setAttribute("href",`#${e}`),l.classList.add("clip"),s}#o(t,e){for(const[n,s]of Object.entries(e))s===null?t.removeAttribute(n):t.setAttribute(n,s)}draw(t,e=!1,n=!1){const s=Ee.#n++,l=this.#a(),c=Ee._svgFactory.createElement("defs");l.append(c);const d=Ee._svgFactory.createElement("path");c.append(d);const h=`path_p${this.pageIndex}_${s}`;d.setAttribute("id",h),d.setAttribute("vector-effect","non-scaling-stroke"),e&&this.#i.set(s,d);const f=n?this.#l(c,h):null,m=Ee._svgFactory.createElement("use");return l.append(m),m.setAttribute("href",`#${h}`),this.updateProperties(l,t),this.#e.set(s,l),{id:s,clipPathId:`url(#${f})`}}drawOutline(t,e){const n=Ee.#n++,s=this.#a(),l=Ee._svgFactory.createElement("defs");s.append(l);const c=Ee._svgFactory.createElement("path");l.append(c);const d=`path_p${this.pageIndex}_${n}`;c.setAttribute("id",d),c.setAttribute("vector-effect","non-scaling-stroke");let h;if(e){const v=Ee._svgFactory.createElement("mask");l.append(v),h=`mask_p${this.pageIndex}_${n}`,v.setAttribute("id",h),v.setAttribute("maskUnits","objectBoundingBox");const y=Ee._svgFactory.createElement("rect");v.append(y),y.setAttribute("width","1"),y.setAttribute("height","1"),y.setAttribute("fill","white");const b=Ee._svgFactory.createElement("use");v.append(b),b.setAttribute("href",`#${d}`),b.setAttribute("stroke","none"),b.setAttribute("fill","black"),b.setAttribute("fill-rule","nonzero"),b.classList.add("mask")}const f=Ee._svgFactory.createElement("use");s.append(f),f.setAttribute("href",`#${d}`),h&&f.setAttribute("mask",`url(#${h})`);const m=f.cloneNode();return s.append(m),f.classList.add("mainOutline"),m.classList.add("secondaryOutline"),this.updateProperties(s,t),this.#e.set(n,s),n}finalizeDraw(t,e){this.#i.delete(t),this.updateProperties(t,e)}updateProperties(t,e){if(!e)return;const{root:n,bbox:s,rootClass:l,path:c}=e,d=typeof t=="number"?this.#e.get(t):t;if(d){if(n&&this.#o(d,n),s&&Ee.#s(d,s),l){const{classList:h}=d;for(const[f,m]of Object.entries(l))h.toggle(f,m)}if(c){const f=d.firstChild.firstChild;this.#o(f,c)}}}updateParent(t,e){if(e===this)return;const n=this.#e.get(t);n&&(e.#t.append(n),this.#e.delete(t),e.#e.set(t,n))}remove(t){this.#i.delete(t),this.#t!==null&&(this.#e.get(t).remove(),this.#e.delete(t))}destroy(){this.#t=null;for(const t of this.#e.values())t.remove();this.#e.clear(),this.#i.clear()}}globalThis._pdfjsTestingUtils={HighlightOutliner:Lh};globalThis.pdfjsLib={AbortException:En,AnnotationEditorLayer:Vi,AnnotationEditorParamsType:kt,AnnotationEditorType:wt,AnnotationEditorUIManager:_n,AnnotationLayer:Dc,AnnotationMode:bn,AnnotationType:le,build:M0,ColorPicker:hi,createValidAbsoluteUrl:of,DOMSVGFactory:co,DrawLayer:Ee,FeatureTest:_e,fetchData:Bs,getDocument:T0,getFilenameFromUrl:o0,getPdfFilenameFromUrl:l0,getUuid:cf,getXfaPageViewport:c0,GlobalWorkerOptions:Na,ImageKind:Jr,InvalidPDFException:cc,isDataScheme:bo,isPdfFile:Cc,isValidExplicitDest:f0,MathClamp:Ie,noContextMenu:_i,normalizeUnicode:s0,OPS:ro,OutputScale:Oi,PasswordResponses:n0,PDFDataRangeTransport:xf,PDFDateString:df,PDFWorker:js,PermissionFlag:i0,PixelsPerInch:Oa,RenderingCancelledException:Tc,ResponseException:oo,setLayerDimensions:ia,shadow:Nt,SignatureExtractor:Ta,stopEvent:ue,SupportedImageMimeTypes:uc,TextLayer:ze,TouchManager:Ao,updateUrlHash:lf,Util:ct,VerbosityLevel:go,version:D0,XfaLayer:Af};const iC=Object.freeze(Object.defineProperty({__proto__:null,AbortException:En,AnnotationEditorLayer:Vi,AnnotationEditorParamsType:kt,AnnotationEditorType:wt,AnnotationEditorUIManager:_n,AnnotationLayer:Dc,AnnotationMode:bn,AnnotationType:le,ColorPicker:hi,DOMSVGFactory:co,DrawLayer:Ee,FeatureTest:_e,GlobalWorkerOptions:Na,ImageKind:Jr,InvalidPDFException:cc,MathClamp:Ie,OPS:ro,OutputScale:Oi,PDFDataRangeTransport:xf,PDFDateString:df,PDFWorker:js,PasswordResponses:n0,PermissionFlag:i0,PixelsPerInch:Oa,RenderingCancelledException:Tc,ResponseException:oo,SignatureExtractor:Ta,SupportedImageMimeTypes:uc,TextLayer:ze,TouchManager:Ao,Util:ct,VerbosityLevel:go,XfaLayer:Af,build:M0,createValidAbsoluteUrl:of,fetchData:Bs,getDocument:T0,getFilenameFromUrl:o0,getPdfFilenameFromUrl:l0,getUuid:cf,getXfaPageViewport:c0,isDataScheme:bo,isPdfFile:Cc,isValidExplicitDest:f0,noContextMenu:_i,normalizeUnicode:s0,setLayerDimensions:ia,shadow:Nt,stopEvent:ue,updateUrlHash:lf,version:D0},Symbol.toStringTag,{value:"Module"})),na=()=>{const[o,t]=_.useState(null);return _.useEffect(()=>{(async()=>{try{Na.workerSrc="/pdf.worker.min.mjs",t(iC)}catch(n){console.error("Failed to load PDF.js:",n)}})()},[]),o};function nC(){const[o,t]=_.useState([]),[e,n]=_.useState(null),[s,l]=_.useState(!1),[c,d]=_.useState([]),h=na(),f=x=>{t(x),d([])},{getRootProps:m,getInputProps:v,isDragActive:y}=ki({onDrop:f,accept:{"application/pdf":[".pdf"]},multiple:!0});_.useEffect(()=>{(async()=>{if(o.length>0&&h){const A=[];for(const T of o){const E=new FileReader;E.onload=async()=>{try{const M=new Uint8Array(E.result),D=await(await h.getDocument({data:M}).promise).getPage(1),L=D.getViewport({scale:.5}),z=document.createElement("canvas"),q=z.getContext("2d");if(q){z.height=L.height,z.width=L.width;const $={canvasContext:q,viewport:L};await D.render($).promise,A.push(z.toDataURL()),A.length===o.length&&d(A)}}catch(M){console.error("Error generating thumbnail:",M),A.push(""),A.length===o.length&&d(A)}},E.readAsArrayBuffer(T)}}else d([])})()},[o,h]);const b=async x=>{if(x.preventDefault(),o.length<2){n("Please select at least two PDF files to merge.");return}l(!0),n(null);try{const A=await o[0].arrayBuffer(),T=new Blob([A],{type:"application/pdf"}),E=window.URL.createObjectURL(T),M=document.createElement("a");M.href=E,M.download="merged.pdf",document.body.appendChild(M),M.click(),M.remove(),window.URL.revokeObjectURL(E)}catch(A){A instanceof Error?n(A.message):n("An unknown error occurred during merging.")}finally{l(!1)}};return S.jsxs("div",{children:[S.jsx("h2",{children:"Merge PDFs"}),S.jsxs("div",{...m(),className:`dropzone ${y?"active":""}`,children:[S.jsx("input",{...v()}),o.length>0?S.jsxs("div",{children:[S.jsx("p",{children:"Selected files:"}),S.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"10px"},children:o.map((x,A)=>S.jsxs("div",{style:{textAlign:"center"},children:[c[A]?S.jsx("img",{src:c[A],alt:"PDF Thumbnail",style:{maxWidth:"100px",maxHeight:"100px",border:"1px solid #ddd"}}):S.jsx("div",{style:{width:"100px",height:"100px",border:"1px solid #ddd",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#f0f0f0"},children:"No Preview"}),S.jsx("p",{style:{fontSize:"0.8em",marginTop:"5px"},children:x.name})]},A))})]}):S.jsx("p",{children:"Drag 'n' drop PDF files here, or click to select files (select at least two)"})]}),S.jsx(gt,{onSubmit:b,className:"mt-3",children:S.jsx($e,{variant:"primary",type:"submit",disabled:s||o.length<2,children:s?S.jsx(Ki,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"}):"Merge"})}),e&&S.jsx(qe,{variant:"danger",className:"mt-3",children:e})]})}function aC(){const[o,t]=_.useState(null),[e,n]=_.useState(""),[s,l]=_.useState(null),[c,d]=_.useState(!1),[h,f]=_.useState([]),m=na(),v=T=>{t(T[0]),f([])};_.useEffect(()=>{(async()=>{if(o&&m){const E=new FileReader;E.onload=async()=>{try{const M=new Uint8Array(E.result),N=await m.getDocument({data:M}).promise,D=N.numPages,L=[];for(let z=1;z<=D;z++){const q=await N.getPage(z),$=q.getViewport({scale:.5}),W=document.createElement("canvas"),J=W.getContext("2d");if(J){W.height=$.height,W.width=$.width;const nt={canvasContext:J,viewport:$};await q.render(nt).promise,L.push(W.toDataURL())}}f(L)}catch(M){console.error("Error generating thumbnails:",M),f([])}},E.readAsArrayBuffer(o)}else f([])})()},[o,m]);const{getRootProps:y,getInputProps:b,isDragActive:x}=ki({onDrop:v,accept:{"application/pdf":[".pdf"]}}),A=async T=>{if(T.preventDefault(),!o||!e){l("Please select a PDF file and specify page ranges.");return}d(!0),l(null);try{const M=await o.arrayBuffer(),R=new Blob([M],{type:"application/pdf"}),N=window.URL.createObjectURL(R),D=document.createElement("a");D.href=N,D.download="split.pdf",document.body.appendChild(D),D.click(),D.remove(),window.URL.revokeObjectURL(N)}catch(E){E instanceof Error?l(E.message):l("An unknown error occurred during splitting.")}finally{d(!1)}};return S.jsxs("div",{children:[S.jsx("h2",{children:"Split PDF"}),S.jsxs("div",{...y(),className:`dropzone ${x?"active":""}`,children:[S.jsx("input",{...b()}),o?S.jsxs("div",{style:{textAlign:"center"},children:[S.jsx("p",{children:o.name}),S.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"10px",justifyContent:"center"},children:h.map((T,E)=>S.jsxs("div",{style:{textAlign:"center"},children:[T?S.jsx("img",{src:T,alt:`Page ${E+1} Thumbnail`,style:{maxWidth:"100px",maxHeight:"100px",border:"1px solid #ddd"}}):S.jsx("div",{style:{width:"100px",height:"100px",border:"1px solid #ddd",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#f0f0f0"},children:"No Preview"}),S.jsxs("p",{style:{fontSize:"0.8em",marginTop:"5px"},children:["Page ",E+1]})]},E))})]}):S.jsx("p",{children:"Drag 'n' drop a PDF file here, or click to select a file"})]}),S.jsxs(gt,{onSubmit:A,className:"mt-3",children:[S.jsxs(gt.Group,{className:"mb-3",children:[S.jsx(gt.Label,{children:"Page ranges (e.g., 1-3, 5, 7-9)"}),S.jsx(gt.Control,{type:"text",value:e,onChange:T=>n(T.target.value),placeholder:"e.g., 1-3, 5, 7-9",disabled:!o})]}),S.jsx($e,{variant:"primary",type:"submit",disabled:c||!o||!e,children:c?S.jsx(Ki,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"}):"Split"})]}),s&&S.jsx(qe,{variant:"danger",className:"mt-3",children:s})]})}function sC(){const[o,t]=_.useState(null),[e,n]=_.useState(null),[s,l]=_.useState(!1),[c,d]=_.useState(null),[h,f]=_.useState(null),[m,v]=_.useState([]),y=na(),b=M=>{t(M[0]),d(M[0].size),f(null),v([])};_.useEffect(()=>{(async()=>{if(o&&y){const R=new FileReader;R.onload=async()=>{try{const N=new Uint8Array(R.result),L=await y.getDocument({data:N}).promise,z=L.numPages,q=[];for(let $=1;$<=z;$++){const W=await L.getPage($),J=W.getViewport({scale:.5}),nt=document.createElement("canvas"),dt=nt.getContext("2d");if(dt){nt.height=J.height,nt.width=J.width;const at={canvasContext:dt,viewport:J};await W.render(at).promise,q.push(nt.toDataURL())}}v(q)}catch(N){console.error("Error generating thumbnails:",N),v([])}},R.readAsArrayBuffer(o)}else v([])})()},[o,y]);const{getRootProps:x,getInputProps:A,isDragActive:T}=ki({onDrop:b,accept:{"application/pdf":[".pdf"]}}),E=async M=>{if(M.preventDefault(),!o){n("Please select a PDF file to compress.");return}l(!0),n(null);try{const R=await o.arrayBuffer(),N=await compressPdfWithGhostscript(R),D=new Blob([N],{type:"application/pdf"});f(D.size);const L=window.URL.createObjectURL(D),z=document.createElement("a");z.href=L,z.download="compressed.pdf",document.body.appendChild(z),z.click(),z.remove(),window.URL.revokeObjectURL(L)}catch(R){R instanceof Error?n(R.message):n("An unknown error occurred during compression.")}finally{l(!1)}};return S.jsxs("div",{children:[S.jsx("h2",{children:"Compress PDF"}),S.jsxs("div",{...x(),className:`dropzone ${T?"active":""}`,children:[S.jsx("input",{...A()}),o?S.jsxs("div",{style:{textAlign:"center"},children:[S.jsx("p",{children:o.name}),S.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"10px",justifyContent:"center"},children:m.map((M,R)=>S.jsxs("div",{style:{textAlign:"center"},children:[M?S.jsx("img",{src:M,alt:`Page ${R+1} Thumbnail`,style:{maxWidth:"100px",maxHeight:"100px",border:"1px solid #ddd"}}):S.jsx("div",{style:{width:"100px",height:"100px",border:"1px solid #ddd",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#f0f0f0"},children:"No Preview"}),S.jsxs("p",{style:{fontSize:"0.8em",marginTop:"5px"},children:["Page ",R+1]})]},R))})]}):S.jsx("p",{children:"Drag 'n' drop a PDF file here, or click to select a file"})]}),S.jsx(gt,{onSubmit:E,className:"mt-3",children:S.jsx($e,{variant:"primary",type:"submit",disabled:s||!o,children:s?S.jsx(Ki,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"}):"Compress"})}),e&&S.jsx(qe,{variant:"danger",className:"mt-3",children:e}),c!==null&&h!==null&&S.jsxs(qe,{variant:"info",className:"mt-3",children:[S.jsxs("p",{children:["Original Size: ",(c/1024/1024).toFixed(2)," MB"]}),S.jsxs("p",{children:["Compressed Size: ",(h/1024/1024).toFixed(2)," MB"]}),S.jsxs("p",{children:["Reduction: ",((c-h)/c*100).toFixed(2),"%"]})]})]})}function rC(){const[o,t]=_.useState(null),[e,n]=_.useState("90"),[s,l]=_.useState(null),[c,d]=_.useState(!1),[h,f]=_.useState([]),m=na(),v=T=>{t(T[0]),f([])};_.useEffect(()=>{(async()=>{if(o&&m){const E=new FileReader;E.onload=async()=>{try{const M=new Uint8Array(E.result),N=await m.getDocument({data:M}).promise,D=N.numPages,L=[];for(let z=1;z<=D;z++){const q=await N.getPage(z),$=q.getViewport({scale:.5}),W=document.createElement("canvas"),J=W.getContext("2d");if(J){W.height=$.height,W.width=$.width;const nt={canvasContext:J,viewport:$};await q.render(nt).promise,L.push(W.toDataURL())}}f(L)}catch(M){console.error("Error generating thumbnails:",M),f([])}},E.readAsArrayBuffer(o)}else f([])})()},[o,m]);const{getRootProps:y,getInputProps:b,isDragActive:x}=ki({onDrop:v,accept:{"application/pdf":[".pdf"]}}),A=async T=>{if(T.preventDefault(),!o){l("Please select a PDF file to rotate.");return}d(!0),l(null);try{const M=await o.arrayBuffer(),R=new Blob([M],{type:"application/pdf"}),N=window.URL.createObjectURL(R),D=document.createElement("a");D.href=N,D.download="rotated.pdf",document.body.appendChild(D),D.click(),D.remove(),window.URL.revokeObjectURL(N)}catch(E){E instanceof Error?l(E.message):l("An unknown error occurred during rotation.")}finally{d(!1)}};return S.jsxs("div",{children:[S.jsx("h2",{children:"Rotate PDF"}),S.jsxs("div",{...y(),className:`dropzone ${x?"active":""}`,children:[S.jsx("input",{...b()}),o?S.jsxs("div",{style:{textAlign:"center"},children:[S.jsx("p",{children:o.name}),S.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"10px",justifyContent:"center"},children:h.map((T,E)=>S.jsxs("div",{style:{textAlign:"center"},children:[T?S.jsx("img",{src:T,alt:`Page ${E+1} Thumbnail`,style:{maxWidth:"100px",maxHeight:"100px",border:"1px solid #ddd"}}):S.jsx("div",{style:{width:"100px",height:"100px",border:"1px solid #ddd",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#f0f0f0"},children:"No Preview"}),S.jsxs("p",{style:{fontSize:"0.8em",marginTop:"5px"},children:["Page ",E+1]})]},E))})]}):S.jsx("p",{children:"Drag 'n' drop a PDF file here, or click to select a file"})]}),S.jsxs(gt,{onSubmit:A,className:"mt-3",children:[S.jsxs(gt.Group,{className:"mb-3",children:[S.jsx(gt.Label,{children:"Rotation Angle"}),S.jsxs(gt.Select,{value:e,onChange:T=>n(T.target.value),disabled:!o,children:[S.jsx("option",{value:"90",children:"90 degrees"}),S.jsx("option",{value:"180",children:"180 degrees"}),S.jsx("option",{value:"270",children:"270 degrees"})]})]}),S.jsx($e,{variant:"primary",type:"submit",disabled:c||!o,children:c?S.jsx(Ki,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"}):"Rotate"})]}),s&&S.jsx(qe,{variant:"danger",className:"mt-3",children:s})]})}function oC(){const[o,t]=_.useState([]),[e,n]=_.useState(null),[s,l]=_.useState(!1),[c,d]=_.useState([]),h=b=>{t(b);const x=b.map(A=>URL.createObjectURL(A));d(x)},{getRootProps:f,getInputProps:m,isDragActive:v}=ki({onDrop:h,accept:{"image/jpeg":[".jpeg",".jpg"]},multiple:!0}),y=async b=>{if(b.preventDefault(),o.length===0){n("Please select at least one JPG file.");return}l(!0),n(null);try{const x=await o[0].arrayBuffer(),A=new Blob([x],{type:"application/pdf"}),T=window.URL.createObjectURL(A),E=document.createElement("a");E.href=T,E.download="converted.pdf",document.body.appendChild(E),E.click(),E.remove(),window.URL.revokeObjectURL(T)}catch(x){x instanceof Error?n(x.message):n("An unknown error occurred during conversion.")}finally{l(!1)}};return S.jsxs("div",{children:[S.jsx("h2",{children:"JPG to PDF"}),S.jsxs("div",{...f(),className:`dropzone ${v?"active":""}`,children:[S.jsx("input",{...m()}),o.length>0?S.jsxs("div",{children:[S.jsx("p",{children:"Selected files:"}),S.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"10px"},children:c.map((b,x)=>S.jsxs("div",{style:{textAlign:"center"},children:[b?S.jsx("img",{src:b,alt:"JPG Thumbnail",style:{maxWidth:"100px",maxHeight:"100px",border:"1px solid #ddd"}}):S.jsx("div",{style:{width:"100px",height:"100px",border:"1px solid #ddd",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#f0f0f0"},children:"No Preview"}),S.jsx("p",{style:{fontSize:"0.8em",marginTop:"5px"},children:o[x].name})]},x))})]}):S.jsx("p",{children:"Drag 'n' drop JPG files here, or click to select files"})]}),S.jsx(gt,{onSubmit:y,className:"mt-3",children:S.jsx($e,{variant:"primary",type:"submit",disabled:s||o.length===0,children:s?S.jsx(Ki,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"}):"Convert to PDF"})}),e&&S.jsx(qe,{variant:"danger",className:"mt-3",children:e})]})}function lC(){const[o,t]=_.useState(null),[e,n]=_.useState("CONFIDENTIAL"),[s,l]=_.useState("50"),[c,d]=_.useState("#ff0000"),[h,f]=_.useState(null),[m,v]=_.useState(!1),[y,b]=_.useState([]),x=na(),A=N=>{t(N[0]),b([])};_.useEffect(()=>{(async()=>{if(o&&x){const D=new FileReader;D.onload=async()=>{try{const L=new Uint8Array(D.result),q=await x.getDocument({data:L}).promise,$=q.numPages,W=[];for(let J=1;J<=$;J++){const nt=await q.getPage(J),dt=nt.getViewport({scale:.5}),at=document.createElement("canvas"),ht=at.getContext("2d");if(ht){at.height=dt.height,at.width=dt.width;const P={canvasContext:ht,viewport:dt};await nt.render(P).promise,W.push(at.toDataURL())}}b(W)}catch(L){console.error("Error generating thumbnails:",L),b([])}},D.readAsArrayBuffer(o)}else b([])})()},[o,x]);const{getRootProps:T,getInputProps:E,isDragActive:M}=ki({onDrop:A,accept:{"application/pdf":[".pdf"]}}),R=async N=>{if(N.preventDefault(),!o){f("Please select a PDF file.");return}v(!0),f(null);try{const L=await o.arrayBuffer(),z=new Blob([L],{type:"application/pdf"}),q=window.URL.createObjectURL(z),$=document.createElement("a");$.href=q,$.download="watermarked.pdf",document.body.appendChild($),$.click(),$.remove(),window.URL.revokeObjectURL(q)}catch(D){D instanceof Error?f(D.message):f("An unknown error occurred during adding watermark.")}finally{v(!1)}};return S.jsxs("div",{children:[S.jsx("h2",{children:"Add Watermark"}),S.jsxs("div",{...T(),className:`dropzone ${M?"active":""}`,children:[S.jsx("input",{...E()}),o?S.jsxs("div",{style:{textAlign:"center"},children:[S.jsx("p",{children:o.name}),S.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"10px",justifyContent:"center"},children:y.map((N,D)=>S.jsxs("div",{style:{textAlign:"center"},children:[N?S.jsx("img",{src:N,alt:`Page ${D+1} Thumbnail`,style:{maxWidth:"100px",maxHeight:"100px",border:"1px solid #ddd"}}):S.jsx("div",{style:{width:"100px",height:"100px",border:"1px solid #ddd",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#f0f0f0"},children:"No Preview"}),S.jsxs("p",{style:{fontSize:"0.8em",marginTop:"5px"},children:["Page ",D+1]})]},D))})]}):S.jsx("p",{children:"Drag 'n' drop a PDF file here, or click to select a file"})]}),S.jsxs(gt,{onSubmit:R,className:"mt-3",children:[S.jsxs(gt.Group,{className:"mb-3",children:[S.jsx(gt.Label,{children:"Watermark Text"}),S.jsx(gt.Control,{type:"text",value:e,onChange:N=>n(N.target.value),disabled:!o})]}),S.jsxs(gt.Group,{className:"mb-3",children:[S.jsx(gt.Label,{children:"Font Size"}),S.jsx(gt.Control,{type:"number",value:s,onChange:N=>l(N.target.value),disabled:!o})]}),S.jsxs(gt.Group,{className:"mb-3",children:[S.jsx(gt.Label,{children:"Color"}),S.jsx(gt.Control,{type:"color",value:c,onChange:N=>d(N.target.value),disabled:!o})]}),S.jsx($e,{variant:"primary",type:"submit",disabled:m||!o,children:m?S.jsx(Ki,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"}):"Add Watermark"})]}),h&&S.jsx(qe,{variant:"danger",className:"mt-3",children:h})]})}function cC(){const[o,t]=_.useState(null),[e,n]=_.useState(null),[s,l]=_.useState(!1),[c,d]=_.useState([]),h=na(),f=x=>{t(x[0]),d([])};_.useEffect(()=>{(async()=>{if(o&&h){const A=new FileReader;A.onload=async()=>{try{const T=new Uint8Array(A.result),M=await h.getDocument({data:T}).promise,R=M.numPages,N=[];for(let D=1;D<=R;D++){const L=await M.getPage(D),z=L.getViewport({scale:.5}),q=document.createElement("canvas"),$=q.getContext("2d");if($){q.height=z.height,q.width=z.width;const W={canvasContext:$,viewport:z};await L.render(W).promise,N.push(q.toDataURL())}}d(N)}catch(T){console.error("Error generating thumbnails:",T),d([])}},A.readAsArrayBuffer(o)}else d([])})()},[o,h]);const{getRootProps:m,getInputProps:v,isDragActive:y}=ki({onDrop:f,accept:{"application/pdf":[".pdf"]}}),b=async x=>{if(x.preventDefault(),!o){n("Please select a PDF file.");return}l(!0),n(null);try{const T=await o.arrayBuffer(),E=new Blob([T],{type:"application/pdf"}),M=window.URL.createObjectURL(E),R=document.createElement("a");R.href=M,R.download="paginated.pdf",document.body.appendChild(R),R.click(),R.remove(),window.URL.revokeObjectURL(M)}catch(A){A instanceof Error?n(A.message):n("An unknown error occurred during adding page numbers.")}finally{l(!1)}};return S.jsxs("div",{children:[S.jsx("h2",{children:"Add Page Numbers"}),S.jsxs("div",{...m(),className:`dropzone ${y?"active":""}`,children:[S.jsx("input",{...v()}),o?S.jsxs("div",{style:{textAlign:"center"},children:[S.jsx("p",{children:o.name}),S.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"10px",justifyContent:"center"},children:c.map((x,A)=>S.jsxs("div",{style:{textAlign:"center"},children:[x?S.jsx("img",{src:x,alt:`Page ${A+1} Thumbnail`,style:{maxWidth:"100px",maxHeight:"100px",border:"1px solid #ddd"}}):S.jsx("div",{style:{width:"100px",height:"100px",border:"1px solid #ddd",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#f0f0f0"},children:"No Preview"}),S.jsxs("p",{style:{fontSize:"0.8em",marginTop:"5px"},children:["Page ",A+1]})]},A))})]}):S.jsx("p",{children:"Drag 'n' drop a PDF file here, or click to select a file"})]}),S.jsx(gt,{onSubmit:b,className:"mt-3",children:S.jsx($e,{variant:"primary",type:"submit",disabled:s||!o,children:s?S.jsx(Ki,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"}):"Add Page Numbers"})}),e&&S.jsx(qe,{variant:"danger",className:"mt-3",children:e})]})}function uC(){const[o,t]=_.useState(null),[e,n]=_.useState(""),[s,l]=_.useState(null),[c,d]=_.useState(!1),[h,f]=_.useState([]),m=na(),v=T=>{t(T[0]),f([])};_.useEffect(()=>{(async()=>{if(o&&m){const E=new FileReader;E.onload=async()=>{try{const M=new Uint8Array(E.result),N=await m.getDocument({data:M}).promise,D=N.numPages,L=[];for(let z=1;z<=D;z++){const q=await N.getPage(z),$=q.getViewport({scale:.5}),W=document.createElement("canvas"),J=W.getContext("2d");if(J){W.height=$.height,W.width=$.width;const nt={canvasContext:J,viewport:$};await q.render(nt).promise,L.push(W.toDataURL())}}f(L)}catch(M){console.error("Error generating thumbnails:",M),f([])}},E.readAsArrayBuffer(o)}else f([])})()},[o,m]);const{getRootProps:y,getInputProps:b,isDragActive:x}=ki({onDrop:v,accept:{"application/pdf":[".pdf"]}}),A=async T=>{if(T.preventDefault(),!o||!e){l("Please select a PDF file and enter a password to lock it.");return}d(!0),l(null);try{const M=await o.arrayBuffer(),R=new Blob([M],{type:"application/pdf"}),N=window.URL.createObjectURL(R),D=document.createElement("a");D.href=N,D.download="locked.pdf",document.body.appendChild(D),D.click(),D.remove(),window.URL.revokeObjectURL(N)}catch(E){E instanceof Error?l(E.message):l("An unknown error occurred during locking.")}finally{d(!1)}};return S.jsxs("div",{children:[S.jsx("h2",{children:"Lock PDF"}),S.jsxs("div",{...y(),className:`dropzone ${x?"active":""}`,children:[S.jsx("input",{...b()}),o?S.jsxs("div",{style:{textAlign:"center"},children:[S.jsx("p",{children:o.name}),S.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"10px",justifyContent:"center"},children:h.map((T,E)=>S.jsxs("div",{style:{textAlign:"center"},children:[T?S.jsx("img",{src:T,alt:`Page ${E+1} Thumbnail`,style:{maxWidth:"100px",maxHeight:"100px",border:"1px solid #ddd"}}):S.jsx("div",{style:{width:"100px",height:"100px",border:"1px solid #ddd",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#f0f0f0"},children:"No Preview"}),S.jsxs("p",{style:{fontSize:"0.8em",marginTop:"5px"},children:["Page ",E+1]})]},E))})]}):S.jsx("p",{children:"Drag 'n' drop a PDF file here, or click to select a file"})]}),S.jsxs(gt,{onSubmit:A,className:"mt-3",children:[S.jsxs(gt.Group,{className:"mb-3",children:[S.jsx(gt.Label,{children:"Password"}),S.jsx(gt.Control,{type:"password",value:e,onChange:T=>n(T.target.value),disabled:!o})]}),S.jsx($e,{variant:"primary",type:"submit",disabled:c||!o||!e,children:c?S.jsx(Ki,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"}):"Lock PDF"})]}),s&&S.jsx(qe,{variant:"danger",className:"mt-3",children:s})]})}function dC(){const[o,t]=_.useState(null),[e,n]=_.useState(""),[s,l]=_.useState(null),[c,d]=_.useState(!1),[h,f]=_.useState([]),m=na(),v=T=>{t(T[0]),f([])};_.useEffect(()=>{(async()=>{if(o&&m){const E=new FileReader;E.onload=async()=>{try{const M=new Uint8Array(E.result),N=await m.getDocument({data:M,password:e}).promise,D=N.numPages,L=[];for(let z=1;z<=D;z++){const q=await N.getPage(z),$=q.getViewport({scale:.5}),W=document.createElement("canvas"),J=W.getContext("2d");if(J){W.height=$.height,W.width=$.width;const nt={canvasContext:J,viewport:$};await q.render(nt).promise,L.push(W.toDataURL())}}f(L)}catch(M){console.error("Error generating thumbnails:",M),f([])}},E.readAsArrayBuffer(o)}else f([])})()},[o,m,e]);const{getRootProps:y,getInputProps:b,isDragActive:x}=ki({onDrop:v,accept:{"application/pdf":[".pdf"]}}),A=async T=>{if(T.preventDefault(),!o||!e){l("Please select a PDF file and enter a password.");return}d(!0),l(null);try{const M=await o.arrayBuffer(),R=new Blob([M],{type:"application/pdf"}),N=window.URL.createObjectURL(R),D=document.createElement("a");D.href=N,D.download="unlocked.pdf",document.body.appendChild(D),D.click(),D.remove(),window.URL.revokeObjectURL(N)}catch(E){E instanceof Error?l("Failed to unlock PDF. Please check the password."):l("An unknown error occurred during unlocking.")}finally{d(!1)}};return S.jsxs("div",{children:[S.jsx("h2",{children:"Unlock PDF"}),S.jsxs("div",{...y(),className:`dropzone ${x?"active":""}`,children:[S.jsx("input",{...b()}),o?S.jsxs("div",{style:{textAlign:"center"},children:[S.jsx("p",{children:o.name}),S.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"10px",justifyContent:"center"},children:h.map((T,E)=>S.jsxs("div",{style:{textAlign:"center"},children:[T?S.jsx("img",{src:T,alt:`Page ${E+1} Thumbnail`,style:{maxWidth:"100px",maxHeight:"100px",border:"1px solid #ddd"}}):S.jsx("div",{style:{width:"100px",height:"100px",border:"1px solid #ddd",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#f0f0f0"},children:"No Preview"}),S.jsxs("p",{style:{fontSize:"0.8em",marginTop:"5px"},children:["Page ",E+1]})]},E))})]}):S.jsx("p",{children:"Drag 'n' drop a PDF file here, or click to select a file"})]}),S.jsxs(gt,{onSubmit:A,className:"mt-3",children:[S.jsxs(gt.Group,{className:"mb-3",children:[S.jsx(gt.Label,{children:"Password"}),S.jsx(gt.Control,{type:"password",value:e,onChange:T=>n(T.target.value),disabled:!o})]}),S.jsx($e,{variant:"primary",type:"submit",disabled:c||!o||!e,children:c?S.jsx(Ki,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"}):"Unlock PDF"})]}),s&&S.jsx(qe,{variant:"danger",className:"mt-3",children:s})]})}function hC(){const[o,t]=_.useState(null),[e,n]=_.useState(null),[s,l]=_.useState(null),c=v=>{t(v[0]),l("data:image/svg+xml;base64,PHN2ZyBhcmlhLWhpZGRlbj0idHJ1ZSIgZm9jdXNhYmxlPSJmYWxzZSIgZGF0YS1wcmVmaXg9ImZhcyIgZGF0YS1pY29uPSJmaWxlLXdvcmQiIGNsYXNzPSJzdmctYmluYSBmYS1maWxlLXdvcmQgZmEtdy0xMiIgcm9sZT0iaW1nIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzODQgNTEyIj48cGF0aCBmaWxsPSJjdXJyZW50Q29sb3IiIGQ9Ik0zNjkgMTYwSjI0MGMtMTMuMjU1IDAtMjQgMTAuNzQ1LTI0IDI0djEyOWMwIDUuNTIzIDQuNDc3IDEwIDEwIDEwczEwLTQuNDc3IDEwLTEwVjE4NGgxMjljMTMuMjU1IDAgMjQtMTAuNzQ1IDI0LTI0cy0xMC43NDUtMjQtMjQtMjR6TTI4OCAwSDU0LjU1QzI0LjQ0IDAgMCAyNC40NCAwIDU0LjU1VjQ1Ny40NEMwIDQ4Ny41NiAyNC40NCA1MTIgNTQuNTUgNTEySDMzMC40NEMzNjAuNTYgNTEyIDM4NCA0ODcuNTYgMzg0IDQ1Ny40NlYxNjBhMjQgMjQgMCAwMC0xNS0yMi41NnpNMTYwIDQxNkg5NmMtOC44NCAwLTE2LTcuMTYtMTYtMTZzNy4xNi0xNiAxNi0xNmg2NGM4Ljg0IDAgMTYgNy4xNiAxNiAxNnMtNy4xNiAxNi0xNiAxNnptNjQtOTZjLTM1LjM0NiAwLTY0LTI4LjY1NC02NC02NHM2NC02NCA2NC02NHM2NCAyOC42NTQgNjQgNjRzLTI4LjY1NCA2NC02NCA2NHptNjQtMTI4aC02NGMtOC44NCAwLTE2LTcuMTYtMTYtMTZzNy4xNi0xNiAxNi0xNmg2NGM4Ljg0IDAgMTYgNy4xNiAxNiAxNnMtNy4xNiAxNi0xNiAxNnptNjQtOTZoLTY0Yy04Ljg0IDAtMTYtNy4xNi0xNi0xNnMyOC42NTQtNjQgNjQtNjRzNjQgMjguNjU0IDY0IDY0czI4LjY1NCA2NC02NCA2NHYtMTYwYy04Ljg0IDAtMTYtNy4xNi0xNi0xNnMtNy4xNi0xNi0xNi0xNnptLTY0IDMyYzAtMTcuNjczIDE0LjMyNy0zMiAzMi0zMnMyOC42NTQgNjQtNjQgNjRzNjQgMjguNjU0IDY0IDY0czI4LjY1NCA2NC02NCA2NHpNMjU2IDM1MmMwIDM1LjM0Ni0yOC42NTQgNjQtNjQgNjRzLTY0LTI4LjY1NC02NC02NHMyOC42NTQtNjQgNjQtNjRzNjQgMjguNjU0IDY0IDY0eiIvPjwvc3ZnPj")},{getRootProps:d,getInputProps:h,isDragActive:f}=ki({onDrop:c,accept:{"application/vnd.openxmlformats-officedocument.wordprocessingml.document":[".docx"]},disabled:!0}),m=async v=>{v.preventDefault(),n("Word to PDF conversion is not available as an offline tool.")};return S.jsxs("div",{children:[S.jsx("h2",{children:"Word to PDF"}),S.jsx(qe,{variant:"warning",children:"Word to PDF conversion is not available as an offline tool. This feature requires server-side processing."}),S.jsxs("div",{...d(),className:`dropzone ${f?"active":""}`,children:[S.jsx("input",{...h()}),o?S.jsxs("div",{style:{textAlign:"center"},children:[s?S.jsx("img",{src:s,alt:"Word Document",style:{maxWidth:"100px",maxHeight:"100px",border:"1px solid #ddd"}}):S.jsx("div",{style:{width:"100px",height:"100px",border:"1px solid #ddd",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#f0f0f0"},children:"No Preview"}),S.jsx("p",{style:{fontSize:"0.8em",marginTop:"5px"},children:o.name})]}):S.jsx("p",{children:"Drag 'n' drop a Word file here, or click to select a file (This feature is disabled)"})]}),S.jsx(gt,{onSubmit:m,className:"mt-3",children:S.jsx($e,{variant:"primary",type:"submit",disabled:!0,children:"Convert to PDF (Unavailable)"})}),e&&S.jsx(qe,{variant:"danger",className:"mt-3",children:e})]})}var F0={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Ry=Oe.createContext&&Oe.createContext(F0),fC=["attr","size","title"];function pC(o,t){if(o==null)return{};var e=mC(o,t),n,s;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(o);for(s=0;s<l.length;s++)n=l[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(o,n)&&(e[n]=o[n])}return e}function mC(o,t){if(o==null)return{};var e={};for(var n in o)if(Object.prototype.hasOwnProperty.call(o,n)){if(t.indexOf(n)>=0)continue;e[n]=o[n]}return e}function dc(){return dc=Object.assign?Object.assign.bind():function(o){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(o[n]=e[n])}return o},dc.apply(this,arguments)}function Dy(o,t){var e=Object.keys(o);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(o);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(o,s).enumerable})),e.push.apply(e,n)}return e}function hc(o){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?Dy(Object(e),!0).forEach(function(n){gC(o,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(e)):Dy(Object(e)).forEach(function(n){Object.defineProperty(o,n,Object.getOwnPropertyDescriptor(e,n))})}return o}function gC(o,t,e){return t=vC(t),t in o?Object.defineProperty(o,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):o[t]=e,o}function vC(o){var t=yC(o,"string");return typeof t=="symbol"?t:t+""}function yC(o,t){if(typeof o!="object"||!o)return o;var e=o[Symbol.toPrimitive];if(e!==void 0){var n=e.call(o,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(o)}function B0(o){return o&&o.map((t,e)=>Oe.createElement(t.tag,hc({key:e},t.attr),B0(t.child)))}function Wi(o){return t=>Oe.createElement(bC,dc({attr:hc({},o.attr)},t),B0(o.child))}function bC(o){var t=e=>{var{attr:n,size:s,title:l}=o,c=pC(o,fC),d=s||e.size||"1em",h;return e.className&&(h=e.className),o.className&&(h=(h?h+" ":"")+o.className),Oe.createElement("svg",dc({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},e.attr,n,c,{className:h,style:hc(hc({color:o.color||e.color},e.style),o.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),l&&Oe.createElement("title",null,l),o.children)};return Ry!==void 0?Oe.createElement(Ry.Consumer,null,e=>t(e)):t(F0)}function xC(o){return Wi({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M200 288H88c-21.4 0-32.1 25.8-17 41l32.9 31-99.2 99.3c-6.2 6.2-6.2 16.4 0 22.6l25.4 25.4c6.2 6.2 16.4 6.2 22.6 0L152 408l31.1 33c15.1 15.1 40.9 4.4 40.9-17V312c0-13.3-10.7-24-24-24zm112-64h112c21.4 0 32.1-25.9 17-41l-33-31 99.3-99.3c6.2-6.2 6.2-16.4 0-22.6L481.9 4.7c-6.2-6.2-16.4-6.2-22.6 0L360 104l-31.1-33C313.8 55.9 288 66.6 288 88v112c0 13.3 10.7 24 24 24zm96 136l33-31.1c15.1-15.1 4.4-40.9-17-40.9H312c-13.3 0-24 10.7-24 24v112c0 21.4 25.9 32.1 41 17l31-32.9 99.3 99.3c6.2 6.2 16.4 6.2 22.6 0l25.4-25.4c6.2-6.2 6.2-16.4 0-22.6L408 360zM183 71.1L152 104 52.7 4.7c-6.2-6.2-16.4-6.2-22.6 0L4.7 30.1c-6.2 6.2-6.2 16.4 0 22.6L104 152l-33 31.1C55.9 198.2 66.6 224 88 224h112c13.3 0 24-10.7 24-24V88c0-21.3-25.9-32-41-16.9z"},child:[]}]})(o)}function AC(o){return Wi({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M384 121.941V128H256V0h6.059a24 24 0 0 1 16.97 7.029l97.941 97.941a24.002 24.002 0 0 1 7.03 16.971zM248 160c-13.2 0-24-10.8-24-24V0H24C10.745 0 0 10.745 0 24v464c0 13.255 10.745 24 24 24h336c13.255 0 24-10.745 24-24V160H248zm-135.455 16c26.51 0 48 21.49 48 48s-21.49 48-48 48-48-21.49-48-48 21.491-48 48-48zm208 240h-256l.485-48.485L104.545 328c4.686-4.686 11.799-4.201 16.485.485L160.545 368 264.06 264.485c4.686-4.686 12.284-4.686 16.971 0L320.545 304v112z"},child:[]}]})(o)}function wC(o){return Wi({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M181.9 256.1c-5-16-4.9-46.9-2-46.9 8.4 0 7.6 36.9 2 46.9zm-1.7 47.2c-7.7 20.2-17.3 43.3-28.4 62.7 18.3-7 39-17.2 62.9-21.9-12.7-9.6-24.9-23.4-34.5-40.8zM86.1 428.1c0 .8 13.2-5.4 34.9-40.2-6.7 6.3-29.1 24.5-34.9 40.2zM248 160h136v328c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V24C0 10.7 10.7 0 24 0h200v136c0 13.2 10.8 24 24 24zm-8 171.8c-20-12.2-33.3-29-42.7-53.8 4.5-18.5 11.6-46.6 6.2-64.2-4.7-29.4-42.4-26.5-47.8-6.8-5 18.3-.4 44.1 8.1 77-11.6 27.6-28.7 64.6-40.8 85.8-.1 0-.1.1-.2.1-27.1 13.9-73.6 44.5-54.5 68 5.6 6.9 16 10 21.5 10 17.9 0 35.7-18 61.1-61.8 25.8-8.5 54.1-19.1 79-23.2 21.7 11.8 47.1 19.5 64 19.5 29.2 0 31.2-32 19.7-43.4-13.9-13.6-54.3-9.7-73.6-7.2zM377 105L279 7c-4.5-4.5-10.6-7-17-7h-6v128h128v-6.1c0-6.3-2.5-12.4-7-16.9zm-74.1 255.3c4.1-2.7-2.5-11.9-42.8-9 37.1 15.8 42.8 9 42.8 9z"},child:[]}]})(o)}function SC(o){return Wi({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M218.17 424.14c-2.95-5.92-8.09-6.52-10.17-6.52s-7.22.59-10.02 6.19l-7.67 15.34c-6.37 12.78-25.03 11.37-29.48-2.09L144 386.59l-10.61 31.88c-5.89 17.66-22.38 29.53-41 29.53H80c-8.84 0-16-7.16-16-16s7.16-16 16-16h12.39c4.83 0 9.11-3.08 10.64-7.66l18.19-54.64c3.3-9.81 12.44-16.41 22.78-16.41s19.48 6.59 22.77 16.41l13.88 41.64c19.75-16.19 54.06-9.7 66 14.16 1.89 3.78 5.49 5.95 9.36 6.26v-82.12l128-127.09V160H248c-13.2 0-24-10.8-24-24V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24v-40l-128-.11c-16.12-.31-30.58-9.28-37.83-23.75zM384 121.9c0-6.3-2.5-12.4-7-16.9L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1zm-96 225.06V416h68.99l161.68-162.78-67.88-67.88L288 346.96zm280.54-179.63l-31.87-31.87c-9.94-9.94-26.07-9.94-36.01 0l-27.25 27.25 67.88 67.88 27.25-27.25c9.95-9.94 9.95-26.07 0-36.01z"},child:[]}]})(o)}function EC(o){return Wi({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm57.1 120H305c7.7 0 13.4 7.1 11.7 14.7l-38 168c-1.2 5.5-6.1 9.3-11.7 9.3h-38c-5.5 0-10.3-3.8-11.6-9.1-25.8-103.5-20.8-81.2-25.6-110.5h-.5c-1.1 14.3-2.4 17.4-25.6 110.5-1.3 5.3-6.1 9.1-11.6 9.1H117c-5.6 0-10.5-3.9-11.7-9.4l-37.8-168c-1.7-7.5 4-14.6 11.7-14.6h24.5c5.7 0 10.7 4 11.8 9.7 15.6 78 20.1 109.5 21 122.2 1.6-10.2 7.3-32.7 29.4-122.7 1.3-5.4 6.1-9.1 11.7-9.1h29.1c5.6 0 10.4 3.8 11.7 9.2 24 100.4 28.8 124 29.6 129.4-.2-11.2-2.6-17.8 21.6-129.2 1-5.6 5.9-9.5 11.5-9.5zM384 121.9v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(o)}function _C(o){return Wi({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"},child:[]}]})(o)}function TC(o){return Wi({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M64 320v26a6 6 0 0 1-6 6H6a6 6 0 0 1-6-6v-52a6 6 0 0 1 6-6h26V96H6a6 6 0 0 1-6-6V38a6 6 0 0 1 6-6h52a6 6 0 0 1 6 6v26h288V38a6 6 0 0 1 6-6h52a6 6 0 0 1 6 6v52a6 6 0 0 1-6 6h-26v192h26a6 6 0 0 1 6 6v52a6 6 0 0 1-6 6h-52a6 6 0 0 1-6-6v-26H64zm480-64v-32h26a6 6 0 0 0 6-6v-52a6 6 0 0 0-6-6h-52a6 6 0 0 0-6 6v26H408v72h8c13.255 0 24 10.745 24 24v64c0 13.255-10.745 24-24 24h-64c-13.255 0-24-10.745-24-24v-8H192v72h-26a6 6 0 0 0-6 6v52a6 6 0 0 0 6 6h52a6 6 0 0 0 6-6v-26h288v26a6 6 0 0 0 6 6h52a6 6 0 0 0 6-6v-52a6 6 0 0 0-6-6h-26V256z"},child:[]}]})(o)}function CC(o){return Wi({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M167.02 309.34c-40.12 2.58-76.53 17.86-97.19 72.3-2.35 6.21-8 9.98-14.59 9.98-11.11 0-45.46-27.67-55.25-34.35C0 439.62 37.93 512 128 512c75.86 0 128-43.77 128-120.19 0-3.11-.65-6.08-.97-9.13l-88.01-73.34zM457.89 0c-15.16 0-29.37 6.71-40.21 16.45C213.27 199.05 192 203.34 192 257.09c0 13.7 3.25 26.76 8.73 38.7l63.82 53.18c7.21 1.8 14.64 3.03 22.39 3.03 62.11 0 98.11-45.47 211.16-256.46 7.38-14.35 13.9-29.85 13.9-45.99C512 20.64 486 0 457.89 0z"},child:[]}]})(o)}function RC(o){return Wi({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M370.72 133.28C339.458 104.008 298.888 87.962 255.848 88c-77.458.068-144.328 53.178-162.791 126.85-1.344 5.363-6.122 9.15-11.651 9.15H24.103c-7.498 0-13.194-6.807-11.807-14.176C33.933 94.924 134.813 8 256 8c66.448 0 126.791 26.136 171.315 68.685L463.03 40.97C478.149 25.851 504 36.559 504 57.941V192c0 13.255-10.745 24-24 24H345.941c-21.382 0-32.09-25.851-16.971-40.971l41.75-41.749zM32 296h134.059c21.382 0 32.09 25.851 16.971 40.971l-41.75 41.75c31.262 29.273 71.835 45.319 114.876 45.28 77.418-.07 144.315-53.144 162.787-126.849 1.344-5.363 6.122-9.15 11.651-9.15h57.304c7.498 0 13.194 6.807 11.807 14.176C478.067 417.076 377.187 504 256 504c-66.448 0-126.791-26.136-171.315-68.685L48.97 471.03C33.851 486.149 8 475.441 8 454.059V320c0-13.255 10.745-24 24-24z"},child:[]}]})(o)}function DC(o){return Wi({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 256H152V152.9c0-39.6 31.7-72.5 71.3-72.9 40-.4 72.7 32.1 72.7 72v16c0 13.3 10.7 24 24 24h32c13.3 0 24-10.7 24-24v-16C376 68 307.5-.3 223.5 0 139.5.3 72 69.5 72 153.5V256H48c-26.5 0-48 21.5-48 48v160c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V304c0-26.5-21.5-48-48-48z"},child:[]}]})(o)}const MC=[{to:"/merge",icon:S.jsx(wC,{}),title:"Merge PDF",description:"Combine multiple PDFs into one"},{to:"/split",icon:S.jsx(TC,{}),title:"Split PDF",description:"Extract pages from a PDF"},{to:"/compress",icon:S.jsx(xC,{}),title:"Compress PDF",description:"Reduce the size of a PDF"},{to:"/rotate",icon:S.jsx(RC,{}),title:"Rotate PDF",description:"Rotate pages in a PDF"},{to:"/jpg-to-pdf",icon:S.jsx(AC,{}),title:"JPG to PDF",description:"Convert JPG images to a PDF"},{to:"/add-watermark",icon:S.jsx(CC,{}),title:"Add Watermark",description:"Add a watermark to a PDF"},{to:"/add-page-numbers",icon:S.jsx(SC,{}),title:"Add Page Numbers",description:"Add page numbers to a PDF"},{to:"/lock",icon:S.jsx(_C,{}),title:"Lock PDF",description:"Add a password to a PDF"},{to:"/unlock",icon:S.jsx(DC,{}),title:"Unlock PDF",description:"Remove a password from a PDF"},{to:"/word-to-pdf",icon:S.jsx(EC,{}),title:"Word to PDF",description:"Convert a Word document to a PDF"}];function NC(){return S.jsxs("div",{children:[S.jsx("h1",{className:"text-center mb-4",children:"PDF Suite"}),S.jsx(sf,{xs:1,md:2,lg:3,className:"g-4",children:MC.map((o,t)=>S.jsx(no,{children:S.jsx(He,{to:o.to,style:{textDecoration:"none"},children:S.jsx(Ds,{className:"h-100 text-center shadow-sm",children:S.jsxs(Ds.Body,{children:[S.jsx("div",{style:{fontSize:"3rem",color:"#dc3545"},children:o.icon}),S.jsx(Ds.Title,{className:"mt-3",children:o.title}),S.jsx(Ds.Text,{children:o.description})]})})})},t))})]})}const Kl=()=>{const o="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";let t="";for(let e=0;e<6;e++)t+=o[Math.floor(Math.random()*o.length)];return t},OC=({onLogin:o})=>{const[t,e]=_.useState(""),[n,s]=_.useState(""),[l,c]=_.useState(""),[d,h]=_.useState(""),[f,m]=_.useState(""),v=Fh();_.useEffect(()=>{c(Kl())},[]);const y=async b=>{if(b.preventDefault(),m(""),d!==l){m("CAPTCHA mismatch. Please try again."),c(Kl()),h("");return}try{const x=await fetch("http://localhost:3001/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t,password:n})});if(x.ok){const A=await x.json();o(A.accessToken),v("/")}else{const A=await x.text();m(A||"Login failed."),c(Kl()),h("")}}catch{m("Network error or server is unreachable."),c(Kl()),h("")}};return S.jsx(ao,{className:"d-flex justify-content-center align-items-center",style:{minHeight:"100vh"},children:S.jsx(Ds,{style:{width:"28rem"},className:"shadow-lg p-4",children:S.jsxs(Ds.Body,{children:[S.jsxs("div",{className:"text-center mb-4",children:[S.jsx("h2",{className:"mt-3",children:"Login"}),S.jsx("p",{className:"text-muted",children:"Powered by ATS Headquarters"})]}),f&&S.jsx(qe,{variant:"danger",children:f}),S.jsxs(gt,{onSubmit:y,children:[S.jsxs(gt.Group,{className:"mb-3",controlId:"formBasicEmail",children:[S.jsx(gt.Label,{children:"Email address"}),S.jsx(gt.Control,{type:"email",placeholder:"Enter email",value:t,onChange:b=>e(b.target.value),required:!0})]}),S.jsxs(gt.Group,{className:"mb-3",controlId:"formBasicPassword",children:[S.jsx(gt.Label,{children:"Password"}),S.jsx(gt.Control,{type:"password",placeholder:"Password",value:n,onChange:b=>s(b.target.value),required:!0})]}),S.jsxs(gt.Group,{className:"mb-3",controlId:"formBasicCaptcha",children:[S.jsx(gt.Label,{children:"CAPTCHA"}),S.jsxs(sf,{className:"align-items-center",children:[S.jsx(no,{xs:6,children:S.jsx("div",{className:"bg-light p-2 text-center border rounded fs-4 fw-bold user-select-none",children:l})}),S.jsx(no,{xs:6,children:S.jsx(gt.Control,{type:"text",placeholder:"Enter CAPTCHA",value:d,onChange:b=>h(b.target.value),required:!0})})]})]}),S.jsx($e,{variant:"primary",type:"submit",className:"w-100 mt-3",children:"Login"})]})]})})})},kC=()=>{const[o,t]=_.useState([]),[e,n]=_.useState(""),[s,l]=_.useState(""),[c,d]=_.useState("user"),[h,f]=_.useState(""),[m,v]=_.useState(""),y=async()=>{const x=localStorage.getItem("token");if(!x){v("Not authenticated.");return}try{const A=await fetch("http://localhost:3001/api/admin/users",{headers:{Authorization:`Bearer ${x}`}});if(A.ok){const T=await A.json();t(T)}else v("Failed to fetch users.")}catch{v("Network error or server is unreachable.")}};_.useEffect(()=>{y()},[]);const b=async x=>{x.preventDefault(),f(""),v("");const A=localStorage.getItem("token");if(!A){v("Not authenticated.");return}try{const T=await fetch("http://localhost:3001/api/admin/add-user",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${A}`},body:JSON.stringify({username:e,password:s,role:c})});if(T.ok)f("User added successfully!"),n(""),l(""),d("user"),y();else try{const E=await T.text();v(E||"Failed to add user.")}catch{v("Failed to add user and could not parse error response.")}}catch{v("Network error or server is unreachable.")}};return S.jsxs(ao,{className:"mt-4",children:[S.jsx("h2",{children:"Admin Panel"}),h&&S.jsx(qe,{variant:"success",children:h}),m&&S.jsx(qe,{variant:"danger",children:m}),S.jsx("h3",{className:"mt-4",children:"Add New User"}),S.jsxs(gt,{onSubmit:b,className:"mb-4",children:[S.jsxs(gt.Group,{className:"mb-3",controlId:"formNewUsername",children:[S.jsx(gt.Label,{children:"Username (Email)"}),S.jsx(gt.Control,{type:"email",placeholder:"Enter username",value:e,onChange:x=>n(x.target.value),required:!0})]}),S.jsxs(gt.Group,{className:"mb-3",controlId:"formNewPassword",children:[S.jsx(gt.Label,{children:"Password"}),S.jsx(gt.Control,{type:"password",placeholder:"Enter password",value:s,onChange:x=>l(x.target.value),required:!0})]}),S.jsxs(gt.Group,{className:"mb-3",controlId:"formNewUserRole",children:[S.jsx(gt.Label,{children:"Role"}),S.jsxs(gt.Select,{value:c,onChange:x=>d(x.target.value),children:[S.jsx("option",{value:"user",children:"User"}),S.jsx("option",{value:"admin",children:"Admin"})]})]}),S.jsx($e,{variant:"primary",type:"submit",children:"Add User"})]}),S.jsx("h3",{className:"mt-4",children:"Existing Users"}),S.jsxs($b,{striped:!0,bordered:!0,hover:!0,responsive:!0,children:[S.jsx("thead",{children:S.jsxs("tr",{children:[S.jsx("th",{children:"Username"}),S.jsx("th",{children:"Role"})]})}),S.jsx("tbody",{children:o.map((x,A)=>S.jsxs("tr",{children:[S.jsx("td",{children:x.username}),S.jsx("td",{children:x.role})]},A))})]})]})};function LC(){const[o,t]=_.useState("light"),[e,n]=_.useState(()=>!!localStorage.getItem("token")),[s,l]=_.useState(()=>{const f=localStorage.getItem("token");if(f)try{return JSON.parse(atob(f.split(".")[1])).role}catch(m){return console.error("Failed to parse token:",m),null}return null}),c=f=>{localStorage.setItem("token",f),n(!0);try{const m=JSON.parse(atob(f.split(".")[1]));l(m.role)}catch(m){console.error("Failed to parse token on login:",m),l(null)}},d=()=>{localStorage.removeItem("token"),n(!1),l(null)};_.useEffect(()=>{document.body.className=o==="dark"?"dark-mode":""},[o]);const h=({children:f,adminOnly:m=!1})=>{const v=Fh();return _.useEffect(()=>{e?m&&s!=="admin"&&v("/"):v("/login")},[e,m,s]),!e||m&&s!=="admin"?null:f};return S.jsxs("div",{className:"app-container",children:[S.jsx(Fl,{bg:o,variant:o,expand:"lg",className:"shadow-sm",children:S.jsxs(ao,{children:[S.jsx(Fl.Brand,{as:He,to:"/",children:"PDF Tools"}),S.jsx(Fl.Toggle,{"aria-controls":"basic-navbar-nav"}),S.jsxs(Fl.Collapse,{id:"basic-navbar-nav",children:[S.jsx(Si,{className:"me-auto",children:e&&S.jsxs(S.Fragment,{children:[S.jsx(Si.Link,{as:He,to:"/merge",children:"Merge"}),S.jsx(Si.Link,{as:He,to:"/split",children:"Split"}),S.jsx(Si.Link,{as:He,to:"/compress",children:"Compress"}),S.jsx(Si.Link,{as:He,to:"/rotate",children:"Rotate"}),S.jsx(Si.Link,{as:He,to:"/jpg-to-pdf",children:"JPG to PDF"}),S.jsx(Si.Link,{as:He,to:"/add-watermark",children:"Add Watermark"}),S.jsx(Si.Link,{as:He,to:"/add-page-numbers",children:"Add Page Numbers"}),S.jsx(Si.Link,{as:He,to:"/lock",children:"Lock PDF"}),S.jsx(Si.Link,{as:He,to:"/unlock",children:"Unlock PDF"}),S.jsx(Si.Link,{as:He,to:"/word-to-pdf",children:"Word to PDF"}),s==="admin"&&S.jsx(Si.Link,{as:He,to:"/admin",children:"Admin Panel"})]})}),S.jsx($e,{variant:"outline-secondary",onClick:()=>t(o==="light"?"dark":"light"),children:"Toggle Theme"}),e&&S.jsx($e,{variant:"outline-danger",onClick:d,className:"ms-2",children:"Logout"})]})]})}),S.jsx(ao,{className:"mt-4",children:S.jsxs(ZA,{children:[S.jsx(Je,{path:"/login",element:S.jsx(OC,{onLogin:c})}),S.jsx(Je,{path:"/",element:S.jsx(h,{children:S.jsx(NC,{})})}),S.jsx(Je,{path:"/merge",element:S.jsx(h,{children:S.jsx(nC,{})})}),S.jsx(Je,{path:"/split",element:S.jsx(h,{children:S.jsx(aC,{})})}),S.jsx(Je,{path:"/compress",element:S.jsx(h,{children:S.jsx(sC,{})})}),S.jsx(Je,{path:"/rotate",element:S.jsx(h,{children:S.jsx(rC,{})})}),S.jsx(Je,{path:"/jpg-to-pdf",element:S.jsx(h,{children:S.jsx(oC,{})})}),S.jsx(Je,{path:"/add-watermark",element:S.jsx(h,{children:S.jsx(lC,{})})}),S.jsx(Je,{path:"/add-page-numbers",element:S.jsx(h,{children:S.jsx(cC,{})})}),S.jsx(Je,{path:"/lock",element:S.jsx(h,{children:S.jsx(uC,{})})}),S.jsx(Je,{path:"/unlock",element:S.jsx(h,{children:S.jsx(dC,{})})}),S.jsx(Je,{path:"/word-to-pdf",element:S.jsx(h,{children:S.jsx(hC,{})})}),S.jsx(Je,{path:"/admin",element:S.jsx(h,{adminOnly:!0,children:S.jsx(kC,{})})})]})})]})}oA.createRoot(document.getElementById("root")).render(S.jsx(_.StrictMode,{children:S.jsx(ww,{children:S.jsx(LC,{})})}));
